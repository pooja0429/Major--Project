;/*FB_PKG_DELIM*/

/**
 * License: https://www.facebook.com/legal/license/oWar2RJI8Rv/
 */
__d("asn1js-2.1.1",["pvutils-1.0.17"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("pvutils-1.0.17")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});h.fromBER=X;h.compareSchema=Y;h.verifySchema=Z;h.fromJSON=$;h.RawData=h.Repeated=h.Any=h.Choice=h.TIME=h.Duration=h.DateTime=h.TimeOfDay=h.DATE=h.GeneralizedTime=h.UTCTime=h.CharacterString=h.GeneralString=h.VisibleString=h.GraphicString=h.IA5String=h.VideotexString=h.TeletexString=h.PrintableString=h.NumericString=h.UniversalString=h.BmpString=h.RelativeObjectIdentifier=h.Utf8String=h.ObjectIdentifier=h.Enumerated=h.Integer=h.BitString=h.OctetString=h.Null=h.Set=h.Sequence=h.Boolean=h.EndOfContent=h.Constructed=h.Primitive=h.BaseBlock=h.ValueBlock=h.HexBlock=void 0;var a=g();function b(a,b){var d;if(typeof Symbol==="undefined"||a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]==null){if(Array.isArray(a)||(d=c(a))||b&&a&&typeof a.length==="number"){d&&(a=d);var e=0;b=function(){};return{s:b,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f=!0,g=!1,h;return{s:function(){d=a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]()},n:function(){var a=d.next();f=a.done;return a},e:function(a){g=!0,h=a},f:function(){try{!f&&d["return"]!=null&&d["return"]()}finally{if(g)throw h}}}}function c(a,b){if(!a)return;if(typeof a==="string")return d(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return d(a,b)}function d(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}var e=[new Uint8Array([1])],f="0123456789",i=function(){function b(b){b===void 0&&(b={}),this.blockLength=a.getParametersValue(b,"blockLength",0),this.error=a.getParametersValue(b,"error",""),this.warnings=a.getParametersValue(b,"warnings",[]),"valueBeforeDecode"in b?this.valueBeforeDecode=b.valueBeforeDecode.slice(0):this.valueBeforeDecode=new ArrayBuffer(0)}b.blockName=function(){return"baseBlock"};var c=b.prototype;c.toJSON=function(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:a.bufferToHexCodes(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}};return b}();Z=function(b){return function(b){babelHelpers.inheritsLoose(c,b);function c(c){var d;c===void 0&&(c={});d=b.call(this,c)||this;d.isHexOnly=a.getParametersValue(c,"isHexOnly",!1);"valueHex"in c?d.valueHex=c.valueHex.slice(0):d.valueHex=new ArrayBuffer(0);return d}c.blockName=function(){return"hexBlock"};var d=c.prototype;d.fromBER=function(b,c,d){if(a.checkBufferParams(this,b,c,d)===!1)return-1;var e=new Uint8Array(b,c,d);if(e.length===0){this.warnings.push("Zero buffer length");return c}this.valueHex=b.slice(c,c+d);this.blockLength=d;return c+d};d.toBER=function(a){a===void 0&&(a=!1);if(this.isHexOnly!==!0){this.error='Flag "isHexOnly" is not set, abort';return new ArrayBuffer(0)}return a===!0?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)};d.toJSON=function(){var c={};try{c=b.prototype.toJSON.call(this)}catch(a){}c.blockName=this.constructor.blockName();c.isHexOnly=this.isHexOnly;c.valueHex=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);return c};return c}(b)};h.HexBlock=Z;var j=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this)||this;"idBlock"in b?(d.isHexOnly=a.getParametersValue(b.idBlock,"isHexOnly",!1),d.valueHex=a.getParametersValue(b.idBlock,"valueHex",new ArrayBuffer(0)),d.tagClass=a.getParametersValue(b.idBlock,"tagClass",-1),d.tagNumber=a.getParametersValue(b.idBlock,"tagNumber",-1),d.isConstructed=a.getParametersValue(b.idBlock,"isConstructed",!1)):(d.tagClass=-1,d.tagNumber=-1,d.isConstructed=!1);return d}b.blockName=function(){return"identificationBlock"};var d=b.prototype;d.toBER=function(b){b===void 0&&(b=!1);var c=0,d,e;switch(this.tagClass){case 1:c|=0;break;case 2:c|=64;break;case 3:c|=128;break;case 4:c|=192;break;default:this.error="Unknown tag class";return new ArrayBuffer(0)}this.isConstructed&&(c|=32);if(this.tagNumber<31&&!this.isHexOnly){d=new ArrayBuffer(1);e=new Uint8Array(d);if(!b){var f=this.tagNumber;f&=31;c|=f;e[0]=c}return d}if(this.isHexOnly===!1){f=a.utilToBase(this.tagNumber,7);var g=new Uint8Array(f);f=f.byteLength;d=new ArrayBuffer(f+1);e=new Uint8Array(d);e[0]=c|31;if(!b){for(var h=0;h<f-1;h++)e[h+1]=g[h]|128;e[f]=g[f-1]}return d}d=new ArrayBuffer(this.valueHex.byteLength+1);e=new Uint8Array(d);e[0]=c|31;if(b===!1){h=new Uint8Array(this.valueHex);for(g=0;g<h.length-1;g++)e[g+1]=h[g]|128;e[this.valueHex.byteLength]=h[h.length-1]}return d};d.fromBER=function(b,c,d){if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);if(b.length===0){this.error="Zero buffer length";return-1}d=b[0]&192;switch(d){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:this.error="Unknown tag class";return-1}this.isConstructed=(b[0]&32)===32;this.isHexOnly=!1;d=b[0]&31;if(d!==31)this.tagNumber=d,this.blockLength=1;else{d=1;this.valueHex=new ArrayBuffer(255);var e=255,f=new Uint8Array(this.valueHex);while(b[d]&128){f[d-1]=b[d]&127;d++;if(d>=b.length){this.error="End of input reached before message was fully decoded";return-1}if(d===e){e+=255;var g=new ArrayBuffer(e);g=new Uint8Array(g);for(var h=0;h<f.length;h++)g[h]=f[h];this.valueHex=new ArrayBuffer(e);f=new Uint8Array(this.valueHex)}}this.blockLength=d+1;f[d-1]=b[d]&127;g=new ArrayBuffer(d);h=new Uint8Array(g);for(e=0;e<d;e++)h[e]=f[e];this.valueHex=new ArrayBuffer(d);f=new Uint8Array(this.valueHex);f.set(h);this.blockLength<=9?this.tagNumber=a.utilFromBase(f,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:this.error="Constructed encoding used for primitive type";return-1;default:}return c+this.blockLength};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.blockName=this.constructor.blockName();a.tagClass=this.tagClass;a.tagNumber=this.tagNumber;a.isConstructed=this.isConstructed;return a};return b}(Z(i)),k=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this)||this;"lenBlock"in b?(d.isIndefiniteForm=a.getParametersValue(b.lenBlock,"isIndefiniteForm",!1),d.longFormUsed=a.getParametersValue(b.lenBlock,"longFormUsed",!1),d.length=a.getParametersValue(b.lenBlock,"length",0)):(d.isIndefiniteForm=!1,d.longFormUsed=!1,d.length=0);return d}b.blockName=function(){return"lengthBlock"};var d=b.prototype;d.fromBER=function(b,c,d){if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);if(b.length===0){this.error="Zero buffer length";return-1}if(b[0]===255){this.error="Length block 0xFF is reserved by standard";return-1}this.isIndefiniteForm=b[0]===128;if(this.isIndefiniteForm===!0){this.blockLength=1;return c+this.blockLength}this.longFormUsed=!!(b[0]&128);if(this.longFormUsed===!1){this.length=b[0];this.blockLength=1;return c+this.blockLength}d=b[0]&127;if(d>8){this.error="Too big integer";return-1}if(d+1>b.length){this.error="End of input reached before message was fully decoded";return-1}var e=new Uint8Array(d);for(var f=0;f<d;f++)e[f]=b[f+1];e[d-1]===0&&this.warnings.push("Needlessly long encoded length");this.length=a.utilFromBase(e,8);this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form");this.blockLength=d+1;return c+this.blockLength};d.toBER=function(b){b===void 0&&(b=!1);var c,d;this.length>127&&(this.longFormUsed=!0);if(this.isIndefiniteForm){c=new ArrayBuffer(1);b===!1&&(d=new Uint8Array(c),d[0]=128);return c}if(this.longFormUsed===!0){var e=a.utilToBase(this.length,8);if(e.byteLength>127){this.error="Too big length";return new ArrayBuffer(0)}c=new ArrayBuffer(e.byteLength+1);if(b===!0)return c;var f=new Uint8Array(e);d=new Uint8Array(c);d[0]=e.byteLength|128;for(var g=0;g<e.byteLength;g++)d[g+1]=f[g];return c}c=new ArrayBuffer(1);b===!1&&(d=new Uint8Array(c),d[0]=this.length);return c};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.blockName=this.constructor.blockName();a.isIndefiniteForm=this.isIndefiniteForm;a.longFormUsed=this.longFormUsed;a.length=this.length;return a};return b}(i),l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});return b.call(this,a)||this}a.blockName=function(){return"valueBlock"};var c=a.prototype;c.fromBER=function(a,b,c){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')};c.toBER=function(a){a===void 0;throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')};return a}(i);h.ValueBlock=l;var m=function(c){babelHelpers.inheritsLoose(b,c);function b(a,b){var d;a===void 0&&(a={});b===void 0&&(b=l);d=c.call(this,a)||this;"name"in a&&(d.name=a.name);"optional"in a&&(d.optional=a.optional);"primitiveSchema"in a&&(d.primitiveSchema=a.primitiveSchema);d.idBlock=new j(a);d.lenBlock=new k(a);d.valueBlock=new b(a);return d}b.blockName=function(){return"BaseBlock"};var d=b.prototype;d.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.toBER=function(b){b===void 0&&(b=!1);var c=this.idBlock.toBER(b),d=this.valueBlock.toBER(!0);this.lenBlock.length=d.byteLength;d=this.lenBlock.toBER(b);c=a.utilConcatBuf(c,d);b===!1?d=this.valueBlock.toBER(b):d=new ArrayBuffer(this.lenBlock.length);c=a.utilConcatBuf(c,d);if(this.lenBlock.isIndefiniteForm===!0){d=new ArrayBuffer(2);if(b===!1){b=new Uint8Array(d);b[0]=0;b[1]=0}c=a.utilConcatBuf(c,d)}return c};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.idBlock=this.idBlock.toJSON();a.lenBlock=this.lenBlock.toJSON();a.valueBlock=this.valueBlock.toJSON();"name"in this&&(a.name=this.name);"optional"in this&&(a.optional=this.optional);"primitiveSchema"in this&&(a.primitiveSchema=this.primitiveSchema.toJSON());return a};d.toString=function(){return this.constructor.blockName()+" : "+a.bufferToHexCodes(this.valueBlock.valueHex)};return b}(i);h.BaseBlock=m;var n=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;"valueHex"in b?d.valueHex=b.valueHex.slice(0):d.valueHex=new ArrayBuffer(0);d.isHexOnly=a.getParametersValue(b,"isHexOnly",!0);return d}var d=b.prototype;d.fromBER=function(b,c,d){if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);if(b.length===0){this.warnings.push("Zero buffer length");return c}this.valueHex=new ArrayBuffer(b.length);var e=new Uint8Array(this.valueHex);for(var f=0;f<b.length;f++)e[f]=b[f];this.blockLength=d;return c+d};d.toBER=function(a){a===void 0;return this.valueHex.slice(0)};b.blockName=function(){return"PrimitiveValueBlock"};d.toJSON=function(){var b={};try{b=c.prototype.toJSON.call(this)}catch(a){}b.valueHex=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);b.isHexOnly=this.isHexOnly;return b};return b}(l),o=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,n)||this;a.idBlock.isConstructed=!1;return a}a.blockName=function(){return"PRIMITIVE"};return a}(m);h.Primitive=o;var p=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.value=a.getParametersValue(b,"value",[]);d.isIndefiniteForm=a.getParametersValue(b,"isIndefiniteForm",!1);return d}var d=b.prototype;d.fromBER=function(b,c,d){var e=c,f=d;if(a.checkBufferParams(this,b,c,d)===!1)return-1;var g=new Uint8Array(b,c,d);if(g.length===0){this.warnings.push("Zero buffer length");return c}function h(a,b){return a===!0?1:b}g=c;while(h(this.isIndefiniteForm,d)>0){c=oa(b,g,d);if(c.offset===-1){this.error=c.result.error;this.warnings.concat(c.result.warnings);return-1}g=c.offset;this.blockLength+=c.result.blockLength;d-=c.result.blockLength;this.value.push(c.result);if(this.isIndefiniteForm===!0&&c.result.constructor.blockName()===r.blockName())break}this.isIndefiniteForm===!0&&(this.value[this.value.length-1].constructor.blockName()===r.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded"));this.valueBeforeDecode=b.slice(e,e+f);return g};d.toBER=function(b){b===void 0&&(b=!1);var c=new ArrayBuffer(0);for(var d=0;d<this.value.length;d++){var e=this.value[d].toBER(b);c=a.utilConcatBuf(c,e)}return c};b.blockName=function(){return"ConstructedValueBlock"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.isIndefiniteForm=this.isIndefiniteForm;a.value=[];for(var b=0;b<this.value.length;b++)a.value.push(this.value[b].toJSON());return a};return b}(l),q=function(c){babelHelpers.inheritsLoose(a,c);function a(a){a===void 0&&(a={});a=c.call(this,a,p)||this;a.idBlock.isConstructed=!0;return a}a.blockName=function(){return"CONSTRUCTED"};var d=a.prototype;d.fromBER=function(a,b,c){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.toString=function(){var a=[],c=b(this.valueBlock.value),d;try{for(c.s();!(d=c.n()).done;){d=d.value;a.push(d.toString().split("\n").map(function(a){return"  "+a}).join("\n"))}}catch(a){c.e(a)}finally{c.f()}d=this.idBlock.tagClass===3?"["+this.idBlock.tagNumber+"]":this.constructor.blockName();return a.length?d+" :\n"+a.join("\n"):d+" :"};return a}(m);h.Constructed=q;var aa=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});return b.call(this,a)||this}var c=a.prototype;c.fromBER=function(a,b,c){return b};c.toBER=function(a){a===void 0;return new ArrayBuffer(0)};a.blockName=function(){return"EndOfContentValueBlock"};return a}(l),r=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,aa)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=0;return a}a.blockName=function(){return"EndOfContent"};return a}(m);h.EndOfContent=r;var ba=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.value=a.getParametersValue(b,"value",!1);d.isHexOnly=a.getParametersValue(b,"isHexOnly",!1);if("valueHex"in b)d.valueHex=b.valueHex.slice(0);else{d.valueHex=new ArrayBuffer(1);if(d.value===!0){b=new Uint8Array(d.valueHex);b[0]=255}}return d}var d=b.prototype;d.fromBER=function(b,c,d){if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);d>1&&this.warnings.push("Boolean value encoded in more then 1 octet");this.isHexOnly=!0;this.valueHex=new ArrayBuffer(b.length);var e=new Uint8Array(this.valueHex);for(var f=0;f<b.length;f++)e[f]=b[f];a.utilDecodeTC.call(this)!==0?this.value=!0:this.value=!1;this.blockLength=d;return c+d};d.toBER=function(a){a===void 0;return this.valueHex};b.blockName=function(){return"BooleanValueBlock"};d.toJSON=function(){var b={};try{b=c.prototype.toJSON.call(this)}catch(a){}b.value=this.value;b.isHexOnly=this.isHexOnly;b.valueHex=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);return b};return b}(l),s=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,ba)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=1;return a}a.blockName=function(){return"BOOLEAN"};var c=a.prototype;c.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};return a}(m);h.Boolean=s;var t=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=16;return a}a.blockName=function(){return"SEQUENCE"};return a}(q);h.Sequence=t;var u=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=17;return a}a.blockName=function(){return"SET"};return a}(q);h.Set=u;var v=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,i)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=5;return a}a.blockName=function(){return"NULL"};var c=a.prototype;c.fromBER=function(a,b,c){this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type");this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.blockLength+=c;if(b+c>a.byteLength){this.error="End of input reached before message was fully decoded (inconsistent offset and length values)";return-1}return b+c};c.toBER=function(a){a===void 0&&(a=!1);var b=new ArrayBuffer(2);if(a===!0)return b;a=new Uint8Array(b);a[0]=5;a[1]=0;return b};c.toString=function(){return""+this.constructor.blockName()};return a}(m);h.Null=v;var ca=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.isConstructed=a.getParametersValue(b,"isConstructed",!1);return d}var d=b.prototype;d.fromBER=function(a,b,d){var e=0;if(this.isConstructed===!0){this.isHexOnly=!1;e=p.prototype.fromBER.call(this,a,b,d);if(e===-1)return e;for(var f=0;f<this.value.length;f++){var g=this.value[f].constructor.blockName();if(g===r.blockName())if(this.isIndefiniteForm===!0)break;else{this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only";return-1}if(g!==w.blockName()){this.error="OCTET STRING may consists of OCTET STRINGs only";return-1}}}else this.isHexOnly=!0,e=c.prototype.fromBER.call(this,a,b,d),this.blockLength=d;return e};d.toBER=function(a){a===void 0&&(a=!1);if(this.isConstructed===!0)return p.prototype.toBER.call(this,a);var b=new ArrayBuffer(this.valueHex.byteLength);if(a===!0)return b;if(this.valueHex.byteLength===0)return b;b=this.valueHex.slice(0);return b};b.blockName=function(){return"OctetStringValueBlock"};d.toJSON=function(){var b={};try{b=c.prototype.toJSON.call(this)}catch(a){}b.isConstructed=this.isConstructed;b.isHexOnly=this.isHexOnly;b.valueHex=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);return b};return b}(Z(p)),w=function(c){babelHelpers.inheritsLoose(b,c);function b(a){a===void 0&&(a={});a=c.call(this,a,ca)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=4;return a}var d=b.prototype;d.fromBER=function(a,b,d){this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;if(d===0){this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);return b}if(!this.valueBlock.isConstructed){var e=a.slice(b,b+d);try{e=X(e);e.offset!==-1&&e.offset===d&&(this.valueBlock.value=[e.result])}catch(a){}}return c.prototype.fromBER.call(this,a,b,d)};b.blockName=function(){return"OCTET STRING"};d.isEqual=function(a){if(a instanceof b===!1)return!1;return JSON.stringify(this)!==JSON.stringify(a)?!1:!0};d.toString=function(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return q.prototype.toString.call(this);else return this.constructor.blockName()+" : "+a.bufferToHexCodes(this.valueBlock.valueHex)};return b}(m);h.OctetString=w;var da=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.unusedBits=a.getParametersValue(b,"unusedBits",0);d.isConstructed=a.getParametersValue(b,"isConstructed",!1);d.blockLength=d.valueHex.byteLength;return d}var d=b.prototype;d.fromBER=function(b,c,d){if(d===0)return c;var e=-1;if(this.isConstructed===!0){e=p.prototype.fromBER.call(this,b,c,d);if(e===-1)return e;for(var f=0;f<this.value.length;f++){var g=this.value[f].constructor.blockName();if(g===r.blockName())if(this.isIndefiniteForm===!0)break;else{this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only";return-1}if(g!==x.blockName()){this.error="BIT STRING may consists of BIT STRINGs only";return-1}if(this.unusedBits>0&&this.value[f].valueBlock.unusedBits>0){this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only';return-1}this.unusedBits=this.value[f].valueBlock.unusedBits;if(this.unusedBits>7){this.error="Unused bits for BitString must be in range 0-7";return-1}}return e}if(a.checkBufferParams(this,b,c,d)===!1)return-1;g=new Uint8Array(b,c,d);this.unusedBits=g[0];if(this.unusedBits>7){this.error="Unused bits for BitString must be in range 0-7";return-1}if(!this.unusedBits){f=b.slice(c+1,c+d);try{e=X(f);e.offset!==-1&&e.offset===d-1&&(this.value=[e.result])}catch(a){}}this.valueHex=new ArrayBuffer(g.length-1);b=new Uint8Array(this.valueHex);for(f=0;f<d-1;f++)b[f]=g[f+1];this.blockLength=g.length;return c+d};d.toBER=function(a){a===void 0&&(a=!1);if(this.isConstructed===!0)return p.prototype.toBER.call(this,a);if(a===!0)return new ArrayBuffer(this.valueHex.byteLength+1);if(this.valueHex.byteLength===0)return new ArrayBuffer(0);a=new Uint8Array(this.valueHex);var b=new ArrayBuffer(this.valueHex.byteLength+1),c=new Uint8Array(b);c[0]=this.unusedBits;for(var d=0;d<this.valueHex.byteLength;d++)c[d+1]=a[d];return b};b.blockName=function(){return"BitStringValueBlock"};d.toJSON=function(){var b={};try{b=c.prototype.toJSON.call(this)}catch(a){}b.unusedBits=this.unusedBits;b.isConstructed=this.isConstructed;b.isHexOnly=this.isHexOnly;b.valueHex=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);return b};return b}(Z(p)),x=function(c){babelHelpers.inheritsLoose(a,c);function a(a){a===void 0&&(a={});a=c.call(this,a,da)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=3;return a}a.blockName=function(){return"BIT STRING"};var d=a.prototype;d.fromBER=function(a,b,d){if(d===0)return b;this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;return c.prototype.fromBER.call(this,a,b,d)};d.isEqual=function(b){if(b instanceof a===!1)return!1;return JSON.stringify(this)!==JSON.stringify(b)?!1:!0};d.toString=function(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return q.prototype.toString.call(this);else{var a=[],c=new Uint8Array(this.valueBlock.valueHex);c=b(c);var d;try{for(c.s();!(d=c.n()).done;){d=d.value;a.push(d.toString(2).padStart(8,"0"))}}catch(a){c.e(a)}finally{c.f()}return this.constructor.blockName()+" : "+a.join("")}};return a}(m);h.BitString=x;var ea=function(c){babelHelpers.inheritsLoose(b,c);function b(a){var b;a===void 0&&(a={});b=c.call(this,a)||this;"value"in a&&(b.valueDec=a.value);return b}var d=b.prototype;d.fromDER=function(a,b,c,d){d===void 0&&(d=0);a=this.fromBER(a,b,c);if(a===-1)return a;b=new Uint8Array(this.$LocalIntegerValueBlock1);if(b[0]===0&&(b[1]&128)!==0){c=new ArrayBuffer(this.$LocalIntegerValueBlock1.byteLength-1);var e=new Uint8Array(c);e.set(new Uint8Array(this.$LocalIntegerValueBlock1,1,this.$LocalIntegerValueBlock1.byteLength-1));this.$LocalIntegerValueBlock1=c.slice(0)}else if(d!==0&&this.$LocalIntegerValueBlock1.byteLength<d){d-this.$LocalIntegerValueBlock1.byteLength>1&&(d=this.$LocalIntegerValueBlock1.byteLength+1);e=new ArrayBuffer(d);c=new Uint8Array(e);c.set(b,d-this.$LocalIntegerValueBlock1.byteLength);this.$LocalIntegerValueBlock1=e.slice(0)}return a};d.toDER=function(a){a===void 0&&(a=!1);var b=new Uint8Array(this.$LocalIntegerValueBlock1);switch(!0){case(b[0]&128)!==0:var c=new ArrayBuffer(this.$LocalIntegerValueBlock1.byteLength+1),d=new Uint8Array(c);d[0]=0;d.set(b,1);this.$LocalIntegerValueBlock1=c.slice(0);break;case b[0]===0&&(b[1]&128)===0:d=new ArrayBuffer(this.$LocalIntegerValueBlock1.byteLength-1);c=new Uint8Array(d);c.set(new Uint8Array(this.$LocalIntegerValueBlock1,1,this.$LocalIntegerValueBlock1.byteLength-1));this.$LocalIntegerValueBlock1=d.slice(0);break;default:}return this.toBER(a)};d.fromBER=function(a,b,d){a=c.prototype.fromBER.call(this,a,b,d);if(a===-1)return a;this.blockLength=d;return b+d};d.toBER=function(a){a===void 0;return this.valueHex.slice(0)};b.blockName=function(){return"IntegerValueBlock"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.valueDec=this.valueDec;return a};d.toString=function(){function b(b,c){var d=new Uint8Array([0]);b=new Uint8Array(b);c=new Uint8Array(c);b=b.slice(0);var e=b.length-1;c=c.slice(0);var f=c.length-1,g=0,h=f<e?e:f,i=0;for(h=h;h>=0;h--,i++){switch(!0){case i<c.length:g=b[e-i]+c[f-i]+d[0];break;default:g=b[e-i]+d[0]}d[0]=g/10;switch(!0){case i>=b.length:b=a.utilConcatView(new Uint8Array([g%10]),b);break;default:b[e-i]=g%10}}d[0]>0&&(b=a.utilConcatView(d,b));return b.slice(0)}function c(c){if(c>=e.length)for(var d=e.length;d<=c;d++){var f=new Uint8Array([0]),g=e[d-1].slice(0);for(var b=g.length-1;b>=0;b--){var h=new Uint8Array([(g[b]<<1)+f[0]]);f[0]=h[0]/10;g[b]=h[0]%10}f[0]>0&&(g=a.utilConcatView(f,g));e.push(g)}return e[c]}function d(b,c){var d=0;b=new Uint8Array(b);c=new Uint8Array(c);b=b.slice(0);var e=b.length-1;c=c.slice(0);var f=c.length-1,g,h=0;for(var a=f;a>=0;a--,h++){g=b[e-h]-c[f-h]-d;switch(!0){case g<0:d=1;b[e-h]=g+10;break;default:d=0,b[e-h]=g}}if(d>0)for(a=e-f+1;a>=0;a--,h++){g=b[e-h]-d;if(g<0)d=1,b[e-h]=g+10;else{d=0;b[e-h]=g;break}}return b.slice()}var g=this.$LocalIntegerValueBlock1.byteLength*8-1,h=new Uint8Array(this.$LocalIntegerValueBlock1.byteLength*8/3),i=0,j,k=new Uint8Array(this.$LocalIntegerValueBlock1),l="",m=!1;for(var n=this.$LocalIntegerValueBlock1.byteLength-1;n>=0;n--){j=k[n];for(var o=0;o<8;o++){if((j&1)===1)switch(i){case g:h=d(c(i),h);l="-";break;default:h=b(h,c(i))}i++;j>>=1}}for(j=0;j<h.length;j++)h[j]&&(m=!0),m&&(l+=f.charAt(h[j]));m===!1&&(l+=f.charAt(0));return l};babelHelpers.createClass(b,[{key:"valueHex",set:function(b){this.$LocalIntegerValueBlock1=b.slice(0),b.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this.$LocalIntegerValueBlock2=0):(this.isHexOnly=!1,b.byteLength>0&&(this.$LocalIntegerValueBlock2=a.utilDecodeTC.call(this)))},get:function(){return this.$LocalIntegerValueBlock1}},{key:"valueDec",set:function(b){this.$LocalIntegerValueBlock2=b,this.isHexOnly=!1,this.$LocalIntegerValueBlock1=a.utilEncodeTC(b)},get:function(){return this.$LocalIntegerValueBlock2}}]);return b}(Z(l)),y=function(c){babelHelpers.inheritsLoose(b,c);function b(a){a===void 0&&(a={});a=c.call(this,a,ea)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=2;return a}b.blockName=function(){return"INTEGER"};var d=b.prototype;d.isEqual=function(c){if(c instanceof b){if(this.valueBlock.isHexOnly&&c.valueBlock.isHexOnly)return a.isEqualBuffer(this.valueBlock.valueHex,c.valueBlock.valueHex);return this.valueBlock.isHexOnly===c.valueBlock.isHexOnly?this.valueBlock.valueDec===c.valueBlock.valueDec:!1}return c instanceof ArrayBuffer?a.isEqualBuffer(this.valueBlock.valueHex,c):!1};d.convertToDER=function(){var a=new b({valueHex:this.valueBlock.valueHex});a.valueBlock.toDER();return a};d.convertFromDER=function(){var a=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,c=new b({valueHex:this.valueBlock.valueHex});c.valueBlock.fromDER(c.valueBlock.valueHex,0,c.valueBlock.valueHex.byteLength,a);return c};d.toString=function(){var b=a.bufferToHexCodes(this.valueBlock.valueHex);b=BigInt("0x"+b);return this.constructor.blockName()+" : "+b.toString()};return b}(m);h.Integer=y;var z=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=10;return a}a.blockName=function(){return"ENUMERATED"};return a}(y);h.Enumerated=z;var A=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.valueDec=a.getParametersValue(b,"valueDec",-1);d.isFirstSid=a.getParametersValue(b,"isFirstSid",!1);return d}b.blockName=function(){return"sidBlock"};var d=b.prototype;d.fromBER=function(b,c,d){if(d===0)return c;if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);this.valueHex=new ArrayBuffer(d);var e=new Uint8Array(this.valueHex);for(var f=0;f<d;f++){e[f]=b[f]&127;this.blockLength++;if((b[f]&128)===0)break}f=new ArrayBuffer(this.blockLength);d=new Uint8Array(f);for(var g=0;g<this.blockLength;g++)d[g]=e[g];this.valueHex=f.slice(0);e=new Uint8Array(this.valueHex);if((b[this.blockLength-1]&128)!==0){this.error="End of input reached before message was fully decoded";return-1}e[0]===0&&this.warnings.push("Needlessly long format of SID encoding");this.blockLength<=8?this.valueDec=a.utilFromBase(e,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only"));return c+this.blockLength};d.toBER=function(b){b===void 0&&(b=!1);var c,d;if(this.isHexOnly){if(b===!0)return new ArrayBuffer(this.valueHex.byteLength);var e=new Uint8Array(this.valueHex);c=new ArrayBuffer(this.blockLength);d=new Uint8Array(c);for(var f=0;f<this.blockLength-1;f++)d[f]=e[f]|128;d[this.blockLength-1]=e[this.blockLength-1];return c}f=a.utilToBase(this.valueDec,7);if(f.byteLength===0){this.error="Error during encoding SID value";return new ArrayBuffer(0)}c=new ArrayBuffer(f.byteLength);if(b===!1){e=new Uint8Array(f);d=new Uint8Array(c);for(b=0;b<f.byteLength-1;b++)d[b]=e[b]|128;d[f.byteLength-1]=e[f.byteLength-1]}return c};d.toString=function(){var b;if(this.isHexOnly===!0)b=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){var c=this.valueDec;this.valueDec<=39?b="0.":this.valueDec<=79?(b="1.",c-=40):(b="2.",c-=80);b+=c.toString()}else b=this.valueDec.toString();return b};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.valueDec=this.valueDec;a.isFirstSid=this.isFirstSid;return a};return b}(Z(i)),fa=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.fromString(a.getParametersValue(b,"value",""));return d}var d=b.prototype;d.fromBER=function(a,b,c){b=b;while(c>0){var d=new A();b=d.fromBER(a,b,c);if(b===-1){this.blockLength=0;this.error=d.error;return b}this.value.length===0&&(d.isFirstSid=!0);this.blockLength+=d.blockLength;c-=d.blockLength;this.value.push(d)}return b};d.toBER=function(b){b===void 0&&(b=!1);var c=new ArrayBuffer(0);for(var d=0;d<this.value.length;d++){var e=this.value[d].toBER(b);if(e.byteLength===0){this.error=this.value[d].error;return new ArrayBuffer(0)}c=a.utilConcatBuf(c,e)}return c};d.fromString=function(a){this.value=[];var b=0,c=0,d="",e=!1;do{c=a.indexOf(".",b);c===-1?d=a.substr(b):d=a.substr(b,c-b);b=c+1;if(e){var f=this.value[0],g=0;switch(f.valueDec){case 0:break;case 1:g=40;break;case 2:g=80;break;default:this.value=[];return!1}var h=parseInt(d,10);if(isNaN(h))return!0;f.valueDec=h+g;e=!1}else{f=new A();f.valueDec=parseInt(d,10);if(isNaN(f.valueDec))return!0;this.value.length===0&&(f.isFirstSid=!0,e=!0);this.value.push(f)}}while(c!==-1);return!0};d.toString=function(){var a="",b=!1;for(var c=0;c<this.value.length;c++){b=this.value[c].isHexOnly;var d=this.value[c].toString();c!==0&&(a=a+".");b?(d="{"+d+"}",this.value[c].isFirstSid?a="2.{"+d+" - 80}":a+=d):a+=d}return a};b.blockName=function(){return"ObjectIdentifierValueBlock"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.value=this.toString();a.sidArray=[];for(var b=0;b<this.value.length;b++)a.sidArray.push(this.value[b].toJSON());return a};return b}(l),B=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,fa)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=6;return a}a.blockName=function(){return"OBJECT IDENTIFIER"};var c=a.prototype;c.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.toString()};return a}(m);h.ObjectIdentifier=B;var ga=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.isHexOnly=!0;a.value="";return a}a.blockName=function(){return"Utf8StringValueBlock"};var c=a.prototype;c.toJSON=function(){var a={};try{a=b.prototype.toJSON.call(this)}catch(a){}a.value=this.value;return a};return a}(Z(i)),C=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;a===void 0&&(a={});c=b.call(this,a,ga)||this;"value"in a&&c.fromString(a.value);c.idBlock.tagClass=1;c.idBlock.tagNumber=12;return c}a.blockName=function(){return"UTF8String"};var c=a.prototype;c.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};c.fromBuffer=function(a){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(a));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(a){this.warnings.push('Error during "decodeURIComponent": '+a+", using raw string")}};c.fromString=function(a){var b=unescape(encodeURIComponent(a)),c=b.length;this.valueBlock.valueHex=new ArrayBuffer(c);var d=new Uint8Array(this.valueBlock.valueHex);for(var e=0;e<c;e++)d[e]=b.charCodeAt(e);this.valueBlock.value=a};c.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};return a}(m);h.Utf8String=C;var D=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.valueDec=a.getParametersValue(b,"valueDec",-1);return d}b.blockName=function(){return"relativeSidBlock"};var d=b.prototype;d.fromBER=function(b,c,d){if(d===0)return c;if(a.checkBufferParams(this,b,c,d)===!1)return-1;b=new Uint8Array(b,c,d);this.valueHex=new ArrayBuffer(d);var e=new Uint8Array(this.valueHex);for(var f=0;f<d;f++){e[f]=b[f]&127;this.blockLength++;if((b[f]&128)===0)break}f=new ArrayBuffer(this.blockLength);d=new Uint8Array(f);for(var g=0;g<this.blockLength;g++)d[g]=e[g];this.valueHex=f.slice(0);e=new Uint8Array(this.valueHex);if((b[this.blockLength-1]&128)!==0){this.error="End of input reached before message was fully decoded";return-1}e[0]===0&&this.warnings.push("Needlessly long format of SID encoding");this.blockLength<=8?this.valueDec=a.utilFromBase(e,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only"));return c+this.blockLength};d.toBER=function(b){b===void 0&&(b=!1);var c,d;if(this.isHexOnly){if(b===!0)return new ArrayBuffer(this.valueHex.byteLength);var e=new Uint8Array(this.valueHex);c=new ArrayBuffer(this.blockLength);d=new Uint8Array(c);for(var f=0;f<this.blockLength-1;f++)d[f]=e[f]|128;d[this.blockLength-1]=e[this.blockLength-1];return c}f=a.utilToBase(this.valueDec,7);if(f.byteLength===0){this.error="Error during encoding SID value";return new ArrayBuffer(0)}c=new ArrayBuffer(f.byteLength);if(b===!1){e=new Uint8Array(f);d=new Uint8Array(c);for(b=0;b<f.byteLength-1;b++)d[b]=e[b]|128;d[f.byteLength-1]=e[f.byteLength-1]}return c};d.toString=function(){var b;this.isHexOnly===!0?b=a.bufferToHexCodes(this.valueHex,0,this.valueHex.byteLength):b=this.valueDec.toString();return b};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.valueDec=this.valueDec;return a};return b}(Z(i)),ha=function(c){babelHelpers.inheritsLoose(b,c);function b(b){var d;b===void 0&&(b={});d=c.call(this,b)||this;d.fromString(a.getParametersValue(b,"value",""));return d}var d=b.prototype;d.fromBER=function(a,b,c){b=b;while(c>0){var d=new D();b=d.fromBER(a,b,c);if(b===-1){this.blockLength=0;this.error=d.error;return b}this.blockLength+=d.blockLength;c-=d.blockLength;this.value.push(d)}return b};d.toBER=function(b){b===void 0&&(b=!1);var c=new ArrayBuffer(0);for(var d=0;d<this.value.length;d++){var e=this.value[d].toBER(b);if(e.byteLength===0){this.error=this.value[d].error;return new ArrayBuffer(0)}c=a.utilConcatBuf(c,e)}return c};d.fromString=function(a){this.value=[];var b=0,c=0,d="";do{c=a.indexOf(".",b);c===-1?d=a.substr(b):d=a.substr(b,c-b);b=c+1;var e=new D();e.valueDec=parseInt(d,10);if(isNaN(e.valueDec))return!0;this.value.push(e)}while(c!==-1);return!0};d.toString=function(){var a="",b=!1;for(var c=0;c<this.value.length;c++){b=this.value[c].isHexOnly;var d=this.value[c].toString();c!==0&&(a=a+".");b?(d="{"+d+"}",a+=d):a+=d}return a};b.blockName=function(){return"RelativeObjectIdentifierValueBlock"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.value=this.toString();a.sidArray=[];for(var b=0;b<this.value.length;b++)a.sidArray.push(this.value[b].toJSON());return a};return b}(l),E=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a,ha)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=13;return a}a.blockName=function(){return"RelativeObjectIdentifier"};return a}(m);h.RelativeObjectIdentifier=E;var ia=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.isHexOnly=!0;a.value="";return a}a.blockName=function(){return"BmpStringValueBlock"};var c=a.prototype;c.toJSON=function(){var a={};try{a=b.prototype.toJSON.call(this)}catch(a){}a.value=this.value;return a};return a}(Z(i)),F=function(c){babelHelpers.inheritsLoose(b,c);function b(a){var b;a===void 0&&(a={});b=c.call(this,a,ia)||this;"value"in a&&b.fromString(a.value);b.idBlock.tagClass=1;b.idBlock.tagNumber=30;return b}b.blockName=function(){return"BMPString"};var d=b.prototype;d.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.fromBuffer=function(a){a=a.slice(0);var b=new Uint8Array(a);for(var c=0;c<b.length;c+=2){var d=b[c];b[c]=b[c+1];b[c+1]=d}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(a))};d.fromString=function(b){var c=b.length;this.valueBlock.valueHex=new ArrayBuffer(c*2);var d=new Uint8Array(this.valueBlock.valueHex);for(var e=0;e<c;e++){var f=a.utilToBase(b.charCodeAt(e),8);f=new Uint8Array(f);if(f.length>2)continue;var g=2-f.length;for(var h=f.length-1;h>=0;h--)d[e*2+h+g]=f[h]}this.valueBlock.value=b};d.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};return b}(m);h.BmpString=F;var ja=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.isHexOnly=!0;a.value="";return a}a.blockName=function(){return"UniversalStringValueBlock"};var c=a.prototype;c.toJSON=function(){var a={};try{a=b.prototype.toJSON.call(this)}catch(a){}a.value=this.value;return a};return a}(Z(i)),G=function(c){babelHelpers.inheritsLoose(b,c);function b(a){var b;a===void 0&&(a={});b=c.call(this,a,ja)||this;"value"in a&&b.fromString(a.value);b.idBlock.tagClass=1;b.idBlock.tagNumber=28;return b}b.blockName=function(){return"UniversalString"};var d=b.prototype;d.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.fromBuffer=function(a){a=a.slice(0);var b=new Uint8Array(a);for(var c=0;c<b.length;c+=4)b[c]=b[c+3],b[c+1]=b[c+2],b[c+2]=0,b[c+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(a))};d.fromString=function(b){var c=b.length;this.valueBlock.valueHex=new ArrayBuffer(c*4);var d=new Uint8Array(this.valueBlock.valueHex);for(var e=0;e<c;e++){var f=a.utilToBase(b.charCodeAt(e),8);f=new Uint8Array(f);if(f.length>4)continue;var g=4-f.length;for(var h=f.length-1;h>=0;h--)d[e*4+h+g]=f[h]}this.valueBlock.value=b};d.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};return b}(m);h.UniversalString=G;var ka=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.value="";a.isHexOnly=!0;return a}a.blockName=function(){return"SimpleStringValueBlock"};var c=a.prototype;c.toJSON=function(){var a={};try{a=b.prototype.toJSON.call(this)}catch(a){}a.value=this.value;return a};return a}(Z(i));$=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b===void 0&&(b={});c=a.call(this,b,ka)||this;"value"in b&&c.fromString(b.value);return c}b.blockName=function(){return"SIMPLESTRING"};var c=b.prototype;c.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};c.fromBuffer=function(a){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(a))};c.fromString=function(a){var b=a.length;this.valueBlock.valueHex=new ArrayBuffer(b);var c=new Uint8Array(this.valueBlock.valueHex);for(var d=0;d<b;d++)c[d]=a.charCodeAt(d);this.valueBlock.value=a};c.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};return b}(m);var H=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=18;return a}a.blockName=function(){return"NumericString"};return a}($);h.NumericString=H;var I=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=19;return a}a.blockName=function(){return"PrintableString"};return a}($);h.PrintableString=I;var J=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=20;return a}a.blockName=function(){return"TeletexString"};return a}($);h.TeletexString=J;var K=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=21;return a}a.blockName=function(){return"VideotexString"};return a}($);h.VideotexString=K;var L=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=22;return a}a.blockName=function(){return"IA5String"};return a}($);h.IA5String=L;var M=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=25;return a}a.blockName=function(){return"GraphicString"};return a}($);h.GraphicString=M;var N=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=26;return a}a.blockName=function(){return"VisibleString"};return a}($);h.VisibleString=N;var O=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=27;return a}a.blockName=function(){return"GeneralString"};return a}($);h.GeneralString=O;var P=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=29;return a}a.blockName=function(){return"CharacterString"};return a}($);h.CharacterString=P;var Q=function(c){babelHelpers.inheritsLoose(b,c);function b(a){var b;a===void 0&&(a={});b=c.call(this,a)||this;b.year=0;b.month=0;b.day=0;b.hour=0;b.minute=0;b.second=0;if("value"in a){b.fromString(a.value);b.valueBlock.valueHex=new ArrayBuffer(a.value.length);var d=new Uint8Array(b.valueBlock.valueHex);for(var e=0;e<a.value.length;e++)d[e]=a.value.charCodeAt(e)}"valueDate"in a&&(b.fromDate(a.valueDate),b.valueBlock.valueHex=b.toBuffer());b.idBlock.tagClass=1;b.idBlock.tagNumber=23;return b}var d=b.prototype;d.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.fromBuffer=function(a){this.fromString(String.fromCharCode.apply(null,new Uint8Array(a)))};d.toBuffer=function(){var a=this.toString(),b=new ArrayBuffer(a.length),c=new Uint8Array(b);for(var d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return b};d.fromDate=function(a){this.year=a.getUTCFullYear(),this.month=a.getUTCMonth()+1,this.day=a.getUTCDate(),this.hour=a.getUTCHours(),this.minute=a.getUTCMinutes(),this.second=a.getUTCSeconds()};d.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))};d.fromString=function(a){var b=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi;b=b.exec(a);if(b===null){this.error="Wrong input string for convertion";return}a=parseInt(b[1],10);a>=50?this.year=1900+a:this.year=2e3+a;this.month=parseInt(b[2],10);this.day=parseInt(b[3],10);this.hour=parseInt(b[4],10);this.minute=parseInt(b[5],10);this.second=parseInt(b[6],10)};d.toString=function(){var b=new Array(7);b[0]=a.padNumber(this.year<2e3?this.year-1900:this.year-2e3,2);b[1]=a.padNumber(this.month,2);b[2]=a.padNumber(this.day,2);b[3]=a.padNumber(this.hour,2);b[4]=a.padNumber(this.minute,2);b[5]=a.padNumber(this.second,2);b[6]="Z";return b.join("")};b.blockName=function(){return"UTCTime"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.year=this.year;a.month=this.month;a.day=this.day;a.hour=this.hour;a.minute=this.minute;a.second=this.second;return a};return b}(N);h.UTCTime=Q;var R=function(c){babelHelpers.inheritsLoose(b,c);function b(a){var b;a===void 0&&(a={});b=c.call(this,a)||this;b.year=0;b.month=0;b.day=0;b.hour=0;b.minute=0;b.second=0;b.millisecond=0;if("value"in a){b.fromString(a.value);b.valueBlock.valueHex=new ArrayBuffer(a.value.length);var d=new Uint8Array(b.valueBlock.valueHex);for(var e=0;e<a.value.length;e++)d[e]=a.value.charCodeAt(e)}"valueDate"in a&&(b.fromDate(a.valueDate),b.valueBlock.valueHex=b.toBuffer());b.idBlock.tagClass=1;b.idBlock.tagNumber=24;return b}var d=b.prototype;d.fromBER=function(a,b,c){a=this.valueBlock.fromBER(a,b,this.lenBlock.isIndefiniteForm===!0?c:this.lenBlock.length);if(a===-1){this.error=this.valueBlock.error;return a}this.fromBuffer(this.valueBlock.valueHex);this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength);this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength);this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength);return a};d.fromBuffer=function(a){this.fromString(String.fromCharCode.apply(null,new Uint8Array(a)))};d.toBuffer=function(){var a=this.toString(),b=new ArrayBuffer(a.length),c=new Uint8Array(b);for(var d=0;d<a.length;d++)c[d]=a.charCodeAt(d);return b};d.fromDate=function(a){this.year=a.getUTCFullYear(),this.month=a.getUTCMonth()+1,this.day=a.getUTCDate(),this.hour=a.getUTCHours(),this.minute=a.getUTCMinutes(),this.second=a.getUTCSeconds(),this.millisecond=a.getUTCMilliseconds()};d.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))};d.fromString=function(a){var b=!1,c="",d="",e=0,f,g=0,h=0;if(a[a.length-1]==="Z")c=a.substr(0,a.length-1),b=!0;else{var i=new Number(a[a.length-1]);if(isNaN(i.valueOf()))throw new Error("Wrong input string for convertion");c=a}if(b){if(c.indexOf("+")!==-1)throw new Error("Wrong input string for convertion");if(c.indexOf("-")!==-1)throw new Error("Wrong input string for convertion")}else{i=1;a=c.indexOf("+");var j="";a===-1&&(a=c.indexOf("-"),i=-1);if(a!==-1){j=c.substr(a+1);c=c.substr(0,a);if(j.length!==2&&j.length!==4)throw new Error("Wrong input string for convertion");a=new Number(j.substr(0,2));if(isNaN(a.valueOf()))throw new Error("Wrong input string for convertion");g=i*a;if(j.length===4){a=new Number(j.substr(2,2));if(isNaN(a.valueOf()))throw new Error("Wrong input string for convertion");h=i*a}}}j=c.indexOf(".");j===-1&&(j=c.indexOf(","));if(j!==-1){i=new Number("0"+c.substr(j));if(isNaN(i.valueOf()))throw new Error("Wrong input string for convertion");e=i.valueOf();d=c.substr(0,j)}else d=c;switch(!0){case d.length===8:f=/(\d{4})(\d{2})(\d{2})/gi;if(j!==-1)throw new Error("Wrong input string for convertion");break;case d.length===10:f=/(\d{4})(\d{2})(\d{2})(\d{2})/gi;if(j!==-1){a=60*e;this.minute=Math.floor(a);a=60*(a-this.minute);this.second=Math.floor(a);a=1e3*(a-this.second);this.millisecond=Math.floor(a)}break;case d.length===12:f=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi;if(j!==-1){i=60*e;this.second=Math.floor(i);i=1e3*(i-this.second);this.millisecond=Math.floor(i)}break;case d.length===14:f=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi;if(j!==-1){c=1e3*e;this.millisecond=Math.floor(c)}break;default:throw new Error("Wrong input string for convertion")}a=f.exec(d);if(a===null)throw new Error("Wrong input string for convertion");for(i=1;i<a.length;i++)switch(i){case 1:this.year=parseInt(a[i],10);break;case 2:this.month=parseInt(a[i],10);break;case 3:this.day=parseInt(a[i],10);break;case 4:this.hour=parseInt(a[i],10)+g;break;case 5:this.minute=parseInt(a[i],10)+h;break;case 6:this.second=parseInt(a[i],10);break;default:throw new Error("Wrong input string for convertion")}if(b===!1){j=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=j.getUTCFullYear();this.month=j.getUTCMonth();this.day=j.getUTCDay();this.hour=j.getUTCHours();this.minute=j.getUTCMinutes();this.second=j.getUTCSeconds();this.millisecond=j.getUTCMilliseconds()}};d.toString=function(){var b=[];b.push(a.padNumber(this.year,4));b.push(a.padNumber(this.month,2));b.push(a.padNumber(this.day,2));b.push(a.padNumber(this.hour,2));b.push(a.padNumber(this.minute,2));b.push(a.padNumber(this.second,2));this.millisecond!==0&&(b.push("."),b.push(a.padNumber(this.millisecond,3)));b.push("Z");return b.join("")};b.blockName=function(){return"GeneralizedTime"};d.toJSON=function(){var a={};try{a=c.prototype.toJSON.call(this)}catch(a){}a.year=this.year;a.month=this.month;a.day=this.day;a.hour=this.hour;a.minute=this.minute;a.second=this.second;a.millisecond=this.millisecond;return a};return b}(N);h.GeneralizedTime=R;var S=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=31;return a}a.blockName=function(){return"DATE"};return a}(C);h.DATE=S;var T=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=32;return a}a.blockName=function(){return"TimeOfDay"};return a}(C);h.TimeOfDay=T;var U=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=33;return a}a.blockName=function(){return"DateTime"};return a}(C);h.DateTime=U;var la=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=34;return a}a.blockName=function(){return"Duration"};return a}(C);h.Duration=la;var ma=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a={});a=b.call(this,a)||this;a.idBlock.tagClass=1;a.idBlock.tagNumber=14;return a}a.blockName=function(){return"TIME"};return a}(C);h.TIME=ma;var na=function(b){b===void 0&&(b={}),this.value=a.getParametersValue(b,"value",[]),this.optional=a.getParametersValue(b,"optional",!1)};h.Choice=na;var V=function(b){b===void 0&&(b={}),this.name=a.getParametersValue(b,"name",""),this.optional=a.getParametersValue(b,"optional",!1)};h.Any=V;var W=function(b){b===void 0&&(b={}),this.name=a.getParametersValue(b,"name",""),this.optional=a.getParametersValue(b,"optional",!1),this.value=a.getParametersValue(b,"value",new V()),this.local=a.getParametersValue(b,"local",!1)};h.Repeated=W;Z=function(){function b(b){b===void 0&&(b={}),this.data=a.getParametersValue(b,"data",new ArrayBuffer(0))}var c=b.prototype;c.fromBER=function(a,b,c){this.data=a.slice(b,c);return b+c};c.toBER=function(a){a===void 0;return this.data};return b}();h.RawData=Z;function oa(b,c,d){var e=c;function f(a,b){if(a instanceof b)return a;b=new b();b.idBlock=a.idBlock;b.lenBlock=a.lenBlock;b.warnings=a.warnings;b.valueBeforeDecode=a.valueBeforeDecode.slice(0);return b}var g=new m({},Object),h=new i();if(a.checkBufferParams(h,b,c,d)===!1){g.error=h.error;return{offset:-1,result:g}}h=new Uint8Array(b,c,d);if(h.length===0){g.error="Zero buffer length";return{offset:-1,result:g}}h=g.idBlock.fromBER(b,c,d);g.warnings.concat(g.idBlock.warnings);if(h===-1){g.error=g.idBlock.error;return{offset:-1,result:g}}c=h;d-=g.idBlock.blockLength;h=g.lenBlock.fromBER(b,c,d);g.warnings.concat(g.lenBlock.warnings);if(h===-1){g.error=g.lenBlock.error;return{offset:-1,result:g}}c=h;d-=g.lenBlock.blockLength;if(g.idBlock.isConstructed===!1&&g.lenBlock.isIndefiniteForm===!0){g.error="Indefinite length form used for primitive encoding form";return{offset:-1,result:g}}var j=m;switch(g.idBlock.tagClass){case 1:if(g.idBlock.tagNumber>=37&&g.idBlock.isHexOnly===!1){g.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard";return{offset:-1,result:g}}switch(g.idBlock.tagNumber){case 0:if(g.idBlock.isConstructed===!0&&g.lenBlock.length>0){g.error="Type [UNIVERSAL 0] is reserved";return{offset:-1,result:g}}j=r;break;case 1:j=s;break;case 2:j=y;break;case 3:j=x;break;case 4:j=w;break;case 5:j=v;break;case 6:j=B;break;case 10:j=z;break;case 12:j=C;break;case 13:j=E;break;case 14:j=ma;break;case 15:g.error="[UNIVERSAL 15] is reserved by ASN.1 standard";return{offset:-1,result:g};case 16:j=t;break;case 17:j=u;break;case 18:j=H;break;case 19:j=I;break;case 20:j=J;break;case 21:j=K;break;case 22:j=L;break;case 23:j=Q;break;case 24:j=R;break;case 25:j=M;break;case 26:j=N;break;case 27:j=O;break;case 28:j=G;break;case 29:j=P;break;case 30:j=F;break;case 31:j=S;break;case 32:j=T;break;case 33:j=U;break;case 34:j=la;break;default:var k;g.idBlock.isConstructed===!0?k=new q():k=new o();k.idBlock=g.idBlock;k.lenBlock=g.lenBlock;k.warnings=g.warnings;g=k}break;case 2:case 3:case 4:default:g.idBlock.isConstructed===!0?j=q:j=o}g=f(g,j);h=g.fromBER(b,c,g.lenBlock.isIndefiniteForm===!0?d:g.lenBlock.length);g.valueBeforeDecode=b.slice(e,e+g.blockLength);return{offset:h,result:g}}function X(a){if(a.byteLength===0){var b=new m({},Object);b.error="Input buffer has zero length";return{offset:-1,result:b}}return oa(a,0,a.byteLength)}function Y(a,b,c){if(c instanceof na){var d=!1;for(var e=0;e<c.value.length;e++){var f=Y(a,b,c.value[e]);if(f.verified===!0)return{verified:!0,result:a}}if(d===!1){f={verified:!1,result:{error:"Wrong values for Choice type"}};Object.prototype.hasOwnProperty.call(c,"name")&&(f.name=c.name);return f}}if(c instanceof V){Object.prototype.hasOwnProperty.call(c,"name")&&(a[c.name]=b);return{verified:!0,result:a}}if(a instanceof Object===!1)return{verified:!1,result:{error:"Wrong root object"}};if(b instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(c instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("idBlock"in c===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("fromBER"in c.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("toBER"in c.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};e=c.idBlock.toBER(!1);if(e.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};d=c.idBlock.fromBER(e,0,e.byteLength);if(d===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(Object.prototype.hasOwnProperty.call(c.idBlock,"tagClass")===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.tagClass!==b.idBlock.tagClass)return{verified:!1,result:a};if(Object.prototype.hasOwnProperty.call(c.idBlock,"tagNumber")===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.tagNumber!==b.idBlock.tagNumber)return{verified:!1,result:a};if(Object.prototype.hasOwnProperty.call(c.idBlock,"isConstructed")===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.isConstructed!==b.idBlock.isConstructed)return{verified:!1,result:a};if("isHexOnly"in c.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(c.idBlock.isHexOnly!==b.idBlock.isHexOnly)return{verified:!1,result:a};if(c.idBlock.isHexOnly===!0){if("valueHex"in c.idBlock===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};f=new Uint8Array(c.idBlock.valueHex);e=new Uint8Array(b.idBlock.valueHex);if(f.length!==e.length)return{verified:!1,result:a};for(d=0;d<f.length;d++)if(f[d]!==e[1])return{verified:!1,result:a}}Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&(a[c.name]=b));if(c.idBlock.isConstructed===!0){e=0;d={verified:!1};f=c.valueBlock.value.length;f>0&&(c.valueBlock.value[0]instanceof W&&(f=b.valueBlock.value.length));if(f===0)return{verified:!0,result:a};if(b.valueBlock.value.length===0&&c.valueBlock.value.length!==0){var g=!0;for(var h=0;h<c.valueBlock.value.length;h++)g=g&&(c.valueBlock.value[h].optional||!1);if(g===!0)return{verified:!0,result:a};Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&delete a[c.name]);a.error="Inconsistent object length";return{verified:!1,result:a}}for(h=0;h<f;h++)if(h-e>=b.valueBlock.value.length){if(c.valueBlock.value[h].optional===!1){g={verified:!1,result:a};a.error="Inconsistent length between ASN.1 data and schema";Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&(delete a[c.name],g.name=c.name));return g}}else if(c.valueBlock.value[0]instanceof W){d=Y(a,b.valueBlock.value[h],c.valueBlock.value[0].value);if(d.verified===!1)if(c.valueBlock.value[0].optional===!0)e++;else{Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&delete a[c.name]);return d}if("name"in c.valueBlock.value[0]&&c.valueBlock.value[0].name.length>0){({});"local"in c.valueBlock.value[0]&&c.valueBlock.value[0].local===!0?g=b:g=a;typeof g[c.valueBlock.value[0].name]==="undefined"&&(g[c.valueBlock.value[0].name]=[]);g[c.valueBlock.value[0].name].push(b.valueBlock.value[h])}}else{d=Y(a,b.valueBlock.value[h-e],c.valueBlock.value[h]);if(d.verified===!1)if(c.valueBlock.value[h].optional===!0)e++;else{Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&delete a[c.name]);return d}}if(d.verified===!1){g={verified:!1,result:a};Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&(delete a[c.name],g.name=c.name));return g}return{verified:!0,result:a}}if("primitiveSchema"in c&&"valueHex"in b.valueBlock){h=X(b.valueBlock.valueHex);if(h.offset===-1){e={verified:!1,result:h.result};Object.prototype.hasOwnProperty.call(c,"name")&&(c.name=c.name.replace(/^\s+|\s+$/g,""),c.name!==""&&(delete a[c.name],e.name=c.name));return e}return Y(a,h.result,c.primitiveSchema)}return{verified:!0,result:a}}function Z(a,b){if(b instanceof Object===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};a=X(a);return a.offset===-1?{verified:!1,result:a.result}:Y(a.result,a.result,b)}function $(a){}}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/oWar2RJI8Rv/
 */
__d("bytestreamjs-1.0.29",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g.parseByteMap=b;var a=function(){function a(a){a===void 0&&(a={});this.clear();var b=!0,c=!1,d=void 0;try{for(var e=Object.keys(a)[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),f;!(b=(f=e.next()).done);b=!0){f=f.value;switch(f){case"length":this.length=a.length;break;case"stub":for(f=0;f<this.$1.length;f++)this.$1[f]=a.stub;break;case"view":this.fromUint8Array(a.view);break;case"buffer":this.fromArrayBuffer(a.buffer);break;case"string":this.fromString(a.string);break;case"hexstring":this.fromHexString(a.hexstring);break;default:}}}catch(a){c=!0,d=a}finally{try{!b&&e["return"]&&e["return"]()}finally{if(c)throw d}}}var b=a.prototype;b.clear=function(){this.$2=new ArrayBuffer(0),this.$1=new Uint8Array(this.$2)};b.fromArrayBuffer=function(a){this.buffer=a};b.fromUint8Array=function(a){this.$2=new ArrayBuffer(a.length),this.$1=new Uint8Array(this.$2),this.$1.set(a)};b.fromString=function(a){var b=a.length;this.length=b;for(var c=0;c<b;c++)this.view[c]=a.charCodeAt(c)};b.toString=function(a,b){a===void 0&&(a=0);b===void 0&&(b=this.view.length-a);var c="";(a>=this.view.length||a<0)&&(a=0);(b>=this.view.length||b<0)&&(b=this.view.length-a);for(var d=a;d<a+b;d++)c+=String.fromCharCode(this.view[d]);return c};b.fromHexString=function(a){var b=a.length;this.buffer=new ArrayBuffer(b>>1);this.view=new Uint8Array(this.buffer);var c=new Map();c.set("0",0);c.set("1",1);c.set("2",2);c.set("3",3);c.set("4",4);c.set("5",5);c.set("6",6);c.set("7",7);c.set("8",8);c.set("9",9);c.set("A",10);c.set("a",10);c.set("B",11);c.set("b",11);c.set("C",12);c.set("c",12);c.set("D",13);c.set("d",13);c.set("E",14);c.set("e",14);c.set("F",15);c.set("f",15);var d=0,e=0;for(var f=0;f<b;f++)!(f%2)?e=c.get(a.charAt(f))<<4:(e|=c.get(a.charAt(f)),this.view[d]=e,d++)};b.toHexString=function(a,b){a===void 0&&(a=0);b===void 0&&(b=this.view.length-a);var c="";(a>=this.view.length||a<0)&&(a=0);(b>=this.view.length||b<0)&&(b=this.view.length-a);for(var d=a;d<a+b;d++){var e=this.view[d].toString(16).toUpperCase();c=c+(e.length==1?"0":"")+e}return c};b.copy=function(b,c){b===void 0&&(b=0);c===void 0&&(c=this.$2.byteLength-b);if(b===0&&this.$2.byteLength===0)return new a();if(b<0||b>this.$2.byteLength-1)throw new Error("Wrong start position: "+b);var d=new a();d.$2=this.$2.slice(b,b+c);d.$1=new Uint8Array(d.$2);return d};b.slice=function(b,c){b===void 0&&(b=0);c===void 0&&(c=this.$2.byteLength);if(b===0&&this.$2.byteLength===0)return new a();if(b<0||b>this.$2.byteLength-1)throw new Error("Wrong start position: "+b);var d=new a();d.$2=this.$2.slice(b,c);d.$1=new Uint8Array(d.$2);return d};b.realloc=function(a){var b=new ArrayBuffer(a),c=new Uint8Array(b);a>this.$1.length?c.set(this.$1):c.set(new Uint8Array(this.$2,0,a));this.$2=b.slice(0);this.$1=new Uint8Array(this.$2)};b.append=function(a){var b=this.$2.byteLength,c=a.$2.byteLength;a=a.$1.slice();this.realloc(b+c);this.$1.set(a,b)};b.insert=function(a,b,c){b===void 0&&(b=0);c===void 0&&(c=this.$2.byteLength-b);if(b>this.$2.byteLength-1)return!1;c>this.$2.byteLength-b&&(c=this.$2.byteLength-b);c>a.$2.byteLength&&(c=a.$2.byteLength);c==a.$2.byteLength?this.$1.set(a.$1,b):this.$1.set(a.$1.slice(0,c),b);return!0};b.isEqual=function(a){if(this.$2.byteLength!=a.$2.byteLength)return!1;for(var b=0;b<a.$2.byteLength;b++)if(this.view[b]!=a.view[b])return!1;return!0};b.isEqualView=function(a){if(a.length!=this.view.length)return!1;for(var b=0;b<a.length;b++)if(this.view[b]!=a[b])return!1;return!0};b.findPattern=function(a,b,c,d){b===void 0&&(b=null);c===void 0&&(c=null);d===void 0&&(d=!1);b==null&&(b=d?this.buffer.byteLength:0);b>this.buffer.byteLength&&(b=this.buffer.byteLength);d?(c==null&&(c=b),c>b&&(c=b)):(c==null&&(c=this.buffer.byteLength-b),c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b));var e=a.buffer.byteLength;if(e>c)return-1;var f=[];for(var g=0;g<e;g++)f.push(a.view[g]);for(g=0;g<=c-e;g++){a=!0;var h=d?b-e-g:b+g;for(var i=0;i<e;i++)if(this.view[i+h]!=f[i]){a=!1;break}if(a)return d?b-e-g:b+e+g}return-1};b.findFirstIn=function(a,b,c,d){b===void 0&&(b=null);c===void 0&&(c=null);d===void 0&&(d=!1);b==null&&(b=d?this.buffer.byteLength:0);b>this.buffer.byteLength&&(b=this.buffer.byteLength);d?(c==null&&(c=b),c>b&&(c=b)):(c==null&&(c=this.buffer.byteLength-b),c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b));var e={id:-1,position:d?0:b+c,length:0};for(var f=0;f<a.length;f++){var g=this.findPattern(a[f],b,c,d);if(g!=-1){var h=!1,i=a[f].length;d?g-i>=e.position-e.length&&(h=!0):g-i<=e.position-e.length&&(h=!0);h&&(e.position=g,e.id=f,e.length=i)}}return e};b.findAllIn=function(a,b,c){b===void 0&&(b=0);c===void 0&&(c=this.buffer.byteLength-b);var d=[];b==null&&(b=0);if(b>this.buffer.byteLength-1)return d;c==null&&(c=this.buffer.byteLength-b);c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b);b={id:-1,position:b};do{var e=b.position;b=this.findFirstIn(a,b.position,c);if(b.id==-1)break;c-=b.position-e;d.push({id:b.id,position:b.position})}while(!0);return d};b.findAllPatternIn=function(a,b,c){b===void 0&&(b=0);c===void 0&&(c=this.buffer.byteLength-b);b==null&&(b=0);b>this.buffer.byteLength&&(b=this.buffer.byteLength);c==null&&(c=this.buffer.byteLength-b);c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b);var d=[],e=a.buffer.byteLength;if(e>c)return-1;a=Array.from(a.view);for(var f=0;f<=c-e;f++){var g=!0,h=b+f;for(var i=0;i<e;i++)if(this.view[i+h]!=a[i]){g=!1;break}g&&(d.push(b+e+f),f+=e-1)}return d};b.findFirstNotIn=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);c==null&&(c=e?this.buffer.byteLength:0);c>this.buffer.byteLength&&(c=this.buffer.byteLength);e?(d==null&&(d=c),d>c&&(d=c)):(d==null&&(d=this.buffer.byteLength-c),d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c));var f={left:{id:-1,position:c},right:{id:-1,position:0},value:new a()},g=d;while(g>0){f.right=this.findFirstIn(b,e?c-d+g:c+d-g,g,e);if(f.right.id==-1){d=g;e?c-=d:c=f.left.position;f.value=new a();f.value.$2=this.$2.slice(c,c+d);f.value.$1=new Uint8Array(f.value.$2);break}if(f.right.position!=(e?f.left.position-b[f.right.id].buffer.byteLength:f.left.position+b[f.right.id].buffer.byteLength)){e?(c=f.right.position+b[f.right.id].buffer.byteLength,d=f.left.position-f.right.position-b[f.right.id].buffer.byteLength):(c=f.left.position,d=f.right.position-f.left.position-b[f.right.id].buffer.byteLength);f.value=new a();f.value.$2=this.$2.slice(c,c+d);f.value.$1=new Uint8Array(f.value.$2);break}f.left=f.right;g-=b[f.right.id].$2.byteLength}if(e){g=f.right;f.right=f.left;f.left=g}return f};b.findAllNotIn=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=[];c==null&&(c=0);if(c>this.buffer.byteLength-1)return e;d==null&&(d=this.buffer.byteLength-c);d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c);c={left:{id:-1,position:c},right:{id:-1,position:c},value:new a()};do{var f=c.right.position;c=this.findFirstNotIn(b,c.right.position,d);d-=c.right.position-f;e.push({left:{id:c.left.id,position:c.left.position},right:{id:c.right.id,position:c.right.position},value:c.value})}while(c.right.id!=-1);return e};b.findFirstSequence=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);c==null&&(c=e?this.buffer.byteLength:0);c>this.buffer.byteLength&&(c=this.buffer.byteLength);e?(d==null&&(d=c),d>c&&(d=c)):(d==null&&(d=this.buffer.byteLength-c),d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c));var f=this.skipNotPatterns(b,c,d,e);if(f==-1)return{position:-1,value:new a()};b=this.skipPatterns(b,f,d-(e?c-f:f-c),e);e?(c=b,d=f-b):(c=f,d=b-f);e=new a();e.$2=this.$2.slice(c,c+d);e.$1=new Uint8Array(e.$2);return{position:b,value:e}};b.findAllSequences=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=[];c==null&&(c=0);if(c>this.buffer.byteLength-1)return e;d==null&&(d=this.buffer.byteLength-c);d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c);c={position:c,value:new a()};do{var f=c.position;c=this.findFirstSequence(b,c.position,d);c.position!=-1&&(d-=c.position-f,e.push({position:c.position,value:c.value}))}while(c.position!=-1);return e};b.findPairedPatterns=function(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=[];if(a.isEqual(b))return e;c==null&&(c=0);if(c>this.buffer.byteLength-1)return e;d==null&&(d=this.buffer.byteLength-c);d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c);var f=0;a=this.findAllPatternIn(a,c,d);if(a.length==0)return e;b=this.findAllPatternIn(b,c,d);if(b.length==0)return e;while(f<a.length){if(b.length==0)break;if(a[0]==b[0]){e.push({left:a[0],right:b[0]});a.splice(0,1);b.splice(0,1);continue}if(a[f]>b[0])break;while(a[f]<b[0]){f++;if(f>=a.length)break}e.push({left:a[f-1],right:b[0]});a.splice(f-1,1);b.splice(0,1);f=0}e.sort(function(a,b){return a.left-b.left});return e};b.findPairedArrays=function(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=[];c==null&&(c=0);if(c>this.buffer.byteLength-1)return e;d==null&&(d=this.buffer.byteLength-c);d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c);var f=0;a=this.findAllIn(a,c,d);if(a.length==0)return e;b=this.findAllIn(b,c,d);if(b.length==0)return e;while(f<a.length){if(b.length==0)break;if(a[0].position==b[0].position){e.push({left:a[0],right:b[0]});a.splice(0,1);b.splice(0,1);continue}if(a[f].position>b[0].position)break;while(a[f].position<b[0].position){f++;if(f>=a.length)break}e.push({left:a[f-1],right:b[0]});a.splice(f-1,1);b.splice(0,1);f=0}e.sort(function(a,b){return a.left.position-b.left.position});return e};b.replacePattern=function(a,b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);var f,g={status:-1,searchPatternPositions:[],replacePatternPositions:[]};c==null&&(c=0);if(c>this.buffer.byteLength-1)return!1;d==null&&(d=this.buffer.byteLength-c);d>this.buffer.byteLength-c&&(d=this.buffer.byteLength-c);if(e==null){d=this.findAllIn([a],c,d);if(d.length==0)return g}else d=e;(e=g.searchPatternPositions).push.apply(e,Array.from(d,function(a){return a.position}));e=a.buffer.byteLength-b.buffer.byteLength;var h=new ArrayBuffer(this.view.length-d.length*e),i=new Uint8Array(h);i.set(new Uint8Array(this.buffer,0,c));for(f=0;f<d.length;f++){var j=f==0?c:d[f-1].position;i.set(new Uint8Array(this.buffer,j,d[f].position-a.buffer.byteLength-j),j-f*e);i.set(b.view,d[f].position-a.buffer.byteLength-f*e);g.replacePatternPositions.push(d[f].position-a.buffer.byteLength-f*e)}f--;i.set(new Uint8Array(this.buffer,d[f].position,this.buffer.byteLength-d[f].position),d[f].position-a.buffer.byteLength+b.buffer.byteLength-f*e);this.buffer=h;this.view=new Uint8Array(this.buffer);g.status=1;return g};b.skipPatterns=function(a,b,c,d){b===void 0&&(b=null);c===void 0&&(c=null);d===void 0&&(d=!1);b==null&&(b=d?this.buffer.byteLength:0);b>this.buffer.byteLength&&(b=this.buffer.byteLength);d?(c==null&&(c=b),c>b&&(c=b)):(c==null&&(c=this.buffer.byteLength-b),c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b));var e=b;for(var f=0;f<a.length;f++){var g=a[f].buffer.byteLength,h=d?e-g:e,i=!0;for(var j=0;j<g;j++)if(this.view[j+h]!=a[f].view[j]){i=!1;break}if(i){f=-1;if(d){e-=g;if(e<=0)return e}else{e+=g;if(e>=b+c)return e}}}return e};b.skipNotPatterns=function(a,b,c,d){b===void 0&&(b=null);c===void 0&&(c=null);d===void 0&&(d=!1);b==null&&(b=d?this.buffer.byteLength:0);b>this.buffer.byteLength&&(b=this.buffer.byteLength);d?(c==null&&(c=b),c>b&&(c=b)):(c==null&&(c=this.buffer.byteLength-b),c>this.buffer.byteLength-b&&(c=this.buffer.byteLength-b));var e=-1;for(var f=0;f<c;f++){for(var g=0;g<a.length;g++){var h=a[g].buffer.byteLength,i=d?b-f-h:b+f,j=!0;for(var k=0;k<h;k++)if(this.view[k+i]!=a[g].view[k]){j=!1;break}if(j){e=d?b-f:b+f;break}}if(e!=-1)break}return e};babelHelpers.createClass(a,[{key:"buffer",set:function(a){this.$2=a.slice(0),this.$1=new Uint8Array(this.$2)},get:function(){return this.$2}},{key:"view",set:function(a){this.$2=new ArrayBuffer(a.length),this.$1=new Uint8Array(this.$2),this.$1.set(a)},get:function(){return this.$1}},{key:"length",get:function(){return this.$2.byteLength},set:function(a){this.$2=new ArrayBuffer(a),this.$1=new Uint8Array(this.$2)}}]);return a}();g.ByteStream=a;b=function(){function b(b){b===void 0&&(b={});this.stream=new a();this.$1=0;this.backward=!1;this.$2=0;this.appendBlock=0;this.prevLength=0;this.prevStart=0;var c=!0,d=!1,e=void 0;try{for(var f=Object.keys(b)[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),g;!(c=(g=f.next()).done);c=!0){g=g.value;switch(g){case"stream":this.stream=b.stream;break;case"backward":this.backward=b.backward;this.$2=this.stream.buffer.byteLength;break;case"length":this.$1=b.length;break;case"start":this.$2=b.start;break;case"appendBlock":this.appendBlock=b.appendBlock;break;case"view":this.stream=new a({view:b.view});break;case"buffer":this.stream=new a({buffer:b.buffer});break;case"string":this.stream=new a({string:b.string});break;case"hexstring":this.stream=new a({hexstring:b.hexstring});break;default:}}}catch(a){d=!0,e=a}finally{try{!c&&f["return"]&&f["return"]()}finally{if(d)throw e}}}var c=b.prototype;c.resetPosition=function(){this.$2=this.prevStart,this.$1=this.prevLength};c.findPattern=function(a,b){b===void 0&&(b=null);(b==null||b>this.length)&&(b=this.length);var c=this.stream.findPattern(a,this.start,this.length,this.backward);if(c==-1)return c;if(this.backward){if(c<this.start-a.buffer.byteLength-b)return-1}else if(c>this.start+a.buffer.byteLength+b)return-1;this.start=c;return c};c.findFirstIn=function(a,b){b===void 0&&(b=null);(b==null||b>this.length)&&(b=this.length);var c=this.stream.findFirstIn(a,this.start,this.length,this.backward);if(c.id==-1)return c;if(this.backward){if(c.position<this.start-a[c.id].buffer.byteLength-b)return{id:-1,position:this.backward?0:this.start+this.length}}else if(c.position>this.start+a[c.id].buffer.byteLength+b)return{id:-1,position:this.backward?0:this.start+this.length};this.start=c.position;return c};c.findAllIn=function(a){var b=this.backward?this.start-this.length:this.start;return this.stream.findAllIn(a,b,this.length)};c.findFirstNotIn=function(b,c){c===void 0&&(c=null);(c==null||c>this.$1)&&(c=this.$1);var d=this.$3.findFirstNotIn(b,this.$2,this.$1,this.backward);if(d.left.id==-1&&d.right.id==-1)return d;if(this.backward){if(d.right.id!=-1&&d.right.position<this.$2-b[d.right.id].$4.byteLength-c)return{left:{id:-1,position:this.$2},right:{id:-1,position:0},value:new a()}}else if(d.left.id!=-1&&d.left.position>this.$2+b[d.left.id].$4.byteLength+c)return{left:{id:-1,position:this.$2},right:{id:-1,position:0},value:new a()};this.backward?d.left.id==-1?this.start=0:this.start=d.left.position:d.right.id==-1?this.start=this.$2+this.$1:this.start=d.right.position;return d};c.findAllNotIn=function(a){var b=this.backward?this.$2-this.$1:this.$2;return this.$3.findAllNotIn(a,b,this.$1)};c.findFirstSequence=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);(c==null||c>this.$1)&&(c=this.$1);(d==null||d>c)&&(d=c);b=this.$3.findFirstSequence(b,this.$2,c,this.backward);if(b.value.buffer.byteLength==0)return b;if(this.backward){if(b.position<this.$2-b.value.$4.byteLength-d)return{position:-1,value:new a()}}else if(b.position>this.$2+b.value.$4.byteLength+d)return{position:-1,value:new a()};this.start=b.position;return b};c.findAllSequences=function(a){var b=this.backward?this.start-this.length:this.start;return this.stream.findAllSequences(a,b,this.length)};c.findPairedPatterns=function(a,b,c){c===void 0&&(c=null);(c==null||c>this.length)&&(c=this.length);var d=this.backward?this.start-this.length:this.start;d=this.stream.findPairedPatterns(a,b,d,this.length);if(d.length)if(this.backward){if(d[0].right<this.start-b.buffer.byteLength-c)return[]}else if(d[0].left>this.start+a.buffer.byteLength+c)return[];return d};c.findPairedArrays=function(a,b,c){c===void 0&&(c=null);(c==null||c>this.length)&&(c=this.length);var d=this.backward?this.start-this.length:this.start;d=this.stream.findPairedArrays(a,b,d,this.length);if(d.length)if(this.backward){if(d[0].right.position<this.start-b[d[0].right.id].buffer.byteLength-c)return[]}else if(d[0].left.position>this.start+a[d[0].left.id].buffer.byteLength+c)return[];return d};c.replacePattern=function(a,b){var c=this.backward?this.start-this.length:this.start;return this.stream.replacePattern(a,b,c,this.length)};c.skipPatterns=function(a){a=this.stream.skipPatterns(a,this.start,this.length,this.backward);this.start=a;return a};c.skipNotPatterns=function(a){a=this.stream.skipNotPatterns(a,this.start,this.length,this.backward);if(a==-1)return-1;this.start=a;return a};c.append=function(a){this.$2+a.$4.byteLength>this.$3.$4.byteLength&&(a.$4.byteLength>this.appendBlock&&(this.appendBlock=a.$4.byteLength+1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock)),this.$3.$5.set(a.$5,this.$2),this.$1+=a.$4.byteLength*2,this.start=this.$2+a.$4.byteLength,this.prevLength-=a.$4.byteLength*2};c.appendView=function(a){this.$2+a.length>this.$3.$4.byteLength&&(a.length>this.appendBlock&&(this.appendBlock=a.length+1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock)),this.$3.$5.set(a,this.$2),this.$1+=a.length*2,this.start=this.$2+a.length,this.prevLength-=a.length*2};c.appendChar=function(a){this.$2+1>this.$3.$4.byteLength&&(1>this.appendBlock&&(this.appendBlock=1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock)),this.$3.$5[this.$2]=a,this.$1+=2,this.start=this.$2+1,this.prevLength-=2};c.appendUint16=function(a){this.$2+2>this.$3.$4.byteLength&&(2>this.appendBlock&&(this.appendBlock=1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock));a=new Uint16Array([a]);a=new Uint8Array(a.buffer);this.$3.$5[this.$2]=a[1];this.$3.$5[this.$2+1]=a[0];this.$1+=4;this.start=this.$2+2;this.prevLength-=4};c.appendUint24=function(a){this.$2+3>this.$3.$4.byteLength&&(3>this.appendBlock&&(this.appendBlock=1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock));a=new Uint32Array([a]);a=new Uint8Array(a.buffer);this.$3.$5[this.$2]=a[2];this.$3.$5[this.$2+1]=a[1];this.$3.$5[this.$2+2]=a[0];this.$1+=6;this.start=this.$2+3;this.prevLength-=6};c.appendUint32=function(a){this.$2+4>this.$3.$4.byteLength&&(4>this.appendBlock&&(this.appendBlock=1e3),this.$3.realloc(this.$3.$4.byteLength+this.appendBlock));a=new Uint32Array([a]);a=new Uint8Array(a.buffer);this.$3.$5[this.$2]=a[3];this.$3.$5[this.$2+1]=a[2];this.$3.$5[this.$2+2]=a[1];this.$3.$5[this.$2+3]=a[0];this.$1+=8;this.start=this.$2+4;this.prevLength-=8};c.getBlock=function(a,b){b===void 0&&(b=!0);if(this.$1<=0)return[];this.$1<a&&(a=this.$1);var c;if(this.backward){var d=this.$3.$4.slice(this.$1-a,this.$1);d=new Uint8Array(d);c=new Array(a);for(var e=0;e<a;e++)c[a-1-e]=d[e]}else{e=this.$3.$4.slice(this.$2,this.$2+a);c=Array.from(new Uint8Array(e))}b&&(this.start+=this.backward?-1*a:a);return c};c.getUint16=function(a){a===void 0&&(a=!0);a=this.getBlock(2,a);if(a.length<2)return 0;var b=new Uint16Array(1),c=new Uint8Array(b.buffer);c[0]=a[1];c[1]=a[0];return b[0]};c.getInt16=function(a){a===void 0&&(a=!0);a=this.getBlock(2,a);if(a.length<2)return 0;var b=new Int16Array(1),c=new Uint8Array(b.buffer);c[0]=a[1];c[1]=a[0];return b[0]};c.getUint24=function(a){a===void 0&&(a=!0);a=this.getBlock(3,a);if(a.length<3)return 0;var b=new Uint32Array(1),c=new Uint8Array(b.buffer);for(var d=3;d>=1;d--)c[3-d]=a[d-1];return b[0]};c.getUint32=function(a){a===void 0&&(a=!0);a=this.getBlock(4,a);if(a.length<4)return 0;var b=new Uint32Array(1),c=new Uint8Array(b.buffer);for(var d=3;d>=0;d--)c[3-d]=a[d];return b[0]};c.getInt32=function(a){a===void 0&&(a=!0);a=this.getBlock(4,a);if(a.length<4)return 0;var b=new Int32Array(1),c=new Uint8Array(b.buffer);for(var d=3;d>=0;d--)c[3-d]=a[d];return b[0]};babelHelpers.createClass(b,[{key:"stream",set:function(a){this.$3=a,this.prevLength=this.$1,this.$1=a.$4.byteLength,this.prevStart=this.$2,this.$2=0},get:function(){return this.$3}},{key:"length",set:function(a){this.prevLength=this.$1,this.$1=a},get:function(){return this.appendBlock?this.start:this.$1}},{key:"start",set:function(a){if(a>this.stream.buffer.byteLength)return;this.prevStart=this.$2;this.prevLength=this.$1;this.$1-=this.backward?this.$2-a:a-this.$2;this.$2=a},get:function(){return this.$2}},{key:"buffer",get:function(){return this.$3.$4.slice(0,this.$1)}}]);return b}();g.SeqStream=b;function b(a,b,c,d,e){d===void 0&&(d=null);e===void 0&&(e=null);d===null&&(d=0);if(d>a.buffer.byteLength-1)return!1;e===null&&(e=a.buffer.byteLength-d);e>a.buffer.byteLength-d&&(e=a.buffer.byteLength-d);var f;d==0&&e==a.buffer.byteLength?f=a.view:f=new Uint8Array(a.buffer,d,e);a=new Array(c);d=0;c=0;var g=b.length;while(c<e){var h=0;a[d]={};for(var i=0;i<g;i++){if(b[i].maxlength==0){"defaultValue"in b[i]&&(a[d][b[i].name]=b[i].defaultValue);continue}var j=new Array(b[i].maxlength);for(var k=0;k<b[i].maxlength;k++)j[k]=f[c++];k=b[i].func(j);if(k.status==-1)return a.length==1?[]:a.slice(0,a.length-1);b[i].type!="check"&&(a[d][b[i].name]=k.value);c-=b[i].maxlength-k.length;h+=k.length}a[d++].structureLength=h}return a}var c=["00000000","00000001","00000010","00000011","00000100","00000101","00000110","00000111","00001000","00001001","00001010","00001011","00001100","00001101","00001110","00001111","00010000","00010001","00010010","00010011","00010100","00010101","00010110","00010111","00011000","00011001","00011010","00011011","00011100","00011101","00011110","00011111","00100000","00100001","00100010","00100011","00100100","00100101","00100110","00100111","00101000","00101001","00101010","00101011","00101100","00101101","00101110","00101111","00110000","00110001","00110010","00110011","00110100","00110101","00110110","00110111","00111000","00111001","00111010","00111011","00111100","00111101","00111110","00111111","01000000","01000001","01000010","01000011","01000100","01000101","01000110","01000111","01001000","01001001","01001010","01001011","01001100","01001101","01001110","01001111","01010000","01010001","01010010","01010011","01010100","01010101","01010110","01010111","01011000","01011001","01011010","01011011","01011100","01011101","01011110","01011111","01100000","01100001","01100010","01100011","01100100","01100101","01100110","01100111","01101000","01101001","01101010","01101011","01101100","01101101","01101110","01101111","01110000","01110001","01110010","01110011","01110100","01110101","01110110","01110111","01111000","01111001","01111010","01111011","01111100","01111101","01111110","01111111","10000000","10000001","10000010","10000011","10000100","10000101","10000110","10000111","10001000","10001001","10001010","10001011","10001100","10001101","10001110","10001111","10010000","10010001","10010010","10010011","10010100","10010101","10010110","10010111","10011000","10011001","10011010","10011011","10011100","10011101","10011110","10011111","10100000","10100001","10100010","10100011","10100100","10100101","10100110","10100111","10101000","10101001","10101010","10101011","10101100","10101101","10101110","10101111","10110000","10110001","10110010","10110011","10110100","10110101","10110110","10110111","10111000","10111001","10111010","10111011","10111100","10111101","10111110","10111111","11000000","11000001","11000010","11000011","11000100","11000101","11000110","11000111","11001000","11001001","11001010","11001011","11001100","11001101","11001110","11001111","11010000","11010001","11010010","11010011","11010100","11010101","11010110","11010111","11011000","11011001","11011010","11011011","11011100","11011101","11011110","11011111","11100000","11100001","11100010","11100011","11100100","11100101","11100110","11100111","11101000","11101001","11101010","11101011","11101100","11101101","11101110","11101111","11110000","11110001","11110010","11110011","11110100","11110101","11110110","11110111","11111000","11111001","11111010","11111011","11111100","11111101","11111110","11111111"],d=function(){function b(a){a===void 0&&(a={});this.buffer=new ArrayBuffer(0);this.view=new Uint8Array(this.buffer);this.bitsCount=0;var b=!0,c=!1,d=void 0;try{for(var e=Object.keys(a)[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),f;!(b=(f=e.next()).done);b=!0){f=f.value;switch(f){case"byteStream":this.fromByteStream(a.byteStream);break;case"view":this.fromUint8Array(a.view);break;case"buffer":this.fromArrayBuffer(a.buffer);break;case"string":this.fromString(a.string);break;case"uint32":this.fromUint32(a.uint32);break;case"bitsCount":this.bitsCount=a.bitsCount;break;default:}}}catch(a){c=!0,d=a}finally{try{!b&&e["return"]&&e["return"]()}finally{if(c)throw d}}}var d=b.prototype;d.clear=function(){this.buffer=new ArrayBuffer(0),this.view=new Uint8Array(this.buffer),this.bitsCount=0};d.fromByteStream=function(a){this.buffer=a.buffer.slice(0),this.view=new Uint8Array(this.buffer),this.bitsCount=this.view.length<<3};d.fromArrayBuffer=function(a){this.buffer=a.slice(0),this.view=new Uint8Array(this.buffer),this.bitsCount=this.view.length<<3};d.fromUint8Array=function(a){this.buffer=new ArrayBuffer(a.length),this.view=new Uint8Array(this.buffer),this.view.set(a),this.bitsCount=this.view.length<<3};d.fromString=function(a){var b=a.length;this.buffer=new ArrayBuffer((b>>3)+(b%8?1:0));this.view=new Uint8Array(this.buffer);this.bitsCount=(b>>3)+1<<3;var c=0;for(var d=0;d<b;d++)a[d]=="1"&&(this.view[c]|=1<<7-d%8),d&&(d+1)%8==0&&c++;b%8&&this.shiftRight(8-b%8);this.bitsCount=b};d.fromUint32=function(a){this.buffer=new ArrayBuffer(4);this.view=new Uint8Array(this.buffer);a=new Uint32Array([a]);a=new Uint8Array(a.buffer);for(var b=3;b>=0;b--)this.view[b]=a[3-b];this.bitsCount=32};d.toString=function(a,b){a===void 0&&(a=null);b===void 0&&(b=null);a==null&&(a=0);(a>=this.view.length||a<0)&&(a=0);b==null&&(b=this.view.length-a);(b>=this.view.length||b<0)&&(b=this.view.length-a);var d=[];for(var e=a;e<a+b;e++)d.push(c[this.view[e]]);return d.join("").slice((this.view.length<<3)-this.bitsCount)};d.shiftRight=function(a,b){b===void 0&&(b=!0);if(this.view.length==0)return;if(a<0||a>8)throw new Error('The "shift" parameter must be in range 0-8');if(a>this.bitsCount)throw new Error('The "shift" parameter can not be bigger than "this.bitsCount"');var c=255>>8-a;this.view[this.view.length-1]>>=a;for(var d=this.view.length-2;d>=0;d--)this.view[d+1]|=(this.view[d]&c)<<8-a,this.view[d]>>=a;this.bitsCount-=a;this.bitsCount==0&&this.clear();b&&this.shrink()};d.shiftLeft=function(a){if(this.view.length==0)return;if(a<0||a>8)throw new Error('The "shift" parameter must be in range 0-8');if(a>this.bitsCount)throw new Error('The "shift" parameter can not be bigger than "this.bitsCount"');var b=this.bitsCount&7;if(b>a)this.view[0]&=255>>b+a;else{var c=new ArrayBuffer(this.buffer.byteLength-1),d=new Uint8Array(c);d.set(new Uint8Array(this.buffer,1,this.buffer.byteLength-1));d[0]&=255>>a-b;this.buffer=c.slice(0);this.view=new Uint8Array(this.buffer)}this.bitsCount-=a;this.bitsCount==0&&this.clear()};d.slice=function(a,c){a===void 0&&(a=null);c===void 0&&(c=null);var d=0;this.bitsCount%8&&(d=8-this.bitsCount%8);a+=d;c+=d;a==null&&(a=0);if(a<0||a>(this.view.length<<3)-1)return new b();c==null&&(c=(this.view.length<<3)-1);if(c<0||c>(this.view.length<<3)-1)return new b();if(c-a+1>this.bitsCount)return new b();d=a>>3;var e=a&7,f=c>>3,g=c&7;f=f-d==0?1:f-d+1;var h=new b();h.buffer=new ArrayBuffer(f);h.view=new Uint8Array(h.buffer);h.bitsCount=f<<3;h.view.set(new Uint8Array(this.buffer,d,f));h.view[0]&=255>>e;h.view[f]&=255<<7-g;7-g&&h.shiftRight(7-g,!1);h.bitsCount=c-a+1;h.shrink();return h};d.copy=function(a,c){a===void 0&&(a=null);c===void 0&&(c=null);if(a<0||a>(this.view.length<<3)-1)return new b();c===null&&(c=(this.view.length<<3)-a-1);return c>this.bitsCount?new b():this.slice(a,a+c-1)};d.shrink=function(){var a=(this.bitsCount>>3)+(this.bitsCount%8?1:0);if(a<this.buffer.byteLength){var b=new ArrayBuffer(a),c=new Uint8Array(b);c.set(new Uint8Array(this.buffer,this.buffer.byteLength-a,a));this.buffer=b.slice(0);this.view=new Uint8Array(this.buffer)}};d.reverseBytes=function(){for(var a=0;a<this.view.length;a++)this.view[a]=(this.view[a]*2050&139536|this.view[a]*32800&558144)*65793>>16;if(this.bitsCount%8){a=(this.bitsCount>>3)+(this.bitsCount%8?1:0);this.view[this.view.length-a]>>=8-(this.bitsCount&7)}};d.reverseValue=function(){var a=this.toString(),b=a.length,c=new Array(b);for(var d=0;d<b;d++)c[b-1-d]=a[d];this.fromString(c.join(""))};d.getNumberValue=function(){var a=this.buffer.byteLength-1;if(a>3)return-1;if(a==-1)return 0;var b=new Uint32Array(1),c=new Uint8Array(b.buffer);for(var d=a;d>=0;d--)c[a-d]=this.view[d];return b[0]};d.findPattern=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);var f=new a({string:this.toString()});b=new a({string:b.toString()});return f.findPattern(b,c,d,e)};d.findFirstIn=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});return f.findFirstIn(g,c,d,e)};d.findAllIn=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=new a({string:this.toString()}),f=new Array(b.length);for(var g=0;g<b.length;g++)f[g]=new a({string:b[g].toString()});return e.findAllIn(f,c,d)};d.findAllPatternIn=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=new a({string:this.toString()});b=new a({string:b.toString()});return e.findAllPatternIn(b,c,d)};d.findFirstNotIn=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});return f.findFirstNotIn(g,c,d,e)};d.findAllNotIn=function(b,c,d){c===void 0&&(c=null);d===void 0&&(d=null);var e=new a({string:this.toString()}),f=new Array(b.length);for(var g=0;g<b.length;g++)f[g]=new a({string:b[g].toString()});return e.findAllNotIn(f,c,d)};d.findFirstSequence=function(b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=!1);var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});return f.findFirstSequence(g,c,d,e)};d.findAllSequences=function(b,c,d){var e=new a({string:this.toString()}),f=new Array(b.length);for(var g=0;g<b.length;g++)f[g]=new a({string:b[g].toString()});return e.findAllSequences(f,c,d)};d.findPairedPatterns=function(b,c,d,e){d===void 0&&(d=null);e===void 0&&(e=null);var f=new a({string:this.toString()});b=new a({string:b.toString()});c=new a({string:c.toString()});return f.findPairedPatterns(b,c,d,e)};d.findPairedArrays=function(b,c,d,e){d===void 0&&(d=null);e===void 0&&(e=null);var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});h=new Array(c.length);for(b=0;b<c.length;b++)h[b]=new a({string:c[b].toString()});return f.findPairedArrays(g,h,d,e)};d.replacePattern=function(b,c,d,e){d===void 0&&(d=null);e===void 0&&(e=null);var f=new a({string:this.toString()});b=new a({string:b.toString()});c=new a({string:c.toString()});if(f.findPairedPatterns(b,c,d,e)){this.fromString(f.toString());return!0}return!1};d.skipPatterns=function(b,c,d,e){var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});return f.skipPatterns(g,c,d,e)};d.skipNotPatterns=function(b,c,d,e){var f=new a({string:this.toString()}),g=new Array(b.length);for(var h=0;h<b.length;h++)g[h]=new a({string:b[h].toString()});return f.skipNotPatterns(g,c,d,e)};d.append=function(a){this.fromString([this.toString(),a.toString()].join(""))};return b}();g.BitStream=d;b=function(){function a(a){a===void 0&&(a={});this.stream=new d();this.$1=0;this.$2=this.stream.bitsCount;this.backward=!1;this.appendBlock=0;var b=!0,c=!1,e=void 0;try{for(var f=Object.keys(a)[typeof Symbol==="function"?Symbol.iterator:"@@iterator"](),g;!(b=(g=f.next()).done);b=!0){g=g.value;switch(g){case"stream":case"start":case"length":case"backward":case"appendBlock":this[g]=a[g];break;default:}}}catch(a){c=!0,e=a}finally{try{!b&&f["return"]&&f["return"]()}finally{if(c)throw e}}}var b=a.prototype;b.getBits=function(a){this.start+a>this.stream.bitsCount&&(a=this.stream.bitsCount-this.start);var b;this.backward?(b=this.stream.copy(this.start-a,a),this.start-=b.bitsCount):(b=this.stream.copy(this.start,a),this.start+=b.bitsCount);return b};b.getBitsString=function(a){this.start+a>this.stream.bitsCount&&(a=this.stream.bitsCount-this.start);var b=[],d;this.backward?d=this.start-a:d=this.start;a=this.start+a-1;var e=0;this.stream.bitsCount%8&&(e=8-this.stream.bitsCount%8);d+=e;a+=e;e=d>>3;d=d&7;var f=a>>3;a=a&7;f=e+(f-e==0?1:f-e+1);for(var g=e;g<f;g++){var h=c[this.stream.view[g]];g==e&&(h=h.slice(d));g==f-1&&(h=h.slice(0,a-7+h.length));b.push(h)}b=b.join("");this.backward?this.start-=b.length:this.start+=b.length;return b};b.getBitsReversedValue=function(a){var b=this.getBitsString(a),c=b.length,d=8-c%8,e=new Array(c),f=new Uint32Array(1),g=new Uint8Array(f.buffer,0,4),h;if(c>32)return-1;a==32?a=3:a=c-1>>3;for(h=0;h<c;h++)e[c-1-h]=b[h];for(h=d;h<d+c;h++)e[h-d]=="1"&&(g[a]|=1<<7-h%8),h&&(h+1)%8==0&&a--;return f[0]};b.toString=function(){var a=this.stream.copy(this.start,this.length);return a.toString()};babelHelpers.createClass(a,[{key:"start",set:function(a){if(a>this.stream.bitsCount)return;this.$2-=this.backward?this.$1-a:a-this.$1;this.$1=a;this.prevStart=this.$1;this.prevLength=this.$2},get:function(){return this.$1}},{key:"length",set:function(a){if(a>this.stream.bitsCount)return;this.prevLength=this.$2;this.$2=a},get:function(){return this.$2}},{key:"stream",set:function(a){this.$3=a,this.prevLength=this.$2,this.$2=a.bitsCount,this.prevStart=this.$1,this.$1=this.backward?this.length:0},get:function(){return this.$3}}]);return a}();g.SeqBitStream=b}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/oWar2RJI8Rv/
 */
__d("pkijs-2.2.1",["Promise","asn1js-2.1.1","bytestreamjs-1.0.29","pvutils-1.0.17","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function c(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var h=c(b("asn1js-2.1.1")),i=c(b("pvutils-1.0.17")),j=c(b("bytestreamjs-1.0.29")),k={},l={exports:k};function m(){Object.defineProperty(k,"__esModule",{value:!0});k["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.algorithmId=b.getParametersValue(a,"algorithmId",c.defaultValues("algorithmId")),"algorithmParams"in a&&(this.algorithmParams=b.getParametersValue(a,"algorithmParams",c.defaultValues("algorithmParams"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"algorithmId":return"";case"algorithmParams":return new a.Any();default:throw new Error("Invalid member name for AlgorithmIdentifier class: "+b)}};c.compareWithDefault=function(b,c){switch(b){case"algorithmId":return c==="";case"algorithmParams":return c instanceof a.Any;default:throw new Error("Invalid member name for AlgorithmIdentifier class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",optional:c.optional||!1,value:[new a.ObjectIdentifier({name:c.algorithmIdentifier||""}),new a.Any({name:c.algorithmParams||"",optional:!0})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["algorithm","params"]);d=a.compareSchema(d,d,c.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=d.result.algorithm.valueBlock.toString();"params"in d.result&&(this.algorithmParams=d.result.params)};d.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.algorithmId}));"algorithmParams"in this&&this.algorithmParams instanceof a.Any===!1&&b.push(this.algorithmParams);return new a.Sequence({value:b})};d.toJSON=function(){var b={algorithmId:this.algorithmId};"algorithmParams"in this&&this.algorithmParams instanceof a.Any===!1&&(b.algorithmParams=this.algorithmParams.toJSON());return b};d.isEqual=function(a){if(a instanceof c===!1)return!1;if(this.algorithmId!==a.algorithmId)return!1;if("algorithmParams"in this)return"algorithmParams"in a?JSON.stringify(this.algorithmParams)===JSON.stringify(a.algorithmParams):!1;return"algorithmParams"in a?!1:!0};return c}();k["default"]=d}var n=!1;function o(){n||(n=!0,m());return l.exports}var p={},q={exports:p};function r(){Object.defineProperty(p,"__esModule",{value:!0});p["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.x=b.getParametersValue(a,"x",c.defaultValues("x")),this.y=b.getParametersValue(a,"y",c.defaultValues("y")),this.namedCurve=b.getParametersValue(a,"namedCurve",c.defaultValues("namedCurve")),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}c.defaultValues=function(a){switch(a){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error("Invalid member name for ECCPublicKey class: "+a)}};c.compareWithDefault=function(a,d){switch(a){case"x":case"y":return b.isEqualBuffer(d,c.defaultValues(a));case"namedCurve":return d==="";default:throw new Error("Invalid member name for ECCPublicKey class: "+a)}};c.schema=function(b){b===void 0&&({});return new a.RawData()};var d=c.prototype;d.fromSchema=function(a){if(a instanceof ArrayBuffer===!1)throw new Error("Object's schema was not verified against input data for ECPublicKey");var b=new Uint8Array(a);if(b[0]!==4)throw new Error("Object's schema was not verified against input data for ECPublicKey");var c;switch(this.namedCurve){case"1.2.840.10045.3.1.7":c=32;break;case"1.3.132.0.34":c=48;break;case"1.3.132.0.35":c=66;break;default:throw new Error("Incorrect curve OID: "+this.namedCurve)}if(a.byteLength!==c*2+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=a.slice(1,c+1);this.y=a.slice(1+c,c*2+1)};d.toSchema=function(){return new a.RawData({data:b.utilConcatBuf(new Uint8Array([4]).buffer,this.x,this.y)})};d.toJSON=function(){var a="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":a="P-256";break;case"1.3.132.0.34":a="P-384";break;case"1.3.132.0.35":a="P-521";break;default:}return{crv:a,x:b.toBase64(b.arrayBufferToString(this.x),!0,!0,!1),y:b.toBase64(b.arrayBufferToString(this.y),!0,!0,!1)}};d.fromJSON=function(a){var c=0;if("crv"in a)switch(a.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7";c=32;break;case"P-384":this.namedCurve="1.3.132.0.34";c=48;break;case"P-521":this.namedCurve="1.3.132.0.35";c=66;break;default:}else throw new Error('Absent mandatory parameter "crv"');if("x"in a){var d=b.stringToArrayBuffer(b.fromBase64(a.x,!0));if(d.byteLength<c){this.x=new ArrayBuffer(c);var e=new Uint8Array(this.x),f=new Uint8Array(d);e.set(f,1)}else this.x=d.slice(0,c)}else throw new Error('Absent mandatory parameter "x"');if("y"in a){e=b.stringToArrayBuffer(b.fromBase64(a.y,!0));if(e.byteLength<c){this.y=new ArrayBuffer(c);f=new Uint8Array(this.y);d=new Uint8Array(e);f.set(d,1)}else this.y=e.slice(0,c)}else throw new Error('Absent mandatory parameter "y"')};return c}();p["default"]=d}var s=!1;function t(){s||(s=!0,r());return q.exports}var u={},v={exports:u};function w(){Object.defineProperty(u,"__esModule",{value:!0});u["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.modulus=b.getParametersValue(a,"modulus",c.defaultValues("modulus")),this.publicExponent=b.getParametersValue(a,"publicExponent",c.defaultValues("publicExponent")),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}c.defaultValues=function(b){switch(b){case"modulus":return new a.Integer();case"publicExponent":return new a.Integer();default:throw new Error("Invalid member name for RSAPublicKey class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Integer({name:c.modulus||""}),new a.Integer({name:c.publicExponent||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["modulus","publicExponent"]);d=a.compareSchema(d,d,c.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=d.result.modulus.convertFromDER(256);this.publicExponent=d.result.publicExponent};d.toSchema=function(){return new a.Sequence({value:[this.modulus.convertToDER(),this.publicExponent]})};d.toJSON=function(){return{n:b.toBase64(b.arrayBufferToString(this.modulus.valueBlock.valueHex),!0,!0,!0),e:b.toBase64(b.arrayBufferToString(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}};d.fromJSON=function(c){if("n"in c){var d=b.stringToArrayBuffer(b.fromBase64(c.n,!0));this.modulus=new a.Integer({valueHex:d.slice(0,Math.pow(2,b.nearestPowerOf2(d.byteLength)))})}else throw new Error('Absent mandatory parameter "n"');if("e"in c)this.publicExponent=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(c.e,!0)).slice(0,3)});else throw new Error('Absent mandatory parameter "e"')};return c}();u["default"]=d}var x=!1;function y(){x||(x=!0,w());return v.exports}var z={},A={exports:z};function B(){Object.defineProperty(z,"__esModule",{value:!0});z["default"]=void 0;var a=m(h()),c=i(),d=X(),e=k(o()),f=k(t()),j=k(y());function k(a){return a&&a.__esModule?a:{"default":a}}function l(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(l=function(a){return a?c:b})(a)}function m(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=l(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}m=function(){function h(a){a===void 0&&(a={}),this.algorithm=c.getParametersValue(a,"algorithm",h.defaultValues("algorithm")),this.subjectPublicKey=c.getParametersValue(a,"subjectPublicKey",h.defaultValues("subjectPublicKey")),"parsedKey"in a&&(this.parsedKey=c.getParametersValue(a,"parsedKey",h.defaultValues("parsedKey"))),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}h.defaultValues=function(b){switch(b){case"algorithm":return new e["default"]();case"subjectPublicKey":return new a.BitString();default:throw new Error("Invalid member name for PublicKeyInfo class: "+b)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[e["default"].schema(b.algorithm||{}),new a.BitString({name:b.subjectPublicKey||""})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["algorithm","subjectPublicKey"]);b=a.compareSchema(b,b,h.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");this.algorithm=new e["default"]({schema:b.result.algorithm});this.subjectPublicKey=b.result.subjectPublicKey;switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===a.ObjectIdentifier.blockName())try{this.parsedKey=new f["default"]({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch(a){}break;case"1.2.840.113549.1.1.1":b=a.fromBER(this.subjectPublicKey.valueBlock.valueHex);if(b.offset!==-1)try{this.parsedKey=new j["default"]({schema:b.result})}catch(a){}break;default:}};i.toSchema=function(){return new a.Sequence({value:[this.algorithm.toSchema(),this.subjectPublicKey]})};i.toJSON=function(){if("parsedKey"in this===!1)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};var a={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":a.kty="EC";break;case"1.2.840.113549.1.1.1":a.kty="RSA";break;default:}var b=this.parsedKey.toJSON();for(var c=0,d=Object.keys(b);c<d.length;c++){var e=d[c];a[e]=b[e]}return a};i.fromJSON=function(b){if("kty"in b){switch(b.kty.toUpperCase()){case"EC":this.parsedKey=new f["default"]({json:b});this.algorithm=new e["default"]({algorithmId:"1.2.840.10045.2.1",algorithmParams:new a.ObjectIdentifier({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new j["default"]({json:b});this.algorithm=new e["default"]({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new a.Null()});break;default:throw new Error('Invalid value for "kty" parameter: '+b.kty)}this.subjectPublicKey=new a.BitString({valueHex:this.parsedKey.toSchema().toBER(!1)})}};i.importKey=function(c){var e=(g||(g=b("Promise"))).resolve(),f=this;if(typeof c==="undefined")return(g||(g=b("Promise"))).reject("Need to provide publicKey input parameter");var h=d.getCrypto();if(typeof h==="undefined")return(g||(g=b("Promise"))).reject("Unable to create WebCrypto object");e=e.then(function(){return h.exportKey("spki",c)});e=e.then(function(c){c=a.fromBER(c);try{f.fromSchema(c.result)}catch(a){return(g||(g=b("Promise"))).reject("Error during initializing object from schema")}return void 0},function(a){return(g||(g=b("Promise"))).reject("Error during exporting public key: "+a)});return e};return h}();z["default"]=m}var C=!1;function D(){C||(C=!0,B());return A.exports}var E={},F={exports:E};function G(){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.type=b.getParametersValue(a,"type",c.defaultValues("type")),this.values=b.getParametersValue(a,"values",c.defaultValues("values")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"type":return"";case"values":return[];default:throw new Error("Invalid member name for Attribute class: "+a)}};c.compareWithDefault=function(a,b){switch(a){case"type":return b==="";case"values":return b.length===0;default:throw new Error("Invalid member name for Attribute class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.type||""}),new a.Set({name:c.setName||"",value:[new a.Repeated({name:c.values||"",value:new a.Any()})]})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["type","values"]);d=a.compareSchema(d,d,c.schema({names:{type:"type",values:"values"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for Attribute");this.type=d.result.type.valueBlock.toString();this.values=d.result.values};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.type}),new a.Set({value:this.values})]})};d.toJSON=function(){return{type:this.type,values:Array.from(this.values,function(a){return a.toJSON()})}};return c}();E["default"]=d}var H=!1;function I(){H||(H=!0,G());return F.exports}var J={},K={exports:J};function L(){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var a=f(h()),b=i(),c=d(t());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",d.defaultValues("version")),this.privateKey=b.getParametersValue(a,"privateKey",d.defaultValues("privateKey")),"namedCurve"in a&&(this.namedCurve=b.getParametersValue(a,"namedCurve",d.defaultValues("namedCurve"))),"publicKey"in a&&(this.publicKey=b.getParametersValue(a,"publicKey",d.defaultValues("publicKey"))),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}d.defaultValues=function(b){switch(b){case"version":return 1;case"privateKey":return new a.OctetString();case"namedCurve":return"";case"publicKey":return new c["default"]();default:throw new Error("Invalid member name for ECCPrivateKey class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"version":return b===d.defaultValues(a);case"privateKey":return b.isEqual(d.defaultValues(a));case"namedCurve":return b==="";case"publicKey":return c["default"].compareWithDefault("namedCurve",b.namedCurve)&&c["default"].compareWithDefault("x",b.x)&&c["default"].compareWithDefault("y",b.y);default:throw new Error("Invalid member name for ECCPrivateKey class: "+a)}};d.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Integer({name:c.version||""}),new a.OctetString({name:c.privateKey||""}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.ObjectIdentifier({name:c.namedCurve||""})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.BitString({name:c.publicKey||""})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["version","privateKey","namedCurve","publicKey"]);e=a.compareSchema(e,e,d.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for ECPrivateKey");this.version=e.result.version.valueBlock.valueDec;this.privateKey=e.result.privateKey;"namedCurve"in e.result&&(this.namedCurve=e.result.namedCurve.valueBlock.toString());if("publicKey"in e.result){e={schema:e.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(e.namedCurve=this.namedCurve);this.publicKey=new c["default"](e)}};e.toSchema=function(){var b=[new a.Integer({value:this.version}),this.privateKey];"namedCurve"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.ObjectIdentifier({value:this.namedCurve})]}));"publicKey"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new a.BitString({valueHex:this.publicKey.toSchema().toBER(!1)})]}));return new a.Sequence({value:b})};e.toJSON=function(){if("namedCurve"in this===!1||d.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');var a="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":a="P-256";break;case"1.3.132.0.34":a="P-384";break;case"1.3.132.0.35":a="P-521";break;default:}a={crv:a,d:b.toBase64(b.arrayBufferToString(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){var c=this.publicKey.toJSON();a.x=c.x;a.y=c.y}return a};e.fromJSON=function(d){var e=0;if("crv"in d)switch(d.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7";e=32;break;case"P-384":this.namedCurve="1.3.132.0.34";e=48;break;case"P-521":this.namedCurve="1.3.132.0.35";e=66;break;default:}else throw new Error('Absent mandatory parameter "crv"');if("d"in d){var f=b.stringToArrayBuffer(b.fromBase64(d.d,!0));if(f.byteLength<e){var g=new ArrayBuffer(e),h=new Uint8Array(g),i=new Uint8Array(f);h.set(i,1);this.privateKey=new a.OctetString({valueHex:g})}else this.privateKey=new a.OctetString({valueHex:f.slice(0,e)})}else throw new Error('Absent mandatory parameter "d"');"x"in d&&"y"in d&&(this.publicKey=new c["default"]({json:d}))};return d}();J["default"]=f}var aa=!1;function ba(){aa||(aa=!0,L());return K.exports}var ca={},da={exports:ca};function ea(){Object.defineProperty(ca,"__esModule",{value:!0});ca["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.prime=b.getParametersValue(a,"prime",c.defaultValues("prime")),this.exponent=b.getParametersValue(a,"exponent",c.defaultValues("exponent")),this.coefficient=b.getParametersValue(a,"coefficient",c.defaultValues("coefficient")),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}c.defaultValues=function(b){switch(b){case"prime":return new a.Integer();case"exponent":return new a.Integer();case"coefficient":return new a.Integer();default:throw new Error("Invalid member name for OtherPrimeInfo class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Integer({name:c.prime||""}),new a.Integer({name:c.exponent||""}),new a.Integer({name:c.coefficient||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["prime","exponent","coefficient"]);d=a.compareSchema(d,d,c.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=d.result.prime.convertFromDER();this.exponent=d.result.exponent.convertFromDER();this.coefficient=d.result.coefficient.convertFromDER()};d.toSchema=function(){return new a.Sequence({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})};d.toJSON=function(){return{r:b.toBase64(b.arrayBufferToString(this.prime.valueBlock.valueHex),!0,!0),d:b.toBase64(b.arrayBufferToString(this.exponent.valueBlock.valueHex),!0,!0),t:b.toBase64(b.arrayBufferToString(this.coefficient.valueBlock.valueHex),!0,!0)}};d.fromJSON=function(c){if("r"in c)this.prime=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(c.r,!0))});else throw new Error('Absent mandatory parameter "r"');if("d"in c)this.exponent=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(c.d,!0))});else throw new Error('Absent mandatory parameter "d"');if("t"in c)this.coefficient=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(c.t,!0))});else throw new Error('Absent mandatory parameter "t"')};return c}();ca["default"]=d}var fa=!1;function ga(){fa||(fa=!0,ea());return da.exports}var M={},ha={exports:M};function ia(){Object.defineProperty(M,"__esModule",{value:!0});M["default"]=void 0;var a=f(h()),b=i(),c=d(ga());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",d.defaultValues("version")),this.modulus=b.getParametersValue(a,"modulus",d.defaultValues("modulus")),this.publicExponent=b.getParametersValue(a,"publicExponent",d.defaultValues("publicExponent")),this.privateExponent=b.getParametersValue(a,"privateExponent",d.defaultValues("privateExponent")),this.prime1=b.getParametersValue(a,"prime1",d.defaultValues("prime1")),this.prime2=b.getParametersValue(a,"prime2",d.defaultValues("prime2")),this.exponent1=b.getParametersValue(a,"exponent1",d.defaultValues("exponent1")),this.exponent2=b.getParametersValue(a,"exponent2",d.defaultValues("exponent2")),this.coefficient=b.getParametersValue(a,"coefficient",d.defaultValues("coefficient")),"otherPrimeInfos"in a&&(this.otherPrimeInfos=b.getParametersValue(a,"otherPrimeInfos",d.defaultValues("otherPrimeInfos"))),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}d.defaultValues=function(b){switch(b){case"version":return 0;case"modulus":return new a.Integer();case"publicExponent":return new a.Integer();case"privateExponent":return new a.Integer();case"prime1":return new a.Integer();case"prime2":return new a.Integer();case"exponent1":return new a.Integer();case"exponent2":return new a.Integer();case"coefficient":return new a.Integer();case"otherPrimeInfos":return[];default:throw new Error("Invalid member name for RSAPrivateKey class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Integer({name:d.version||""}),new a.Integer({name:d.modulus||""}),new a.Integer({name:d.publicExponent||""}),new a.Integer({name:d.privateExponent||""}),new a.Integer({name:d.prime1||""}),new a.Integer({name:d.prime2||""}),new a.Integer({name:d.exponent1||""}),new a.Integer({name:d.exponent2||""}),new a.Integer({name:d.coefficient||""}),new a.Sequence({optional:!0,value:[new a.Repeated({name:d.otherPrimeInfosName||"",value:c["default"].schema(d.otherPrimeInfo||{})})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);e=a.compareSchema(e,e,d.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=e.result.version.valueBlock.valueDec;this.modulus=e.result.modulus.convertFromDER(256);this.publicExponent=e.result.publicExponent;this.privateExponent=e.result.privateExponent.convertFromDER(256);this.prime1=e.result.prime1.convertFromDER(128);this.prime2=e.result.prime2.convertFromDER(128);this.exponent1=e.result.exponent1.convertFromDER(128);this.exponent2=e.result.exponent2.convertFromDER(128);this.coefficient=e.result.coefficient.convertFromDER(128);"otherPrimeInfos"in e.result&&(this.otherPrimeInfos=Array.from(e.result.otherPrimeInfos,function(a){return new c["default"]({schema:a})}))};e.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));b.push(this.modulus.convertToDER());b.push(this.publicExponent);b.push(this.privateExponent.convertToDER());b.push(this.prime1.convertToDER());b.push(this.prime2.convertToDER());b.push(this.exponent1.convertToDER());b.push(this.exponent2.convertToDER());b.push(this.coefficient.convertToDER());"otherPrimeInfos"in this&&b.push(new a.Sequence({value:Array.from(this.otherPrimeInfos,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};e.toJSON=function(){var a={n:b.toBase64(b.arrayBufferToString(this.modulus.valueBlock.valueHex),!0,!0,!0),e:b.toBase64(b.arrayBufferToString(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:b.toBase64(b.arrayBufferToString(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:b.toBase64(b.arrayBufferToString(this.prime1.valueBlock.valueHex),!0,!0,!0),q:b.toBase64(b.arrayBufferToString(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:b.toBase64(b.arrayBufferToString(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:b.toBase64(b.arrayBufferToString(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:b.toBase64(b.arrayBufferToString(this.coefficient.valueBlock.valueHex),!0,!0,!0)};"otherPrimeInfos"in this&&(a.oth=Array.from(this.otherPrimeInfos,function(a){return a.toJSON()}));return a};e.fromJSON=function(d){if("n"in d)this.modulus=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.n,!0,!0))});else throw new Error('Absent mandatory parameter "n"');if("e"in d)this.publicExponent=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.e,!0,!0))});else throw new Error('Absent mandatory parameter "e"');if("d"in d)this.privateExponent=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.d,!0,!0))});else throw new Error('Absent mandatory parameter "d"');if("p"in d)this.prime1=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.p,!0,!0))});else throw new Error('Absent mandatory parameter "p"');if("q"in d)this.prime2=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.q,!0,!0))});else throw new Error('Absent mandatory parameter "q"');if("dp"in d)this.exponent1=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.dp,!0,!0))});else throw new Error('Absent mandatory parameter "dp"');if("dq"in d)this.exponent2=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.dq,!0,!0))});else throw new Error('Absent mandatory parameter "dq"');if("qi"in d)this.coefficient=new a.Integer({valueHex:b.stringToArrayBuffer(b.fromBase64(d.qi,!0,!0))});else throw new Error('Absent mandatory parameter "qi"');"oth"in d&&(this.otherPrimeInfos=Array.from(d.oth,function(a){return new c["default"]({json:a})}))};return d}();M["default"]=f}var ja=!1;function ka(){ja||(ja=!0,ia());return ha.exports}var la={},ma={exports:la};function na(){Object.defineProperty(la,"__esModule",{value:!0});la["default"]=void 0;var a=k(h()),b=i(),c=g(o()),d=g(I()),e=g(ba()),f=g(ka());function g(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",g.defaultValues("version")),this.privateKeyAlgorithm=b.getParametersValue(a,"privateKeyAlgorithm",g.defaultValues("privateKeyAlgorithm")),this.privateKey=b.getParametersValue(a,"privateKey",g.defaultValues("privateKey")),"attributes"in a&&(this.attributes=b.getParametersValue(a,"attributes",g.defaultValues("attributes"))),"parsedKey"in a&&(this.parsedKey=b.getParametersValue(a,"parsedKey",g.defaultValues("parsedKey"))),"schema"in a&&this.fromSchema(a.schema),"json"in a&&this.fromJSON(a.json)}g.defaultValues=function(b){switch(b){case"version":return 0;case"privateKeyAlgorithm":return new c["default"]();case"privateKey":return new a.OctetString();case"attributes":return[];case"parsedKey":return{};default:throw new Error("Invalid member name for PrivateKeyInfo class: "+b)}};g.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Integer({name:e.version||""}),c["default"].schema(e.privateKeyAlgorithm||{}),new a.OctetString({name:e.privateKey||""}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({name:e.attributes||"",value:d["default"].schema()})]})]})};var h=g.prototype;h.fromSchema=function(h){b.clearProps(h,["version","privateKeyAlgorithm","privateKey","attributes"]);h=a.compareSchema(h,h,g.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(h.verified===!1)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");this.version=h.result.version.valueBlock.valueDec;this.privateKeyAlgorithm=new c["default"]({schema:h.result.privateKeyAlgorithm});this.privateKey=h.result.privateKey;"attributes"in h.result&&(this.attributes=Array.from(h.result.attributes,function(a){return new d["default"]({schema:a})}));switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":h=a.fromBER(this.privateKey.valueBlock.valueHex);h.offset!==-1&&(this.parsedKey=new f["default"]({schema:h.result}));break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof a.ObjectIdentifier){h=a.fromBER(this.privateKey.valueBlock.valueHex);h.offset!==-1&&(this.parsedKey=new e["default"]({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:h.result}))}break;default:}};h.toSchema=function(){var b=[new a.Integer({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];"attributes"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};h.toJSON=function(){if("parsedKey"in this===!1){var a={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};"attributes"in this&&(a.attributes=Array.from(this.attributes,function(a){return a.toJSON()}));return a}a={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":a.kty="EC";break;case"1.2.840.113549.1.1.1":a.kty="RSA";break;default:}var b=this.parsedKey.toJSON();for(var c=0,d=Object.keys(b);c<d.length;c++){var e=d[c];a[e]=b[e]}return a};h.fromJSON=function(b){if("kty"in b){switch(b.kty.toUpperCase()){case"EC":this.parsedKey=new e["default"]({json:b});this.privateKeyAlgorithm=new c["default"]({algorithmId:"1.2.840.10045.2.1",algorithmParams:new a.ObjectIdentifier({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new f["default"]({json:b});this.privateKeyAlgorithm=new c["default"]({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new a.Null()});break;default:throw new Error('Invalid value for "kty" parameter: '+b.kty)}this.privateKey=new a.OctetString({valueHex:this.parsedKey.toSchema().toBER(!1)})}};return g}();la["default"]=k}var oa=!1;function N(){oa||(oa=!0,na());return ma.exports}var pa={},qa={exports:pa};function ra(){Object.defineProperty(pa,"__esModule",{value:!0});pa["default"]=void 0;var a=f(h()),b=i(),c=d(o());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(c){c===void 0&&(c={});this.contentType=b.getParametersValue(c,"contentType",d.defaultValues("contentType"));this.contentEncryptionAlgorithm=b.getParametersValue(c,"contentEncryptionAlgorithm",d.defaultValues("contentEncryptionAlgorithm"));if("encryptedContent"in c){this.encryptedContent=c.encryptedContent;if(this.encryptedContent.idBlock.tagClass===1&&this.encryptedContent.idBlock.tagNumber===4&&this.encryptedContent.idBlock.isConstructed===!1){var e=new a.OctetString({idBlock:{isConstructed:!0},isConstructed:!0}),f=0,g=this.encryptedContent.valueBlock.valueHex.byteLength;while(g>0){var h=new Uint8Array(this.encryptedContent.valueBlock.valueHex,f,f+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-f:1024),i=new ArrayBuffer(h.length),j=new Uint8Array(i);for(var k=0;k<j.length;k++)j[k]=h[k];e.valueBlock.value.push(new a.OctetString({valueHex:i}));g-=h.length;f+=h.length}this.encryptedContent=e}}"schema"in c&&this.fromSchema(c.schema)}d.defaultValues=function(b){switch(b){case"contentType":return"";case"contentEncryptionAlgorithm":return new c["default"]();case"encryptedContent":return new a.OctetString();default:throw new Error("Invalid member name for EncryptedContentInfo class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"contentType":return b==="";case"contentEncryptionAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"encryptedContent":return b.isEqual(d.defaultValues(a));default:throw new Error("Invalid member name for EncryptedContentInfo class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.ObjectIdentifier({name:d.contentType||""}),c["default"].schema(d.contentEncryptionAlgorithm||{}),new a.Choice({value:[new a.Constructed({name:d.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({value:new a.OctetString()})]}),new a.Primitive({name:d.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["contentType","contentEncryptionAlgorithm","encryptedContent"]);e=a.compareSchema(e,e,d.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=e.result.contentType.valueBlock.toString();this.contentEncryptionAlgorithm=new c["default"]({schema:e.result.contentEncryptionAlgorithm});"encryptedContent"in e.result&&(this.encryptedContent=e.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)};e.toSchema=function(){var b={isIndefiniteForm:!1},c=[];c.push(new a.ObjectIdentifier({value:this.contentType}));c.push(this.contentEncryptionAlgorithm.toSchema());if("encryptedContent"in this){b.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;var d=this.encryptedContent;d.idBlock.tagClass=3;d.idBlock.tagNumber=0;d.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;c.push(d)}return new a.Sequence({lenBlock:b,value:c})};e.toJSON=function(){var a={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};"encryptedContent"in this&&(a.encryptedContent=this.encryptedContent.toJSON());return a};return d}();pa["default"]=f}var sa=!1;function ta(){sa||(sa=!0,ra());return qa.exports}var O={},ua={exports:O};function va(){Object.defineProperty(O,"__esModule",{value:!0});O["default"]=void 0;var a=f(h()),b=i(),c=d(o());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.hashAlgorithm=b.getParametersValue(a,"hashAlgorithm",d.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=b.getParametersValue(a,"maskGenAlgorithm",d.defaultValues("maskGenAlgorithm")),this.saltLength=b.getParametersValue(a,"saltLength",d.defaultValues("saltLength")),this.trailerField=b.getParametersValue(a,"trailerField",d.defaultValues("trailerField")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"hashAlgorithm":return new c["default"]({algorithmId:"1.3.14.3.2.26",algorithmParams:new a.Null()});case"maskGenAlgorithm":return new c["default"]({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new c["default"]({algorithmId:"1.3.14.3.2.26",algorithmParams:new a.Null()}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error("Invalid member name for RSASSAPSSParams class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Constructed({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[c["default"].schema(d.hashAlgorithm||{})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[c["default"].schema(d.maskGenAlgorithm||{})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new a.Integer({name:d.saltLength||""})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new a.Integer({name:d.trailerField||""})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);e=a.compareSchema(e,e,d.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in e.result&&(this.hashAlgorithm=new c["default"]({schema:e.result.hashAlgorithm}));"maskGenAlgorithm"in e.result&&(this.maskGenAlgorithm=new c["default"]({schema:e.result.maskGenAlgorithm}));"saltLength"in e.result&&(this.saltLength=e.result.saltLength.valueBlock.valueDec);"trailerField"in e.result&&(this.trailerField=e.result.trailerField.valueBlock.valueDec)};e.toSchema=function(){var b=[];this.hashAlgorithm.isEqual(d.defaultValues("hashAlgorithm"))||b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]}));this.maskGenAlgorithm.isEqual(d.defaultValues("maskGenAlgorithm"))||b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]}));this.saltLength!==d.defaultValues("saltLength")&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[new a.Integer({value:this.saltLength})]}));this.trailerField!==d.defaultValues("trailerField")&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:3},value:[new a.Integer({value:this.trailerField})]}));return new a.Sequence({value:b})};e.toJSON=function(){var a={};this.hashAlgorithm.isEqual(d.defaultValues("hashAlgorithm"))||(a.hashAlgorithm=this.hashAlgorithm.toJSON());this.maskGenAlgorithm.isEqual(d.defaultValues("maskGenAlgorithm"))||(a.maskGenAlgorithm=this.maskGenAlgorithm.toJSON());this.saltLength!==d.defaultValues("saltLength")&&(a.saltLength=this.saltLength);this.trailerField!==d.defaultValues("trailerField")&&(a.trailerField=this.trailerField);return a};return d}();O["default"]=f}var P=!1;function Q(){P||(P=!0,va());return ua.exports}var R={},wa={exports:R};function xa(){Object.defineProperty(R,"__esModule",{value:!0});R["default"]=void 0;var a=f(h()),b=i(),c=d(o());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.salt=b.getParametersValue(a,"salt",d.defaultValues("salt")),this.iterationCount=b.getParametersValue(a,"iterationCount",d.defaultValues("iterationCount")),"keyLength"in a&&(this.keyLength=b.getParametersValue(a,"keyLength",d.defaultValues("keyLength"))),"prf"in a&&(this.prf=b.getParametersValue(a,"prf",d.defaultValues("prf"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new c["default"]({algorithmId:"1.3.14.3.2.26",algorithmParams:new a.Null()});default:throw new Error("Invalid member name for PBKDF2Params class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Choice({value:[new a.OctetString({name:d.saltPrimitive||""}),c["default"].schema(d.saltConstructed||{})]}),new a.Integer({name:d.iterationCount||""}),new a.Integer({name:d.keyLength||"",optional:!0}),c["default"].schema(d.prf||{names:{optional:!0}})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["salt","iterationCount","keyLength","prf"]);e=a.compareSchema(e,e,d.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=e.result.salt;this.iterationCount=e.result.iterationCount.valueBlock.valueDec;"keyLength"in e.result&&(this.keyLength=e.result.keyLength.valueBlock.valueDec);"prf"in e.result&&(this.prf=new c["default"]({schema:e.result.prf}))};e.toSchema=function(){var b=[];b.push(this.salt);b.push(new a.Integer({value:this.iterationCount}));"keyLength"in this&&(d.defaultValues("keyLength")!==this.keyLength&&b.push(new a.Integer({value:this.keyLength})));"prf"in this&&(d.defaultValues("prf").isEqual(this.prf)===!1&&b.push(this.prf.toSchema()));return new a.Sequence({value:b})};e.toJSON=function(){var a={salt:this.salt.toJSON(),iterationCount:this.iterationCount};"keyLength"in this&&(d.defaultValues("keyLength")!==this.keyLength&&(a.keyLength=this.keyLength));"prf"in this&&(d.defaultValues("prf").isEqual(this.prf)===!1&&(a.prf=this.prf.toJSON()));return a};return d}();R["default"]=f}var S=!1;function ya(){S||(S=!0,xa());return wa.exports}var za={},Aa={exports:za};function T(){Object.defineProperty(za,"__esModule",{value:!0});za["default"]=void 0;var a=f(h()),b=i(),c=d(o());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.keyDerivationFunc=b.getParametersValue(a,"keyDerivationFunc",d.defaultValues("keyDerivationFunc")),this.encryptionScheme=b.getParametersValue(a,"encryptionScheme",d.defaultValues("encryptionScheme")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"keyDerivationFunc":return new c["default"]();case"encryptionScheme":return new c["default"]();default:throw new Error("Invalid member name for PBES2Params class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.keyDerivationFunc||{}),c["default"].schema(d.encryptionScheme||{})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["keyDerivationFunc","encryptionScheme"]);e=a.compareSchema(e,e,d.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new c["default"]({schema:e.result.keyDerivationFunc});this.encryptionScheme=new c["default"]({schema:e.result.encryptionScheme})};e.toSchema=function(){return new a.Sequence({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})};e.toJSON=function(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}};return d}();za["default"]=f}var U=!1;function Ba(){U||(U=!0,T());return Aa.exports}var V={},Ca={exports:V};function Da(){Object.defineProperty(V,"__esModule",{value:!0});V["default"]=void 0;var a=r(h()),c=i(),d=X(),e=p(D()),f=p(N()),j=p(o()),k=p(ta()),l=p(Q()),m=p(ya()),n=p(Ba());function p(a){return a&&a.__esModule?a:{"default":a}}function q(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(q=function(a){return a?c:b})(a)}function r(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=q(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function s(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=t(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function t(a,b){if(!a)return;if(typeof a==="string")return u(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return u(a,b)}function u(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function v(a,c,d,e,f,h){var i,j,k=[];switch(c.toUpperCase()){case"SHA-1":i=20;j=64;break;case"SHA-256":i=32;j=64;break;case"SHA-384":i=48;j=128;break;case"SHA-512":i=64;j=128;break;default:throw new Error("Unsupported hashing algorithm")}var l=new Uint8Array(e),m=new ArrayBuffer(e.byteLength*2+2),n=new Uint8Array(m);for(var o=0;o<l.length;o++)n[o*2]=0,n[o*2+1]=l[o];n[n.length-2]=0;n[n.length-1]=0;e=m.slice(0);var p=new ArrayBuffer(j),q=new Uint8Array(p);for(o=0;o<p.byteLength;o++)q[o]=3;var r=f.byteLength;l=j*Math.ceil(r/j);n=new ArrayBuffer(l);m=new Uint8Array(n);o=new Uint8Array(f);for(f=0;f<l;f++)m[f]=o[f%r];var s=e.byteLength;f=j*Math.ceil(s/j);l=new ArrayBuffer(f);o=new Uint8Array(l);e=new Uint8Array(e);for(var t=0;t<f;t++)o[t]=e[t%s];t=n.byteLength+l.byteLength;var u=new ArrayBuffer(t),v=new Uint8Array(u);v.set(m);v.set(o,m.length);f=Math.ceil((d>>3)/i);e=(g||(g=b("Promise"))).resolve(u);for(n=0;n<=f;n++){e=e.then(function(a){a=new ArrayBuffer(p.byteLength+a.byteLength);var b=new Uint8Array(a);b.set(q);b.set(v,q.length);return a});for(l=0;l<h;l++)e=e.then(function(b){return a.digest({name:c},new Uint8Array(b))});e=e.then(function(a){var b=new ArrayBuffer(j),c=new Uint8Array(b);for(var d=0;d<b.byteLength;d++)c[d]=a[d%a.length];d=Math.ceil(r/j)+Math.ceil(s/j);var e=[],f=0,g=j;for(var h=0;h<d;h++){var i=Array.from(new Uint8Array(u.slice(f,f+g)));f+=j;f+j>u.byteLength&&(g=u.byteLength-f);var l=511;for(var m=b.byteLength-1;m>=0;m--)l>>=8,l+=c[m]+i[m],i[m]=l&255;e.push.apply(e,i)}u=new ArrayBuffer(e.length);v=new Uint8Array(u);v.set(e);k.push.apply(k,new Uint8Array(a));return u})}e=e.then(function(){var a=new ArrayBuffer(d>>3),b=new Uint8Array(a);b.set(new Uint8Array(k).slice(0,d>>3));return a});return e}r=function(){function h(a){a===void 0&&(a={}),this.crypto=c.getParametersValue(a,"crypto",{}),this.subtle=c.getParametersValue(a,"subtle",{}),this.name=c.getParametersValue(a,"name","")}var i=h.prototype;i.importKey=function(d,h,i,j,k){var l=this,m={};h instanceof Uint8Array&&(h=h.buffer);switch(d.toLowerCase()){case"raw":return this.subtle.importKey("raw",h,i,j,k);case"spki":var n=a.fromBER(h);if(n.offset===-1)return(g||(g=b("Promise"))).reject("Incorrect keyData");var o=new e["default"]();try{o.fromSchema(n.result)}catch(a){return(g||(g=b("Promise"))).reject("Incorrect keyData")}switch(i.name.toUpperCase()){case"RSA-PSS":switch(i.hash.name.toUpperCase()){case"SHA-1":m.alg="PS1";break;case"SHA-256":m.alg="PS256";break;case"SHA-384":m.alg="PS384";break;case"SHA-512":m.alg="PS512";break;default:return(g||(g=b("Promise"))).reject("Incorrect hash algorithm: "+i.hash.name.toUpperCase())}case"RSASSA-PKCS1-V1_5":k=["verify"];m.kty="RSA";m.ext=j;m.key_ops=k;if(o.algorithm.algorithmId!=="1.2.840.113549.1.1.1")return(g||(g=b("Promise"))).reject("Incorrect public key algorithm: "+o.algorithm.algorithmId);if("alg"in m===!1)switch(i.hash.name.toUpperCase()){case"SHA-1":m.alg="RS1";break;case"SHA-256":m.alg="RS256";break;case"SHA-384":m.alg="RS384";break;case"SHA-512":m.alg="RS512";break;default:return(g||(g=b("Promise"))).reject("Incorrect hash algorithm: "+i.hash.name.toUpperCase())}n=o.toJSON();for(var p=0,q=Object.keys(n);p<q.length;p++){var r=q[p];m[r]=n[r]}break;case"ECDSA":k=["verify"];case"ECDH":m={kty:"EC",ext:j,key_ops:k};if(o.algorithm.algorithmId!=="1.2.840.10045.2.1")return(g||(g=b("Promise"))).reject("Incorrect public key algorithm: "+o.algorithm.algorithmId);r=o.toJSON();for(q=0,p=Object.keys(r);q<p.length;q++){n=p[q];m[n]=r[n]}break;case"RSA-OAEP":m.kty="RSA";m.ext=j;m.key_ops=k;if(this.name.toLowerCase()==="safari")m.alg="RSA-OAEP";else switch(i.hash.name.toUpperCase()){case"SHA-1":m.alg="RSA-OAEP";break;case"SHA-256":m.alg="RSA-OAEP-256";break;case"SHA-384":m.alg="RSA-OAEP-384";break;case"SHA-512":m.alg="RSA-OAEP-512";break;default:return(g||(g=b("Promise"))).reject("Incorrect hash algorithm: "+i.hash.name.toUpperCase())}n=o.toJSON();for(p=0,q=Object.keys(n);p<q.length;p++){r=q[p];m[r]=n[r]}break;case"RSAES-PKCS1-V1_5":m.kty="RSA";m.ext=j;m.key_ops=k;m.alg="PS1";r=o.toJSON();for(q=0,p=Object.keys(r);q<p.length;q++){n=p[q];m[n]=r[n]}break;default:return(g||(g=b("Promise"))).reject("Incorrect algorithm name: "+i.name.toUpperCase())}break;case"pkcs8":o=new f["default"]();n=a.fromBER(h);if(n.offset===-1)return(g||(g=b("Promise"))).reject("Incorrect keyData");try{o.fromSchema(n.result)}catch(a){return(g||(g=b("Promise"))).reject("Incorrect keyData")}if("parsedKey"in o===!1)return(g||(g=b("Promise"))).reject("Incorrect keyData");switch(i.name.toUpperCase()){case"RSA-PSS":switch(i.hash.name.toUpperCase()){case"SHA-1":m.alg="PS1";break;case"SHA-256":m.alg="PS256";break;case"SHA-384":m.alg="PS384";break;case"SHA-512":m.alg="PS512";break;default:return(g||(g=b("Promise"))).reject("Incorrect hash algorithm: "+i.hash.name.toUpperCase())}case"RSASSA-PKCS1-V1_5":k=["sign"];m.kty="RSA";m.ext=j;m.key_ops=k;if(o.privateKeyAlgorithm.algorithmId!=="1.2.840.113549.1.1.1")return(g||(g=b("Promise"))).reject("Incorrect private key algorithm: "+o.privateKeyAlgorithm.algorithmId);if("alg"in m===!1)switch(i.hash.name.toUpperCase()){case"SHA-1":m.alg="RS1";break;case"SHA-256":m.alg="RS256";break;case"SHA-384":m.alg="RS384";break;case"SHA-512":m.alg="RS512";break;default:return(g||(g=b("Promise"))).reject("Incorrect hash algorithm: "+i.hash.name.toUpperCase())}p=o.toJSON();for(q=0,r=Object.keys(p);q<r.length;q++){n=r[q];m[n]=p[n]}break;case"ECDSA":k=["sign"];case"ECDH":m={kty:"EC",ext:j,key_ops:k};if(o.privateKeyAlgorithm.algorithmId!=="1.2.840.10045.2.1")return(g||(g=b("Promise"))).reject("Incorrect algorithm: "+o.privateKeyAlgorithm.algorithmId);n=o.toJSON();for(r=0,q=Object.keys(n);r<q.length;r++){p=q[r];m[p]=n[p]}break;case"RSA-OAEP":m.kty="RSA";m.ext=j;m.key_ops=k;if(this.name.toLowerCase()==="safari")m.alg="RSA-OAEP";else switch(i.hash.name.toUpperCase()){case"SHA-1":m.alg="RSA-OAEP";break;case"SHA-256":m.alg="RSA-OAEP-256";break;case"SHA-384":m.alg="RSA-OAEP-384";break;case"SHA-512":m.alg="RSA-OAEP-512";break;default:return(g||(g=b("Promise"))).reject("Incorrect hash algorithm: "+i.hash.name.toUpperCase())}p=o.toJSON();for(q=0,r=Object.keys(p);q<r.length;q++){n=r[q];m[n]=p[n]}break;case"RSAES-PKCS1-V1_5":k=["decrypt"];m.kty="RSA";m.ext=j;m.key_ops=k;m.alg="PS1";n=o.toJSON();for(r=0,q=Object.keys(n);r<q.length;r++){p=q[r];m[p]=n[p]}break;default:return(g||(g=b("Promise"))).reject("Incorrect algorithm name: "+i.name.toUpperCase())}break;case"jwk":m=h;break;default:return(g||(g=b("Promise"))).reject("Incorrect format: "+d)}return this.name.toLowerCase()==="safari"?(g||(g=b("Promise"))).resolve().then(function(){return l.subtle.importKey("jwk",c.stringToArrayBuffer(JSON.stringify(m)),i,j,k)}).then(function(a){return a},function(){return l.subtle.importKey("jwk",m,i,j,k)}):this.subtle.importKey("jwk",m,i,j,k)};i.exportKey=function(a,d){var h=this.subtle.exportKey("jwk",d);this.name.toLowerCase()==="safari"&&(h=h.then(function(a){return a instanceof ArrayBuffer?JSON.parse(c.arrayBufferToString(a)):a}));switch(a.toLowerCase()){case"raw":return this.subtle.exportKey("raw",d);case"spki":h=h.then(function(a){var c=new e["default"]();try{c.fromJSON(a)}catch(a){return(g||(g=b("Promise"))).reject("Incorrect key data")}return c.toSchema().toBER(!1)});break;case"pkcs8":h=h.then(function(a){var c=new f["default"]();try{c.fromJSON(a)}catch(a){return(g||(g=b("Promise"))).reject("Incorrect key data")}return c.toSchema().toBER(!1)});break;case"jwk":break;default:return(g||(g=b("Promise"))).reject("Incorrect format: "+a)}return h};i.convert=function(a,c,d,e,f,h){var i=this;switch(a.toLowerCase()){case"raw":switch(c.toLowerCase()){case"raw":return(g||(g=b("Promise"))).resolve(d);case"spki":return(g||(g=b("Promise"))).resolve().then(function(){return i.importKey("raw",d,e,f,h)}).then(function(a){return i.exportKey("spki",a)});case"pkcs8":return(g||(g=b("Promise"))).resolve().then(function(){return i.importKey("raw",d,e,f,h)}).then(function(a){return i.exportKey("pkcs8",a)});case"jwk":return(g||(g=b("Promise"))).resolve().then(function(){return i.importKey("raw",d,e,f,h)}).then(function(a){return i.exportKey("jwk",a)});default:return(g||(g=b("Promise"))).reject("Incorrect outputFormat: "+c)}case"spki":switch(c.toLowerCase()){case"raw":return(g||(g=b("Promise"))).resolve().then(function(){return i.importKey("spki",d,e,f,h)}).then(function(a){return i.exportKey("raw",a)});case"spki":return(g||(g=b("Promise"))).resolve(d);case"pkcs8":return(g||(g=b("Promise"))).reject("Impossible to convert between SPKI/PKCS8");case"jwk":return(g||(g=b("Promise"))).resolve().then(function(){return i.importKey("spki",d,e,f,h)}).then(function(a){return i.exportKey("jwk",a)});default:return(g||(g=b("Promise"))).reject("Incorrect outputFormat: "+c)}case"pkcs8":switch(c.toLowerCase()){case"raw":return(g||(g=b("Promise"))).resolve().then(function(){return i.importKey("pkcs8",d,e,f,h)}).then(function(a){return i.exportKey("raw",a)});case"spki":return(g||(g=b("Promise"))).reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return(g||(g=b("Promise"))).resolve(d);case"jwk":return(g||(g=b("Promise"))).resolve().then(function(){return i.importKey("pkcs8",d,e,f,h)}).then(function(a){return i.exportKey("jwk",a)});default:return(g||(g=b("Promise"))).reject("Incorrect outputFormat: "+c)}case"jwk":switch(c.toLowerCase()){case"raw":return(g||(g=b("Promise"))).resolve().then(function(){return i.importKey("jwk",d,e,f,h)}).then(function(a){return i.exportKey("raw",a)});case"spki":return(g||(g=b("Promise"))).resolve().then(function(){return i.importKey("jwk",d,e,f,h)}).then(function(a){return i.exportKey("spki",a)});case"pkcs8":return(g||(g=b("Promise"))).resolve().then(function(){return i.importKey("jwk",d,e,f,h)}).then(function(a){return i.exportKey("pkcs8",a)});case"jwk":return(g||(g=b("Promise"))).resolve(d);default:return(g||(g=b("Promise"))).reject("Incorrect outputFormat: "+c)}default:return(g||(g=b("Promise"))).reject("Incorrect inputFormat: "+a)}};i.encrypt=function(){var a;return(a=this.subtle).encrypt.apply(a,arguments)};i.decrypt=function(){var a;return(a=this.subtle).decrypt.apply(a,arguments)};i.sign=function(){var a;return(a=this.subtle).sign.apply(a,arguments)};i.verify=function(){var a;return(a=this.subtle).verify.apply(a,arguments)};i.digest=function(){var a;return(a=this.subtle).digest.apply(a,arguments)};i.generateKey=function(){var a;return(a=this.subtle).generateKey.apply(a,arguments)};i.deriveKey=function(){var a;return(a=this.subtle).deriveKey.apply(a,arguments)};i.deriveBits=function(){var a;return(a=this.subtle).deriveBits.apply(a,arguments)};i.wrapKey=function(){var a;return(a=this.subtle).wrapKey.apply(a,arguments)};i.unwrapKey=function(){var a;return(a=this.subtle).unwrapKey.apply(a,arguments)};i.getRandomValues=function(a){if("getRandomValues"in this.crypto===!1)throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(a)};i.getAlgorithmByOID=function(a){switch(a){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"};default:}return{}};i.getOIDByAlgorithm=function(a){var b="";switch(a.name.toUpperCase()){case"RSAES-PKCS1-V1_5":b="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(a.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.113549.1.1.5";break;case"SHA-256":b="1.2.840.113549.1.1.11";break;case"SHA-384":b="1.2.840.113549.1.1.12";break;case"SHA-512":b="1.2.840.113549.1.1.13";break;default:}break;case"RSA-PSS":b="1.2.840.113549.1.1.10";break;case"RSA-OAEP":b="1.2.840.113549.1.1.7";break;case"ECDSA":switch(a.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.10045.4.1";break;case"SHA-256":b="1.2.840.10045.4.3.2";break;case"SHA-384":b="1.2.840.10045.4.3.3";break;case"SHA-512":b="1.2.840.10045.4.3.4";break;default:}break;case"ECDH":switch(a.kdf.toUpperCase()){case"SHA-1":b="1.3.133.16.840.63.0.2";break;case"SHA-256":b="1.3.132.1.11.1";break;case"SHA-384":b="1.3.132.1.11.2";break;case"SHA-512":b="1.3.132.1.11.3";break;default:}break;case"AES-CTR":break;case"AES-CBC":switch(a.length){case 128:b="2.16.840.1.101.3.4.1.2";break;case 192:b="2.16.840.1.101.3.4.1.22";break;case 256:b="2.16.840.1.101.3.4.1.42";break;default:}break;case"AES-CMAC":break;case"AES-GCM":switch(a.length){case 128:b="2.16.840.1.101.3.4.1.6";break;case 192:b="2.16.840.1.101.3.4.1.26";break;case 256:b="2.16.840.1.101.3.4.1.46";break;default:}break;case"AES-CFB":switch(a.length){case 128:b="2.16.840.1.101.3.4.1.4";break;case 192:b="2.16.840.1.101.3.4.1.24";break;case 256:b="2.16.840.1.101.3.4.1.44";break;default:}break;case"AES-KW":switch(a.length){case 128:b="2.16.840.1.101.3.4.1.5";break;case 192:b="2.16.840.1.101.3.4.1.25";break;case 256:b="2.16.840.1.101.3.4.1.45";break;default:}break;case"HMAC":switch(a.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.113549.2.7";break;case"SHA-256":b="1.2.840.113549.2.9";break;case"SHA-384":b="1.2.840.113549.2.10";break;case"SHA-512":b="1.2.840.113549.2.11";break;default:}break;case"DH":b="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":b="1.3.14.3.2.26";break;case"SHA-256":b="2.16.840.1.101.3.4.2.1";break;case"SHA-384":b="2.16.840.1.101.3.4.2.2";break;case"SHA-512":b="2.16.840.1.101.3.4.2.3";break;case"CONCAT":break;case"HKDF":break;case"PBKDF2":b="1.2.840.113549.1.5.12";break;case"P-256":b="1.2.840.10045.3.1.7";break;case"P-384":b="1.3.132.0.34";break;case"P-521":b="1.3.132.0.35";break;default:}return b};i.getAlgorithmParameters=function(a,b){var c={algorithm:{},usages:[]};switch(a.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(b.toLowerCase()){case"generatekey":c={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":c={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(b.toLowerCase()){case"sign":case"verify":c={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":c={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":c={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(b.toLowerCase()){case"encrypt":case"decrypt":c={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":c={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":c={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;case"exportkey":default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(b.toLowerCase()){case"generatekey":c={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":c={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":c={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(b.toLowerCase()){case"exportkey":case"importkey":case"generatekey":c={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":c={algorithm:{name:"ECDH",namedCurve:"P-256","public":[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":c={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":c={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":c={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":c={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":c={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":c={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":c={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(b.toLowerCase()){case"sign":case"verify":c={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":c={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":switch(b.toLowerCase()){case"derivekey":c={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"HKDF"},usages:[]}}break;case"PBKDF2":switch(b.toLowerCase()){case"derivekey":c={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"PBKDF2"},usages:[]}}break;default:}return c};i.getHashAlgorithm=function(a){var b="";switch(a.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":b="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":b="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":b="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":b="SHA-512";break;case"1.2.840.113549.1.1.10":try{a=new l["default"]({schema:a.algorithmParams});if("hashAlgorithm"in a){a=this.getAlgorithmByOID(a.hashAlgorithm.algorithmId);if("name"in a===!1)return"";b=a.name}else b="SHA-1"}catch(a){}break;default:}return b};i.encryptEncryptedContentInfo=function(c){var d=this;if(c instanceof Object===!1)return(g||(g=b("Promise"))).reject('Parameters must have type "Object"');if("password"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "password"');if("contentEncryptionAlgorithm"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if("hmacHashAlgorithm"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "hmacHashAlgorithm"');if("iterationCount"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "iterationCount"');if("contentToEncrypt"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "contentToEncrypt"');if("contentType"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "contentType"');var e=this.getOIDByAlgorithm(c.contentEncryptionAlgorithm);if(e==="")return(g||(g=b("Promise"))).reject('Wrong "contentEncryptionAlgorithm" value');var f=this.getOIDByAlgorithm({name:"PBKDF2"});if(f==="")return(g||(g=b("Promise"))).reject("Can not find OID for PBKDF2");var h=this.getOIDByAlgorithm({name:"HMAC",hash:{name:c.hmacHashAlgorithm}});if(h==="")return(g||(g=b("Promise"))).reject('Incorrect value for "hmacHashAlgorithm": '+c.hmacHashAlgorithm);var i=(g||(g=b("Promise"))).resolve(),l=new ArrayBuffer(16),o=new Uint8Array(l);this.getRandomValues(o);var p=new ArrayBuffer(64),q=new Uint8Array(p);this.getRandomValues(q);var r=new Uint8Array(c.contentToEncrypt),s=new m["default"]({salt:new a.OctetString({valueHex:p}),iterationCount:c.iterationCount,prf:new j["default"]({algorithmId:h,algorithmParams:new a.Null()})});i=i.then(function(){var a=new Uint8Array(c.password);return d.importKey("raw",a,"PBKDF2",!1,["deriveKey"])},function(a){return(g||(g=b("Promise"))).reject(a)});i=i.then(function(a){return d.deriveKey({name:"PBKDF2",hash:{name:c.hmacHashAlgorithm},salt:q,iterations:c.iterationCount},a,c.contentEncryptionAlgorithm,!1,["encrypt"])},function(a){return(g||(g=b("Promise"))).reject(a)});i=i.then(function(a){return d.encrypt({name:c.contentEncryptionAlgorithm.name,iv:o},a,r)},function(a){return(g||(g=b("Promise"))).reject(a)});i=i.then(function(b){var d=new n["default"]({keyDerivationFunc:new j["default"]({algorithmId:f,algorithmParams:s.toSchema()}),encryptionScheme:new j["default"]({algorithmId:e,algorithmParams:new a.OctetString({valueHex:l})})});return new k["default"]({contentType:c.contentType,contentEncryptionAlgorithm:new j["default"]({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:d.toSchema()}),encryptedContent:new a.OctetString({valueHex:b})})},function(a){return(g||(g=b("Promise"))).reject(a)});return i};i.decryptEncryptedContentInfo=function(a){var d=this;if(a instanceof Object===!1)return(g||(g=b("Promise"))).reject('Parameters must have type "Object"');if("password"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "password"');if("encryptedContentInfo"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "encryptedContentInfo"');if(a.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId!=="1.2.840.113549.1.5.13")return(g||(g=b("Promise"))).reject('Unknown "contentEncryptionAlgorithm": '+a.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);var e=(g||(g=b("Promise"))).resolve(),f;try{f=new n["default"]({schema:a.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch(a){return(g||(g=b("Promise"))).reject('Incorrectly encoded "pbes2Parameters"')}var h;try{h=new m["default"]({schema:f.keyDerivationFunc.algorithmParams})}catch(a){return(g||(g=b("Promise"))).reject('Incorrectly encoded "pbkdf2Params"')}var i=this.getAlgorithmByOID(f.encryptionScheme.algorithmId);if("name"in i===!1)return(g||(g=b("Promise"))).reject('Incorrect OID for "contentEncryptionAlgorithm": '+f.encryptionScheme.algorithmId);var j=f.encryptionScheme.algorithmParams.valueBlock.valueHex,k=new Uint8Array(j);j=h.salt.valueBlock.valueHex;var l=new Uint8Array(j),o=h.iterationCount,p="SHA-1";if("prf"in h){j=this.getAlgorithmByOID(h.prf.algorithmId);if("name"in j===!1)return(g||(g=b("Promise"))).reject("Incorrect OID for HMAC hash algorithm");p=j.hash.name}e=e.then(function(){return d.importKey("raw",a.password,"PBKDF2",!1,["deriveKey"])},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(a){return d.deriveKey({name:"PBKDF2",hash:{name:p},salt:l,iterations:o},a,i,!1,["decrypt"])},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(b){var e=new ArrayBuffer(0);if(a.encryptedContentInfo.encryptedContent.idBlock.isConstructed===!1)e=a.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else{var f=s(a.encryptedContentInfo.encryptedContent.valueBlock.value),g;try{for(f.s();!(g=f.n()).done;){g=g.value;e=c.utilConcatBuf(e,g.valueBlock.valueHex)}}catch(a){f.e(a)}finally{f.f()}}return d.decrypt({name:i.name,iv:k},b,e)},function(a){return(g||(g=b("Promise"))).reject(a)});return e};i.stampDataWithPassword=function(a){var c=this;if(a instanceof Object===!1)return(g||(g=b("Promise"))).reject('Parameters must have type "Object"');if("password"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "password"');if("hashAlgorithm"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "hashAlgorithm"');if("salt"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "iterationCount"');if("iterationCount"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "salt"');if("contentToStamp"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "contentToStamp"');var d;switch(a.hashAlgorithm.toLowerCase()){case"sha-1":d=160;break;case"sha-256":d=256;break;case"sha-384":d=384;break;case"sha-512":d=512;break;default:return(g||(g=b("Promise"))).reject('Incorrect "parameters.hashAlgorithm" parameter: '+a.hashAlgorithm)}var e=(g||(g=b("Promise"))).resolve(),f={name:"HMAC",length:d,hash:{name:a.hashAlgorithm}};e=e.then(function(){return v(c,a.hashAlgorithm,d,a.password,a.salt,a.iterationCount)});e=e.then(function(a){return c.importKey("raw",new Uint8Array(a),f,!1,["sign"])});e=e.then(function(b){return c.sign(f,b,new Uint8Array(a.contentToStamp))},function(a){return(g||(g=b("Promise"))).reject(a)});return e};i.verifyDataStampedWithPassword=function(a){var c=this;if(a instanceof Object===!1)return(g||(g=b("Promise"))).reject('Parameters must have type "Object"');if("password"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "password"');if("hashAlgorithm"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "hashAlgorithm"');if("salt"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "iterationCount"');if("iterationCount"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "salt"');if("contentToVerify"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "contentToVerify"');if("signatureToVerify"in a===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "signatureToVerify"');var d;switch(a.hashAlgorithm.toLowerCase()){case"sha-1":d=160;break;case"sha-256":d=256;break;case"sha-384":d=384;break;case"sha-512":d=512;break;default:return(g||(g=b("Promise"))).reject('Incorrect "parameters.hashAlgorithm" parameter: '+a.hashAlgorithm)}var e=(g||(g=b("Promise"))).resolve(),f={name:"HMAC",length:d,hash:{name:a.hashAlgorithm}};e=e.then(function(){return v(c,a.hashAlgorithm,d,a.password,a.salt,a.iterationCount)});e=e.then(function(a){return c.importKey("raw",new Uint8Array(a),f,!1,["verify"])});e=e.then(function(b){return c.verify(f,b,new Uint8Array(a.signatureToVerify),new Uint8Array(a.contentToVerify))},function(a){return(g||(g=b("Promise"))).reject(a)});return e};i.getSignatureParameters=function(c,d){d===void 0&&(d="SHA-1");var e=this.getOIDByAlgorithm({name:d});if(e==="")return(g||(g=b("Promise"))).reject("Unsupported hash algorithm: "+d);var f=new j["default"](),h=this.getAlgorithmParameters(c.algorithm.name,"sign");h.algorithm.hash.name=d;switch(c.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":f.algorithmId=this.getOIDByAlgorithm(h.algorithm);break;case"RSA-PSS":switch(d.toUpperCase()){case"SHA-256":h.algorithm.saltLength=32;break;case"SHA-384":h.algorithm.saltLength=48;break;case"SHA-512":h.algorithm.saltLength=64;break;default:}e={};if(d.toUpperCase()!=="SHA-1"){var i=this.getOIDByAlgorithm({name:d});if(i==="")return(g||(g=b("Promise"))).reject("Unsupported hash algorithm: "+d);e.hashAlgorithm=new j["default"]({algorithmId:i,algorithmParams:new a.Null()});e.maskGenAlgorithm=new j["default"]({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:e.hashAlgorithm.toSchema()})}h.algorithm.saltLength!==20&&(e.saltLength=h.algorithm.saltLength);d=new l["default"](e);f.algorithmId="1.2.840.113549.1.1.10";f.algorithmParams=d.toSchema();break;default:return(g||(g=b("Promise"))).reject("Unsupported signature algorithm: "+c.algorithm.name)}return(g||(g=b("Promise"))).resolve().then(function(){return{signatureAlgorithm:f,parameters:h}})};i.signWithPrivateKey=function(a,c,e){return this.sign(e.algorithm,c,new Uint8Array(a)).then(function(a){e.algorithm.name==="ECDSA"&&(a=d.createCMSECDSASignature(a));return a},function(a){return(g||(g=b("Promise"))).reject("Signing error: "+a)})};i.fillPublicKeyParameters=function(a,c){var d={},e=this.getHashAlgorithm(c);if(e==="")return(g||(g=b("Promise"))).reject("Unsupported signature algorithm: "+c.algorithmId);var f;c.algorithmId==="1.2.840.113549.1.1.10"?f=c.algorithmId:f=a.algorithm.algorithmId;f=this.getAlgorithmByOID(f);if("name"in f==="")return(g||(g=b("Promise"))).reject("Unsupported public key algorithm: "+c.algorithmId);d.algorithm=this.getAlgorithmParameters(f.name,"importkey");"hash"in d.algorithm.algorithm&&(d.algorithm.algorithm.hash.name=e);if(f.name==="ECDSA"){c=!1;"algorithmParams"in a.algorithm===!0&&("idBlock"in a.algorithm.algorithmParams&&(a.algorithm.algorithmParams.idBlock.tagClass===1&&a.algorithm.algorithmParams.idBlock.tagNumber===6&&(c=!0)));if(c===!1)return(g||(g=b("Promise"))).reject("Incorrect type for ECDSA public key parameters");e=this.getAlgorithmByOID(a.algorithm.algorithmParams.valueBlock.toString());if("name"in e===!1)return(g||(g=b("Promise"))).reject("Unsupported named curve algorithm: "+a.algorithm.algorithmParams.valueBlock.toString());d.algorithm.algorithm.namedCurve=e.name}return d};i.getPublicKey=function(a,b,c){c===void 0&&(c=null);c===null&&(c=this.fillPublicKeyParameters(a,b));b=a.toSchema();a=b.toBER(!1);b=new Uint8Array(a);return this.importKey("spki",b,c.algorithm.algorithm,!0,c.algorithm.usages)};i.verifyWithPublicKey=function(c,e,f,h,i){var j=this;i===void 0&&(i=null);var k=(g||(g=b("Promise"))).resolve();if(i===null){i=this.getHashAlgorithm(h);if(i==="")return(g||(g=b("Promise"))).reject("Unsupported signature algorithm: "+h.algorithmId);k=k.then(function(){return j.getPublicKey(f,h)})}else{var m={},n;h.algorithmId==="1.2.840.113549.1.1.10"?n=h.algorithmId:n=f.algorithm.algorithmId;n=this.getAlgorithmByOID(n);if("name"in n==="")return(g||(g=b("Promise"))).reject("Unsupported public key algorithm: "+h.algorithmId);m.algorithm=this.getAlgorithmParameters(n.name,"importkey");"hash"in m.algorithm.algorithm&&(m.algorithm.algorithm.hash.name=i);if(n.name==="ECDSA"){n=!1;"algorithmParams"in f.algorithm===!0&&("idBlock"in f.algorithm.algorithmParams&&(f.algorithm.algorithmParams.idBlock.tagClass===1&&f.algorithm.algorithmParams.idBlock.tagNumber===6&&(n=!0)));if(n===!1)return(g||(g=b("Promise"))).reject("Incorrect type for ECDSA public key parameters");n=this.getAlgorithmByOID(f.algorithm.algorithmParams.valueBlock.toString());if("name"in n===!1)return(g||(g=b("Promise"))).reject("Unsupported named curve algorithm: "+f.algorithm.algorithmParams.valueBlock.toString());m.algorithm.algorithm.namedCurve=n.name}k=k.then(function(){return j.getPublicKey(f,null,m)})}k=k.then(function(f){var k=j.getAlgorithmParameters(f.algorithm.name,"verify");"hash"in k.algorithm&&(k.algorithm.hash.name=i);var m=e.valueBlock.valueHex;if(f.algorithm.name==="ECDSA"){var n=a.fromBER(m);m=d.createECDSASignatureFromCMS(n.result)}if(f.algorithm.name==="RSA-PSS"){var o;try{o=new l["default"]({schema:h.algorithmParams})}catch(a){return(g||(g=b("Promise"))).reject(a)}"saltLength"in o?k.algorithm.saltLength=o.saltLength:k.algorithm.saltLength=20;n="SHA-1";if("hashAlgorithm"in o){var p=j.getAlgorithmByOID(o.hashAlgorithm.algorithmId);if("name"in p===!1)return(g||(g=b("Promise"))).reject("Unrecognized hash algorithm: "+o.hashAlgorithm.algorithmId);n=p.name}k.algorithm.hash.name=n}return j.verify(k.algorithm,f,new Uint8Array(m),new Uint8Array(c))});return k};return h}();V["default"]=r}var Ea=!1;function Fa(){Ea||(Ea=!0,Da());return Ca.exports}var W={},Ga={exports:W};function Ha(){Object.defineProperty(W,"__esModule",{value:!0});W.createCMSECDSASignature=v;W.createECDSASignatureFromCMS=x;W.getAlgorithmByOID=y;W.getAlgorithmParameters=u;W.getCrypto=r;W.getEngine=q;W.getHashAlgorithm=z;W.getOIDByAlgorithm=t;W.getRandomValues=s;W.kdf=B;W.kdfWithCounter=A;W.setEngine=p;W.stringPrep=w;var c=k(h()),d=i(),e=f(Fa());function f(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function l(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=m(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function m(a,b){if(!a)return;if(typeof a==="string")return n(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return n(a,b)}function n(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}var o={name:"none",crypto:null,subtle:null};function p(b,c,d){if(typeof process!=="undefined"&&"pid"in process&&typeof a!=="undefined"&&typeof window==="undefined"){if(typeof a[process.pid]==="undefined")a[process.pid]={};else if(typeof a[process.pid]!=="object")throw new Error("Name global."+process.pid+" already exists and it is not an object");if(typeof a[process.pid].pkijs==="undefined")a[process.pid].pkijs={};else if(typeof a[process.pid].pkijs!=="object")throw new Error("Name global."+process.pid+".pkijs already exists and it is not an object");a[process.pid].pkijs.engine={name:b,crypto:c,subtle:d}}else o.name!==b&&(o={name:b,crypto:c,subtle:d})}function q(){if(typeof process!=="undefined"&&"pid"in process&&typeof a!=="undefined"&&typeof window==="undefined"){var b;try{b=a[process.pid].pkijs.engine}catch(a){throw new Error('Please call "setEngine" before call to "getEngine"')}return b}return o}(function(){if(typeof self!=="undefined"&&"crypto"in self){var a="webcrypto",b=self.crypto,c;if("webkitSubtle"in self.crypto){try{c=self.crypto.webkitSubtle}catch(a){c=self.crypto.subtle}a="safari"}"subtle"in self.crypto&&(c=self.crypto.subtle);typeof c==="undefined"?o={name:a,crypto:b,subtle:null}:o={name:a,crypto:b,subtle:new e["default"]({name:a,crypto:self.crypto,subtle:c})}}p(o.name,o.crypto,o.subtle)})();function r(){var a=q();return a.subtle!==null?a.subtle:void 0}function s(a){return q().subtle.getRandomValues(a)}function t(a){return q().subtle.getOIDByAlgorithm(a)}function u(a,b){return q().subtle.getAlgorithmParameters(a,b)}function v(a){if(a.byteLength%2!==0)return new ArrayBuffer(0);var b=a.byteLength/2,d=new ArrayBuffer(b),e=new Uint8Array(d);e.set(new Uint8Array(a,0,b));e=new c.Integer({valueHex:d});d=new ArrayBuffer(b);var f=new Uint8Array(d);f.set(new Uint8Array(a,b,b));f=new c.Integer({valueHex:d});return new c.Sequence({value:[e.convertToDER(),f.convertToDER()]}).toBER(!1)}function w(a){var b=!1,c="";a=a.trim();for(var d=0;d<a.length;d++)a.charCodeAt(d)===32?b===!1&&(b=!0):(b&&(c+=" ",b=!1),c+=a[d]);return c.toLowerCase()}function x(a){if(a instanceof c.Sequence===!1)return new ArrayBuffer(0);if(a.valueBlock.value.length!==2)return new ArrayBuffer(0);if(a.valueBlock.value[0]instanceof c.Integer===!1)return new ArrayBuffer(0);if(a.valueBlock.value[1]instanceof c.Integer===!1)return new ArrayBuffer(0);var b=a.valueBlock.value[0].convertFromDER();a=a.valueBlock.value[1].convertFromDER();switch(!0){case b.valueBlock.valueHex.byteLength<a.valueBlock.valueHex.byteLength:if(a.valueBlock.valueHex.byteLength-b.valueBlock.valueHex.byteLength!==1)throw new Error("Incorrect DER integer decoding");var e=a.valueBlock.valueHex.byteLength,f=new Uint8Array(b.valueBlock.valueHex);e=new ArrayBuffer(e);var g=new Uint8Array(e);g.set(f,1);g[0]=0;return d.utilConcatBuf(e,a.valueBlock.valueHex);case b.valueBlock.valueHex.byteLength>a.valueBlock.valueHex.byteLength:if(b.valueBlock.valueHex.byteLength-a.valueBlock.valueHex.byteLength!==1)throw new Error("Incorrect DER integer decoding");f=b.valueBlock.valueHex.byteLength;g=new Uint8Array(a.valueBlock.valueHex);e=new ArrayBuffer(f);f=new Uint8Array(e);f.set(g,1);f[0]=0;return d.utilConcatBuf(b.valueBlock.valueHex,e);default:if(b.valueBlock.valueHex.byteLength%2){g=b.valueBlock.valueHex.byteLength+1;f=new Uint8Array(b.valueBlock.valueHex);e=new ArrayBuffer(g);var h=new Uint8Array(e);h.set(f,1);h[0]=0;f=new Uint8Array(a.valueBlock.valueHex);h=new ArrayBuffer(g);g=new Uint8Array(h);g.set(f,1);g[0]=0;return d.utilConcatBuf(e,h)}}return d.utilConcatBuf(b.valueBlock.valueHex,a.valueBlock.valueHex)}function y(a){return q().subtle.getAlgorithmByOID(a)}function z(a){return q().subtle.getHashAlgorithm(a)}function A(a,c,e,f){switch(a.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;default:return(g||(g=b("Promise"))).reject("Unknown hash function: "+a)}if(c instanceof ArrayBuffer===!1)return(g||(g=b("Promise"))).reject('Please set "Zbuffer" as "ArrayBuffer"');if(c.byteLength===0)return(g||(g=b("Promise"))).reject('"Zbuffer" has zero length, error');if(f instanceof ArrayBuffer===!1)return(g||(g=b("Promise"))).reject('Please set "SharedInfo" as "ArrayBuffer"');if(e>255)return(g||(g=b("Promise"))).reject('Please set "Counter" variable to value less or equal to 255');var h=new ArrayBuffer(4),i=new Uint8Array(h);i[0]=0;i[1]=0;i[2]=0;i[3]=e;i=new ArrayBuffer(0);var j=r();if(typeof j==="undefined")return(g||(g=b("Promise"))).reject("Unable to create WebCrypto object");i=d.utilConcatBuf(i,c);i=d.utilConcatBuf(i,h);i=d.utilConcatBuf(i,f);return j.digest({name:a},i).then(function(a){return{counter:e,result:a}})}function B(a,c,e,f){var h=0,i=1,j=[];switch(a.toUpperCase()){case"SHA-1":h=160;break;case"SHA-256":h=256;break;case"SHA-384":h=384;break;case"SHA-512":h=512;break;default:return(g||(g=b("Promise"))).reject("Unknown hash function: "+a)}if(c instanceof ArrayBuffer===!1)return(g||(g=b("Promise"))).reject('Please set "Zbuffer" as "ArrayBuffer"');if(c.byteLength===0)return(g||(g=b("Promise"))).reject('"Zbuffer" has zero length, error');if(f instanceof ArrayBuffer===!1)return(g||(g=b("Promise"))).reject('Please set "SharedInfo" as "ArrayBuffer"');h=e/h;Math.floor(h)>0&&(i=Math.floor(h),h-i>0&&i++);for(h=1;h<=i;h++)j.push(A(a,c,h,f));return(g||(g=b("Promise"))).all(j).then(function(a){var b=new ArrayBuffer(0),c=1,f=!0;while(f){f=!1;var g=l(a),h;try{for(g.s();!(h=g.n()).done;){h=h.value;if(h.counter===c){b=d.utilConcatBuf(b,h.result);f=!0;break}}}catch(a){g.e(a)}finally{g.f()}c++}e>>=3;if(b.byteLength>e){h=new ArrayBuffer(e);g=new Uint8Array(h);c=new Uint8Array(b);for(f=0;f<e;f++)g[f]=c[f];return h}return b})}}var Ia=!1;function X(){Ia||(Ia=!0,Ha());return Ga.exports}var Y={},Ja={exports:Y};function Ka(){Object.defineProperty(Y,"__esModule",{value:!0});Y["default"]=void 0;var a=e(h()),b=i(),c=X();function d(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(d=function(a){return a?c:b})(a)}function e(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=d(b);if(b&&b.has(a))return b.get(a);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}function f(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=g(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,h;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,h=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw h}}}}function g(a,b){if(!a)return;if(typeof a==="string")return j(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return j(a,b)}function j(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}e=function(){function d(a){a===void 0&&(a={}),this.type=b.getParametersValue(a,"type",d.defaultValues("type")),this.value=b.getParametersValue(a,"value",d.defaultValues("value")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"type":return"";case"value":return{};default:throw new Error("Invalid member name for AttributeTypeAndValue class: "+a)}};d.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.type||""}),new a.Any({name:c.value||""})]})};d.blockName=function(){return"AttributeTypeAndValue"};var e=d.prototype;e.fromSchema=function(c){b.clearProps(c,["type","typeValue"]);c=a.compareSchema(c,c,d.schema({names:{type:"type",value:"typeValue"}}));if(c.verified===!1)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=c.result.type.valueBlock.toString();this.value=c.result.typeValue};e.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.type}),this.value]})};e.toJSON=function(){var a={type:this.type};Object.keys(this.value).length!==0?a.value=this.value.toJSON():a.value=this.value;return a};e.isEqual=function(e){var g=[a.Utf8String.blockName(),a.BmpString.blockName(),a.UniversalString.blockName(),a.NumericString.blockName(),a.PrintableString.blockName(),a.TeletexString.blockName(),a.VideotexString.blockName(),a.IA5String.blockName(),a.GraphicString.blockName(),a.VisibleString.blockName(),a.GeneralString.blockName(),a.CharacterString.blockName()];if(e.constructor.blockName()===d.blockName()){if(this.type!==e.type)return!1;var h=[!1,!1],i=this.value.constructor.blockName();g=f(g);var j;try{for(g.s();!(j=g.n()).done;){j=j.value;i===j&&(h[0]=!0);e.value.constructor.blockName()===j&&(h[1]=!0)}}catch(a){g.e(a)}finally{g.f()}if(h[0]^h[1])return!1;h=h[0]&&h[1];if(h){j=c.stringPrep(this.value.valueBlock.value);i=c.stringPrep(e.value.valueBlock.value);if(j.localeCompare(i)!==0)return!1}else if(b.isEqualBuffer(this.value.valueBeforeDecode,e.value.valueBeforeDecode)===!1)return!1;return!0}return e instanceof ArrayBuffer?b.isEqualBuffer(this.value.valueBeforeDecode,e):!1};return d}();Y["default"]=e}var La=!1;function Ma(){La||(La=!0,Ka());return Ja.exports}var Na={},Oa={exports:Na};function Pa(){Object.defineProperty(Na,"__esModule",{value:!0});Na["default"]=void 0;var a=f(h()),b=i(),c=d(Ma());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}function g(a,b){return l(a)||k(a,b)||n(a,b)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(a,b){var c=a==null?null:typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(c==null)return;var d=[],e=!0,f=!1,g;try{for(c=c.call(a);!(e=(a=c.next()).done);e=!0){d.push(a.value);if(b&&d.length===b)break}}catch(a){f=!0,g=a}finally{try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}return d}function l(a){if(Array.isArray(a))return a}function m(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=n(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function n(a,b){if(!a)return;if(typeof a==="string")return o(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return o(a,b)}function o(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}f=function(){function d(a){a===void 0&&(a={}),this.typesAndValues=b.getParametersValue(a,"typesAndValues",d.defaultValues("typesAndValues")),this.valueBeforeDecode=b.getParametersValue(a,"valueBeforeDecode",d.defaultValues("valueBeforeDecode")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error("Invalid member name for RelativeDistinguishedNames class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"typesAndValues":return b.length===0;case"valueBeforeDecode":return b.byteLength===0;default:throw new Error("Invalid member name for RelativeDistinguishedNames class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.repeatedSequence||"",value:new a.Set({value:[new a.Repeated({name:d.repeatedSet||"",value:c["default"].schema(d.typeAndValue||{})})]})})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["RDN","typesAndValues"]);e=a.compareSchema(e,e,d.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in e.result&&(this.typesAndValues=Array.from(e.result.typesAndValues,function(a){return new c["default"]({schema:a})}));this.valueBeforeDecode=e.result.RDN.valueBeforeDecode};e.toSchema=function(){if(this.valueBeforeDecode.byteLength===0)return new a.Sequence({value:[new a.Set({value:Array.from(this.typesAndValues,function(a){return a.toSchema()})})]});var b=a.fromBER(this.valueBeforeDecode);return b.result};e.toJSON=function(){return{typesAndValues:Array.from(this.typesAndValues,function(a){return a.toJSON()})}};e.isEqual=function(a){if(a instanceof d){if(this.typesAndValues.length!==a.typesAndValues.length)return!1;var c=m(this.typesAndValues.entries()),e;try{for(c.s();!(e=c.n()).done;){e=g(e.value,2);var f=e[0];e=e[1];if(e.isEqual(a.typesAndValues[f])===!1)return!1}}catch(a){c.e(a)}finally{c.f()}return!0}return a instanceof ArrayBuffer?b.isEqualBuffer(this.valueBeforeDecode,a):!1};return d}();Na["default"]=f}var Qa=!1;function Ra(){Qa||(Qa=!0,Pa());return Oa.exports}var Sa={},Ta={exports:Sa};function Ua(){Object.defineProperty(Sa,"__esModule",{value:!0});Sa["default"]=void 0;var a=f(h()),b=i(),c=d(Ra());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}function g(c,d){c===void 0&&(c={});d===void 0&&(d=!1);c=b.getParametersValue(c,"names",{});return new a.Sequence({optional:d,value:[new a.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:c.country_name||"",value:[new a.Choice({value:[new a.NumericString(),new a.PrintableString()]})]}),new a.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:c.administration_domain_name||"",value:[new a.Choice({value:[new a.NumericString(),new a.PrintableString()]})]}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:c.network_address||"",isHexOnly:!0}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:c.terminal_identifier||"",isHexOnly:!0}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:c.private_domain_name||"",value:[new a.Choice({value:[new a.NumericString(),new a.PrintableString()]})]}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:c.organization_name||"",isHexOnly:!0}),new a.Primitive({optional:!0,name:c.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new a.Constructed({optional:!0,name:c.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new a.Primitive({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new a.Constructed({optional:!0,name:c.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new a.Repeated({value:new a.PrintableString()})]})]})}function j(b){b===void 0&&(b=!1);return new a.Sequence({optional:b,value:[new a.PrintableString(),new a.PrintableString()]})}function k(b){b===void 0&&(b=!1);return new a.Set({optional:b,value:[new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Any()]})]})}f=function(){function d(a){a===void 0&&(a={}),this.type=b.getParametersValue(a,"type",d.defaultValues("type")),this.value=b.getParametersValue(a,"value",d.defaultValues("value")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"type":return 9;case"value":return{};default:throw new Error("Invalid member name for GeneralName class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"type":return b===d.defaultValues(a);case"value":return Object.keys(b).length===0;default:throw new Error("Invalid member name for GeneralName class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Choice({value:[new a.Constructed({idBlock:{tagClass:3,tagNumber:0},name:d.blockName||"",value:[new a.ObjectIdentifier(),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any()]})]}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new a.Constructed({idBlock:{tagClass:3,tagNumber:3},name:d.blockName||"",value:[g(d.builtInStandardAttributes||{},!1),j(!0),k(!0)]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:4},name:d.blockName||"",value:[c["default"].schema(d.directoryName||{})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:5},name:d.blockName||"",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Choice({value:[new a.TeletexString(),new a.PrintableString(),new a.UniversalString(),new a.Utf8String(),new a.BmpString()]})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new a.Choice({value:[new a.TeletexString(),new a.PrintableString(),new a.UniversalString(),new a.Utf8String(),new a.BmpString()]})]})]}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);e=a.compareSchema(e,e,d.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for GeneralName");this.type=e.result.blockName.idBlock.tagNumber;switch(this.type){case 0:this.value=e.result.blockName;break;case 1:case 2:case 6:var f=e.result.blockName;f.idBlock.tagClass=1;f.idBlock.tagNumber=22;f=f.toBER(!1);this.value=a.fromBER(f).result.valueBlock.value;break;case 3:this.value=e.result.blockName;break;case 4:this.value=new c["default"]({schema:e.result.directoryName});break;case 5:this.value=e.result.ediPartyName;break;case 7:this.value=new a.OctetString({valueHex:e.result.blockName.valueBlock.valueHex});break;case 8:f=e.result.blockName;f.idBlock.tagClass=1;f.idBlock.tagNumber=6;e=f.toBER(!1);this.value=a.fromBER(e).result.valueBlock.toString();break;default:}};e.toSchema=function(){switch(this.type){case 0:case 3:case 5:return new a.Constructed({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:var b=new a.IA5String({value:this.value});b.idBlock.tagClass=3;b.idBlock.tagNumber=this.type;return b;case 4:return new a.Constructed({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:b=this.value;b.idBlock.tagClass=3;b.idBlock.tagNumber=this.type;return b;case 8:b=new a.ObjectIdentifier({value:this.value});b.idBlock.tagClass=3;b.idBlock.tagNumber=this.type;return b;default:return d.schema()}};e.toJSON=function(){var a={type:this.type,value:""};if(typeof this.value==="string")a.value=this.value;else try{a.value=this.value.toJSON()}catch(a){}return a};return d}();Sa["default"]=f}var Va=!1;function Wa(){Va||(Va=!0,Ua());return Ta.exports}var Xa={},Ya={exports:Xa};function Za(){Object.defineProperty(Xa,"__esModule",{value:!0});Xa["default"]=void 0;var a=f(h()),b=i(),c=d(Wa());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.accessMethod=b.getParametersValue(a,"accessMethod",d.defaultValues("accessMethod")),this.accessLocation=b.getParametersValue(a,"accessLocation",d.defaultValues("accessLocation")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"accessMethod":return"";case"accessLocation":return new c["default"]();default:throw new Error("Invalid member name for AccessDescription class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.ObjectIdentifier({name:d.accessMethod||""}),c["default"].schema(d.accessLocation||{})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["accessMethod","accessLocation"]);e=a.compareSchema(e,e,d.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=e.result.accessMethod.valueBlock.toString();this.accessLocation=new c["default"]({schema:e.result.accessLocation})};e.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.accessMethod}),this.accessLocation.toSchema()]})};e.toJSON=function(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}};return d}();Xa["default"]=f}var $a=!1;function ab(){$a||($a=!0,Za());return Ya.exports}var bb={},cb={exports:bb};function db(){Object.defineProperty(bb,"__esModule",{value:!0});bb["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),"seconds"in a&&(this.seconds=b.getParametersValue(a,"seconds",c.defaultValues("seconds"))),"millis"in a&&(this.millis=b.getParametersValue(a,"millis",c.defaultValues("millis"))),"micros"in a&&(this.micros=b.getParametersValue(a,"micros",c.defaultValues("micros"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"seconds":case"millis":case"micros":return 0;default:throw new Error("Invalid member name for Accuracy class: "+a)}};c.compareWithDefault=function(a,b){switch(a){case"seconds":case"millis":case"micros":return b===c.defaultValues(a);default:throw new Error("Invalid member name for Accuracy class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",optional:!0,value:[new a.Integer({optional:!0,name:c.seconds||""}),new a.Primitive({name:c.millis||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new a.Primitive({name:c.micros||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["seconds","millis","micros"]);d=a.compareSchema(d,d,c.schema({names:{seconds:"seconds",millis:"millis",micros:"micros"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for Accuracy");"seconds"in d.result&&(this.seconds=d.result.seconds.valueBlock.valueDec);if("millis"in d.result){var e=new a.Integer({valueHex:d.result.millis.valueBlock.valueHex});this.millis=e.valueBlock.valueDec}if("micros"in d.result){e=new a.Integer({valueHex:d.result.micros.valueBlock.valueHex});this.micros=e.valueBlock.valueDec}};d.toSchema=function(){var b=[];"seconds"in this&&b.push(new a.Integer({value:this.seconds}));if("millis"in this){var c=new a.Integer({value:this.millis});b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:c.valueBlock.valueHex}))}if("micros"in this){c=new a.Integer({value:this.micros});b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:c.valueBlock.valueHex}))}return new a.Sequence({value:b})};d.toJSON=function(){var a={};"seconds"in this&&(a.seconds=this.seconds);"millis"in this&&(a.millis=this.millis);"micros"in this&&(a.micros=this.micros);return a};return c}();bb["default"]=d}var eb=!1;function fb(){eb||(eb=!0,db());return cb.exports}var gb={},hb={exports:gb};function ib(){Object.defineProperty(gb,"__esModule",{value:!0});gb["default"]=void 0;var a=f(h()),b=i(),c=d(Wa());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.altNames=b.getParametersValue(a,"altNames",d.defaultValues("altNames")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"altNames":return[];default:throw new Error("Invalid member name for AltName class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.altNames||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["altNames"]);e=a.compareSchema(e,e,d.schema({names:{altNames:"altNames"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in e.result&&(this.altNames=Array.from(e.result.altNames,function(a){return new c["default"]({schema:a})}))};e.toSchema=function(){return new a.Sequence({value:Array.from(this.altNames,function(a){return a.toSchema()})})};e.toJSON=function(){return{altNames:Array.from(this.altNames,function(a){return a.toJSON()})}};return d}();gb["default"]=f}var jb=!1;function kb(){jb||(jb=!0,ib());return hb.exports}var lb={},mb={exports:lb};function nb(){Object.defineProperty(lb,"__esModule",{value:!0});lb["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.contentType=b.getParametersValue(a,"contentType",c.defaultValues("contentType")),this.content=b.getParametersValue(a,"content",c.defaultValues("content")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"contentType":return"";case"content":return new a.Any();default:throw new Error("Invalid member name for ContentInfo class: "+b)}};c.compareWithDefault=function(b,c){switch(b){case"contentType":return c==="";case"content":return c instanceof a.Any;default:throw new Error("Invalid member name for ContentInfo class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});"optional"in c===!1&&(c.optional=!1);return new a.Sequence({name:c.blockName||"ContentInfo",optional:c.optional,value:[new a.ObjectIdentifier({name:c.contentType||"contentType"}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:c.content||"content"})]})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["contentType","content"]);d=a.compareSchema(d,d,c.schema());if(d.verified===!1)throw new Error("Object's schema was not verified against input data for ContentInfo");this.contentType=d.result.contentType.valueBlock.toString();this.content=d.result.content};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.contentType}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.content]})]})};d.toJSON=function(){var b={contentType:this.contentType};this.content instanceof a.Any||(b.content=this.content.toJSON());return b};return c}();lb["default"]=d}var ob=!1;function pb(){ob||(ob=!0,nb());return mb.exports}var qb={},rb={exports:qb};function sb(){Object.defineProperty(qb,"__esModule",{value:!0});qb["default"]=void 0;var a=l(h()),c=i(),d=X(),e=j(ta()),f=j(I());function j(a){return a&&a.__esModule?a:{"default":a}}function k(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(k=function(a){return a?c:b})(a)}function l(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=k(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}l=function(){function h(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",h.defaultValues("version")),this.encryptedContentInfo=c.getParametersValue(a,"encryptedContentInfo",h.defaultValues("encryptedContentInfo")),"unprotectedAttrs"in a&&(this.unprotectedAttrs=c.getParametersValue(a,"unprotectedAttrs",h.defaultValues("unprotectedAttrs"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(a){switch(a){case"version":return 0;case"encryptedContentInfo":return new e["default"]();case"unprotectedAttrs":return[];default:throw new Error("Invalid member name for EncryptedData class: "+a)}};h.compareWithDefault=function(a,b){switch(a){case"version":return b===0;case"encryptedContentInfo":return e["default"].compareWithDefault("contentType",b.contentType)&&e["default"].compareWithDefault("contentEncryptionAlgorithm",b.contentEncryptionAlgorithm)&&e["default"].compareWithDefault("encryptedContent",b.encryptedContent);case"unprotectedAttrs":return b.length===0;default:throw new Error("Invalid member name for EncryptedData class: "+a)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[new a.Integer({name:b.version||""}),e["default"].schema(b.encryptedContentInfo||{}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Repeated({name:b.unprotectedAttrs||"",value:f["default"].schema()})]})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["version","encryptedContentInfo","unprotectedAttrs"]);b=a.compareSchema(b,b,h.schema({names:{version:"version",encryptedContentInfo:{names:{blockName:"encryptedContentInfo"}},unprotectedAttrs:"unprotectedAttrs"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for EncryptedData");this.version=b.result.version.valueBlock.valueDec;this.encryptedContentInfo=new e["default"]({schema:b.result.encryptedContentInfo});"unprotectedAttrs"in b.result&&(this.unprotectedAttrs=Array.from(b.result.unprotectedAttrs,function(a){return new f["default"]({schema:a})}))};i.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));b.push(this.encryptedContentInfo.toSchema());"unprotectedAttrs"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};i.toJSON=function(){var a={version:this.version,encryptedContentInfo:this.encryptedContentInfo.toJSON()};"unprotectedAttrs"in this&&(a.unprotectedAttrs=Array.from(this.unprotectedAttrs,function(a){return a.toJSON()}));return a};i.encrypt=function(a){var c=this;if(a instanceof Object===!1)return(g||(g=b("Promise"))).reject('Parameters must have type "Object"');var e=d.getEngine();if(typeof e==="undefined")return(g||(g=b("Promise"))).reject("Unable to initialize cryptographic engine");a.contentType="1.2.840.113549.1.7.1";return"encryptEncryptedContentInfo"in e.subtle?e.subtle.encryptEncryptedContentInfo(a).then(function(a){c.encryptedContentInfo=a}):(g||(g=b("Promise"))).reject('No support for "encryptEncryptedContentInfo" in current crypto engine '+e.name)};i.decrypt=function(a){if(a instanceof Object===!1)return(g||(g=b("Promise"))).reject('Parameters must have type "Object"');var c=d.getEngine();if(typeof c==="undefined")return(g||(g=b("Promise"))).reject("Unable to initialize cryptographic engine");a.encryptedContentInfo=this.encryptedContentInfo;return"decryptEncryptedContentInfo"in c.subtle?c.subtle.decryptEncryptedContentInfo(a):(g||(g=b("Promise"))).reject('No support for "decryptEncryptedContentInfo" in current crypto engine '+c.name)};return h}();qb["default"]=l}var tb=!1;function ub(){tb||(tb=!0,sb());return rb.exports}var vb={},wb={exports:vb};function xb(){Object.defineProperty(vb,"__esModule",{value:!0});vb["default"]=void 0;var a=m(h()),c=i(),d=k(o()),e=k(ub()),f=k(ta()),j=k(N());function k(a){return a&&a.__esModule?a:{"default":a}}function l(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(l=function(a){return a?c:b})(a)}function m(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=l(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}m=function(){function h(a){a===void 0&&(a={}),this.encryptionAlgorithm=c.getParametersValue(a,"encryptionAlgorithm",h.defaultValues("encryptionAlgorithm")),this.encryptedData=c.getParametersValue(a,"encryptedData",h.defaultValues("encryptedData")),"parsedValue"in a&&(this.parsedValue=c.getParametersValue(a,"parsedValue",h.defaultValues("parsedValue"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(b){switch(b){case"encryptionAlgorithm":return new d["default"]();case"encryptedData":return new a.OctetString();case"parsedValue":return{};default:throw new Error("Invalid member name for PKCS8ShroudedKeyBag class: "+b)}};h.compareWithDefault=function(a,b){switch(a){case"encryptionAlgorithm":return d["default"].compareWithDefault("algorithmId",b.algorithmId)&&"algorithmParams"in b===!1;case"encryptedData":return b.isEqual(h.defaultValues(a));case"parsedValue":return b instanceof Object&&Object.keys(b).length===0;default:throw new Error("Invalid member name for PKCS8ShroudedKeyBag class: "+a)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[d["default"].schema(b.encryptionAlgorithm||{names:{blockName:"encryptionAlgorithm"}}),new a.Choice({value:[new a.OctetString({name:b.encryptedData||"encryptedData"}),new a.OctetString({idBlock:{isConstructed:!0},name:b.encryptedData||"encryptedData"})]})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["encryptionAlgorithm","encryptedData"]);b=a.compareSchema(b,b,h.schema({names:{encryptionAlgorithm:{names:{blockName:"encryptionAlgorithm"}},encryptedData:"encryptedData"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for PKCS8ShroudedKeyBag");this.encryptionAlgorithm=new d["default"]({schema:b.result.encryptionAlgorithm});this.encryptedData=b.result.encryptedData};i.toSchema=function(){return new a.Sequence({value:[this.encryptionAlgorithm.toSchema(),this.encryptedData]})};i.toJSON=function(){return{encryptionAlgorithm:this.encryptionAlgorithm.toJSON(),encryptedData:this.encryptedData.toJSON()}};i.parseInternalValues=function(c){var d=this,h=(g||(g=b("Promise"))).resolve(),i=new e["default"]({encryptedContentInfo:new f["default"]({contentEncryptionAlgorithm:this.encryptionAlgorithm,encryptedContent:this.encryptedData})});h=h.then(function(){return i.decrypt(c)},function(a){return(g||(g=b("Promise"))).reject(a)});h=h.then(function(c){c=a.fromBER(c);if(c.offset===-1)return(g||(g=b("Promise"))).reject("Error during parsing ASN.1 data");d.parsedValue=new j["default"]({schema:c.result});return(g||(g=b("Promise"))).resolve()},function(a){return(g||(g=b("Promise"))).reject(a)});return h};i.makeInternalValues=function(a){var c=this;if("parsedValue"in this===!1)return(g||(g=b("Promise"))).reject('Please initialize "parsedValue" first');var d=(g||(g=b("Promise"))).resolve(),f=new e["default"]();d=d.then(function(){a.contentToEncrypt=c.parsedValue.toSchema().toBER(!1);return f.encrypt(a)},function(a){return(g||(g=b("Promise"))).reject(a)});d=d.then(function(){c.encryptionAlgorithm=f.encryptedContentInfo.contentEncryptionAlgorithm,c.encryptedData=f.encryptedContentInfo.encryptedContent});return d};return h}();vb["default"]=m}var yb=!1;function zb(){yb||(yb=!0,xb());return wb.exports}var Ab={},Bb={exports:Ab};function Cb(){Object.defineProperty(Ab,"__esModule",{value:!0});Ab["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.type=b.getParametersValue(a,"type",c.defaultValues("type")),this.value=b.getParametersValue(a,"value",c.defaultValues("value")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error("Invalid member name for Time class: "+a)}};c.schema=function(c,d){c===void 0&&(c={});d===void 0&&(d=!1);c=b.getParametersValue(c,"names",{});return new a.Choice({optional:d,value:[new a.UTCTime({name:c.utcTimeName||""}),new a.GeneralizedTime({name:c.generalTimeName||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["utcTimeName","generalTimeName"]);d=a.compareSchema(d,d,c.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in d.result&&(this.type=0,this.value=d.result.utcTimeName.toDate());"generalTimeName"in d.result&&(this.type=1,this.value=d.result.generalTimeName.toDate())};d.toSchema=function(){var b={};this.type===0&&(b=new a.UTCTime({valueDate:this.value}));this.type===1&&(b=new a.GeneralizedTime({valueDate:this.value}));return b};d.toJSON=function(){return{type:this.type,value:this.value}};return c}();Ab["default"]=d}var Z=!1;function Db(){Z||(Z=!0,Cb());return Bb.exports}var Eb={},Fb={exports:Eb};function Gb(){Object.defineProperty(Eb,"__esModule",{value:!0});Eb["default"]=void 0;var a=f(h()),b=i(),c=d(I());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.attributes=b.getParametersValue(a,"attributes",d.defaultValues("attributes")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"attributes":return[];default:throw new Error("Invalid member name for SubjectDirectoryAttributes class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.attributes||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["attributes"]);e=a.compareSchema(e,e,d.schema({names:{attributes:"attributes"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(e.result.attributes,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.attributes,function(a){return a.toSchema()})})};e.toJSON=function(){return{attributes:Array.from(this.attributes,function(a){return a.toJSON()})}};return d}();Eb["default"]=f}var Hb=!1;function Ib(){Hb||(Hb=!0,Gb());return Fb.exports}var Jb={},Kb={exports:Jb};function Lb(){Object.defineProperty(Jb,"__esModule",{value:!0});Jb["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),"notBefore"in a&&(this.notBefore=b.getParametersValue(a,"notBefore",c.defaultValues("notBefore"))),"notAfter"in a&&(this.notAfter=b.getParametersValue(a,"notAfter",c.defaultValues("notAfter"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"notBefore":return new Date();case"notAfter":return new Date();default:throw new Error("Invalid member name for PrivateKeyUsagePeriod class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Primitive({name:c.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new a.Primitive({name:c.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["notBefore","notAfter"]);d=a.compareSchema(d,d,c.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in d.result){var e=new a.GeneralizedTime();e.fromBuffer(d.result.notBefore.valueBlock.valueHex);this.notBefore=e.toDate()}if("notAfter"in d.result){e=new a.GeneralizedTime({valueHex:d.result.notAfter.valueBlock.valueHex});e.fromBuffer(d.result.notAfter.valueBlock.valueHex);this.notAfter=e.toDate()}};d.toSchema=function(){var b=[];"notBefore"in this&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:new a.GeneralizedTime({valueDate:this.notBefore}).valueBlock.valueHex}));"notAfter"in this&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:new a.GeneralizedTime({valueDate:this.notAfter}).valueBlock.valueHex}));return new a.Sequence({value:b})};d.toJSON=function(){var a={};"notBefore"in this&&(a.notBefore=this.notBefore);"notAfter"in this&&(a.notAfter=this.notAfter);return a};return c}();Jb["default"]=d}var Mb=!1;function Nb(){Mb||(Mb=!0,Lb());return Kb.exports}var Ob={},Pb={exports:Ob};function Qb(){Object.defineProperty(Ob,"__esModule",{value:!0});Ob["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.cA=b.getParametersValue(a,"cA",!1),"pathLenConstraint"in a&&(this.pathLenConstraint=b.getParametersValue(a,"pathLenConstraint",0)),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"cA":return!1;default:throw new Error("Invalid member name for BasicConstraints class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Boolean({optional:!0,name:c.cA||""}),new a.Integer({optional:!0,name:c.pathLenConstraint||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["cA","pathLenConstraint"]);d=a.compareSchema(d,d,c.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in d.result&&(this.cA=d.result.cA.valueBlock.value);"pathLenConstraint"in d.result&&(d.result.pathLenConstraint.valueBlock.isHexOnly?this.pathLenConstraint=d.result.pathLenConstraint:this.pathLenConstraint=d.result.pathLenConstraint.valueBlock.valueDec)};d.toSchema=function(){var b=[];this.cA!==c.defaultValues("cA")&&b.push(new a.Boolean({value:this.cA}));"pathLenConstraint"in this&&(this.pathLenConstraint instanceof a.Integer?b.push(this.pathLenConstraint):b.push(new a.Integer({value:this.pathLenConstraint})));return new a.Sequence({value:b})};d.toJSON=function(){var b={};this.cA!==c.defaultValues("cA")&&(b.cA=this.cA);"pathLenConstraint"in this&&(this.pathLenConstraint instanceof a.Integer?b.pathLenConstraint=this.pathLenConstraint.toJSON():b.pathLenConstraint=this.pathLenConstraint);return b};return c}();Ob["default"]=d}var Rb=!1;function Sb(){Rb||(Rb=!0,Qb());return Pb.exports}var Tb={},Ub={exports:Tb};function Vb(){Object.defineProperty(Tb,"__esModule",{value:!0});Tb["default"]=void 0;var a=g(h()),b=i(),c=e(Wa()),d=e(Ra());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}g=function(){function e(a){a===void 0&&(a={}),"distributionPoint"in a&&(this.distributionPoint=b.getParametersValue(a,"distributionPoint",e.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=b.getParametersValue(a,"onlyContainsUserCerts",e.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=b.getParametersValue(a,"onlyContainsCACerts",e.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in a&&(this.onlySomeReasons=b.getParametersValue(a,"onlySomeReasons",e.defaultValues("onlySomeReasons"))),this.indirectCRL=b.getParametersValue(a,"indirectCRL",e.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=b.getParametersValue(a,"onlyContainsAttributeCerts",e.defaultValues("onlyContainsAttributeCerts")),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"distributionPoint":return[];case"onlyContainsUserCerts":return!1;case"onlyContainsCACerts":return!1;case"onlySomeReasons":return 0;case"indirectCRL":return!1;case"onlyContainsAttributeCerts":return!1;default:throw new Error("Invalid member name for IssuingDistributionPoint class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Choice({value:[new a.Constructed({name:e.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({name:e.distributionPointNames||"",value:c["default"].schema()})]}),new a.Constructed({name:e.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:d["default"].schema().valueBlock.value})]})]}),new a.Primitive({name:e.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new a.Primitive({name:e.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new a.Primitive({name:e.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new a.Primitive({name:e.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new a.Primitive({name:e.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);f=a.compareSchema(f,f,e.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in f.result)switch(!0){case f.result.distributionPoint.idBlock.tagNumber===0:this.distributionPoint=Array.from(f.result.distributionPointNames,function(a){return new c["default"]({schema:a})});break;case f.result.distributionPoint.idBlock.tagNumber===1:this.distributionPoint=new d["default"]({schema:new a.Sequence({value:f.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in f.result){var g=new Uint8Array(f.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=g[0]!==0}if("onlyContainsCACerts"in f.result){g=new Uint8Array(f.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=g[0]!==0}if("onlySomeReasons"in f.result){g=new Uint8Array(f.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=g[0]}if("indirectCRL"in f.result){g=new Uint8Array(f.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=g[0]!==0}if("onlyContainsAttributeCerts"in f.result){g=new Uint8Array(f.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=g[0]!==0}};f.toSchema=function(){var b=[];if("distributionPoint"in this){var c;this.distributionPoint instanceof Array?c=new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,function(a){return a.toSchema()})}):(c=this.distributionPoint.toSchema(),c.idBlock.tagClass=3,c.idBlock.tagNumber=1);b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[c]}))}this.onlyContainsUserCerts!==e.defaultValues("onlyContainsUserCerts")&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer}));this.onlyContainsCACerts!==e.defaultValues("onlyContainsCACerts")&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer}));if("onlySomeReasons"in this){c=new ArrayBuffer(1);var d=new Uint8Array(c);d[0]=this.onlySomeReasons;b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:3},valueHex:c}))}this.indirectCRL!==e.defaultValues("indirectCRL")&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer}));this.onlyContainsAttributeCerts!==e.defaultValues("onlyContainsAttributeCerts")&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer}));return new a.Sequence({value:b})};f.toJSON=function(){var a={};"distributionPoint"in this&&(this.distributionPoint instanceof Array?a.distributionPoint=Array.from(this.distributionPoint,function(a){return a.toJSON()}):a.distributionPoint=this.distributionPoint.toJSON());this.onlyContainsUserCerts!==e.defaultValues("onlyContainsUserCerts")&&(a.onlyContainsUserCerts=this.onlyContainsUserCerts);this.onlyContainsCACerts!==e.defaultValues("onlyContainsCACerts")&&(a.onlyContainsCACerts=this.onlyContainsCACerts);"onlySomeReasons"in this&&(a.onlySomeReasons=this.onlySomeReasons);this.indirectCRL!==e.defaultValues("indirectCRL")&&(a.indirectCRL=this.indirectCRL);this.onlyContainsAttributeCerts!==e.defaultValues("onlyContainsAttributeCerts")&&(a.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts);return a};return e}();Tb["default"]=g}var Wb=!1;function Xb(){Wb||(Wb=!0,Vb());return Ub.exports}var Yb={},Zb={exports:Yb};function $b(){Object.defineProperty(Yb,"__esModule",{value:!0});Yb["default"]=void 0;var a=f(h()),b=i(),c=d(Wa());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.names=b.getParametersValue(a,"names",d.defaultValues("names")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"names":return[];default:throw new Error("Invalid member name for GeneralNames class: "+a)}};d.schema=function(d,e){d===void 0&&(d={});e===void 0&&(e=!1);d=b.getParametersValue(d,"names",{});return new a.Sequence({optional:e,name:d.blockName||"",value:[new a.Repeated({name:d.generalNames||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["names","generalNames"]);e=a.compareSchema(e,e,d.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(e.result.generalNames,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.names,function(a){return a.toSchema()})})};e.toJSON=function(){return{names:Array.from(this.names,function(a){return a.toJSON()})}};return d}();Yb["default"]=f}var ac=!1;function bc(){ac||(ac=!0,$b());return Zb.exports}var cc={},dc={exports:cc};function ec(){Object.defineProperty(cc,"__esModule",{value:!0});cc["default"]=void 0;var a=f(h()),b=i(),c=d(Wa());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.base=b.getParametersValue(a,"base",d.defaultValues("base")),this.minimum=b.getParametersValue(a,"minimum",d.defaultValues("minimum")),"maximum"in a&&(this.maximum=b.getParametersValue(a,"maximum",d.defaultValues("maximum"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"base":return new c["default"]();case"minimum":return 0;case"maximum":return 0;default:throw new Error("Invalid member name for GeneralSubtree class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.base||{}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({name:d.minimum||""})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Integer({name:d.maximum||""})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["base","minimum","maximum"]);e=a.compareSchema(e,e,d.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new c["default"]({schema:e.result.base});"minimum"in e.result&&(e.result.minimum.valueBlock.isHexOnly?this.minimum=e.result.minimum:this.minimum=e.result.minimum.valueBlock.valueDec);"maximum"in e.result&&(e.result.maximum.valueBlock.isHexOnly?this.maximum=e.result.maximum:this.maximum=e.result.maximum.valueBlock.valueDec)};e.toSchema=function(){var b=[];b.push(this.base.toSchema());if(this.minimum!==0){var c;this.minimum instanceof a.Integer?c=this.minimum:c=new a.Integer({value:this.minimum});b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[c]}))}if("maximum"in this){this.maximum instanceof a.Integer?c=this.maximum:c=new a.Integer({value:this.maximum});b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[c]}))}return new a.Sequence({value:b})};e.toJSON=function(){var a={base:this.base.toJSON()};this.minimum!==0&&(typeof this.minimum==="number"?a.minimum=this.minimum:a.minimum=this.minimum.toJSON());"maximum"in this&&(typeof this.maximum==="number"?a.maximum=this.maximum:a.maximum=this.maximum.toJSON());return a};return d}();cc["default"]=f}var fc=!1;function gc(){fc||(fc=!0,ec());return dc.exports}var hc={},ic={exports:hc};function jc(){Object.defineProperty(hc,"__esModule",{value:!0});hc["default"]=void 0;var a=f(h()),b=i(),c=d(gc());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),"permittedSubtrees"in a&&(this.permittedSubtrees=b.getParametersValue(a,"permittedSubtrees",d.defaultValues("permittedSubtrees"))),"excludedSubtrees"in a&&(this.excludedSubtrees=b.getParametersValue(a,"excludedSubtrees",d.defaultValues("excludedSubtrees"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"permittedSubtrees":return[];case"excludedSubtrees":return[];default:throw new Error("Invalid member name for NameConstraints class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({name:d.permittedSubtrees||"",value:c["default"].schema()})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Repeated({name:d.excludedSubtrees||"",value:c["default"].schema()})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["permittedSubtrees","excludedSubtrees"]);e=a.compareSchema(e,e,d.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in e.result&&(this.permittedSubtrees=Array.from(e.result.permittedSubtrees,function(a){return new c["default"]({schema:a})}));"excludedSubtrees"in e.result&&(this.excludedSubtrees=Array.from(e.result.excludedSubtrees,function(a){return new c["default"]({schema:a})}))};e.toSchema=function(){var b=[];"permittedSubtrees"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,function(a){return a.toSchema()})}));"excludedSubtrees"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};e.toJSON=function(){var a={};"permittedSubtrees"in this&&(a.permittedSubtrees=Array.from(this.permittedSubtrees,function(a){return a.toJSON()}));"excludedSubtrees"in this&&(a.excludedSubtrees=Array.from(this.excludedSubtrees,function(a){return a.toJSON()}));return a};return d}();hc["default"]=f}var kc=!1;function lc(){kc||(kc=!0,jc());return ic.exports}var mc={},nc={exports:mc};function oc(){Object.defineProperty(mc,"__esModule",{value:!0});mc["default"]=void 0;var a=g(h()),b=i(),c=e(Wa()),d=e(Ra());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}g=function(){function e(a){a===void 0&&(a={}),"distributionPoint"in a&&(this.distributionPoint=b.getParametersValue(a,"distributionPoint",e.defaultValues("distributionPoint"))),"reasons"in a&&(this.reasons=b.getParametersValue(a,"reasons",e.defaultValues("reasons"))),"cRLIssuer"in a&&(this.cRLIssuer=b.getParametersValue(a,"cRLIssuer",e.defaultValues("cRLIssuer"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"distributionPoint":return[];case"reasons":return new a.BitString();case"cRLIssuer":return[];default:throw new Error("Invalid member name for DistributionPoint class: "+b)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Choice({value:[new a.Constructed({name:e.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({name:e.distributionPointNames||"",value:c["default"].schema()})]}),new a.Constructed({name:e.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:d["default"].schema().valueBlock.value})]})]}),new a.Primitive({name:e.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new a.Constructed({name:e.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new a.Repeated({name:e.cRLIssuerNames||"",value:c["default"].schema()})]})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);f=a.compareSchema(f,f,e.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in f.result&&(f.result.distributionPoint.idBlock.tagNumber===0&&(this.distributionPoint=Array.from(f.result.distributionPointNames,function(a){return new c["default"]({schema:a})})),f.result.distributionPoint.idBlock.tagNumber===1&&(this.distributionPoint=new d["default"]({schema:new a.Sequence({value:f.result.distributionPoint.valueBlock.value})})));"reasons"in f.result&&(this.reasons=new a.BitString({valueHex:f.result.reasons.valueBlock.valueHex}));"cRLIssuer"in f.result&&(this.cRLIssuer=Array.from(f.result.cRLIssuerNames,function(a){return new c["default"]({schema:a})}))};f.toSchema=function(){var b=[];if("distributionPoint"in this){var c;this.distributionPoint instanceof Array?c=new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,function(a){return a.toSchema()})}):c=new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]});b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[c]}))}"reasons"in this&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex}));"cRLIssuer"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};f.toJSON=function(){var a={};"distributionPoint"in this&&(this.distributionPoint instanceof Array?a.distributionPoint=Array.from(this.distributionPoint,function(a){return a.toJSON()}):a.distributionPoint=this.distributionPoint.toJSON());"reasons"in this&&(a.reasons=this.reasons.toJSON());"cRLIssuer"in this&&(a.cRLIssuer=Array.from(this.cRLIssuer,function(a){return a.toJSON()}));return a};return e}();mc["default"]=g}var pc=!1;function qc(){pc||(pc=!0,oc());return nc.exports}var rc={},sc={exports:rc};function tc(){Object.defineProperty(rc,"__esModule",{value:!0});rc["default"]=void 0;var a=f(h()),b=i(),c=d(qc());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.distributionPoints=b.getParametersValue(a,"distributionPoints",d.defaultValues("distributionPoints")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"distributionPoints":return[];default:throw new Error("Invalid member name for CRLDistributionPoints class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.distributionPoints||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["distributionPoints"]);e=a.compareSchema(e,e,d.schema({names:{distributionPoints:"distributionPoints"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(e.result.distributionPoints,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.distributionPoints,function(a){return a.toSchema()})})};e.toJSON=function(){return{distributionPoints:Array.from(this.distributionPoints,function(a){return a.toJSON()})}};return d}();rc["default"]=f}var uc=!1;function vc(){uc||(uc=!0,tc());return sc.exports}var wc={},xc={exports:wc};function yc(){Object.defineProperty(wc,"__esModule",{value:!0});wc["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.policyQualifierId=b.getParametersValue(a,"policyQualifierId",c.defaultValues("policyQualifierId")),this.qualifier=b.getParametersValue(a,"qualifier",c.defaultValues("qualifier")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"policyQualifierId":return"";case"qualifier":return new a.Any();default:throw new Error("Invalid member name for PolicyQualifierInfo class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.policyQualifierId||""}),new a.Any({name:c.qualifier||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["policyQualifierId","qualifier"]);d=a.compareSchema(d,d,c.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=d.result.policyQualifierId.valueBlock.toString();this.qualifier=d.result.qualifier};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.policyQualifierId}),this.qualifier]})};d.toJSON=function(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}};return c}();wc["default"]=d}var zc=!1;function Ac(){zc||(zc=!0,yc());return xc.exports}var Bc={},Cc={exports:Bc};function Dc(){Object.defineProperty(Bc,"__esModule",{value:!0});Bc["default"]=void 0;var a=f(h()),b=i(),c=d(Ac());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.policyIdentifier=b.getParametersValue(a,"policyIdentifier",d.defaultValues("policyIdentifier")),"policyQualifiers"in a&&(this.policyQualifiers=b.getParametersValue(a,"policyQualifiers",d.defaultValues("policyQualifiers"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error("Invalid member name for PolicyInformation class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.ObjectIdentifier({name:d.policyIdentifier||""}),new a.Sequence({optional:!0,value:[new a.Repeated({name:d.policyQualifiers||"",value:c["default"].schema()})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["policyIdentifier","policyQualifiers"]);e=a.compareSchema(e,e,d.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=e.result.policyIdentifier.valueBlock.toString();"policyQualifiers"in e.result&&(this.policyQualifiers=Array.from(e.result.policyQualifiers,function(a){return new c["default"]({schema:a})}))};e.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.policyIdentifier}));"policyQualifiers"in this&&b.push(new a.Sequence({value:Array.from(this.policyQualifiers,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};e.toJSON=function(){var a={policyIdentifier:this.policyIdentifier};"policyQualifiers"in this&&(a.policyQualifiers=Array.from(this.policyQualifiers,function(a){return a.toJSON()}));return a};return d}();Bc["default"]=f}var Ec=!1;function Fc(){Ec||(Ec=!0,Dc());return Cc.exports}var Gc={},Hc={exports:Gc};function Ic(){Object.defineProperty(Gc,"__esModule",{value:!0});Gc["default"]=void 0;var a=f(h()),b=i(),c=d(Fc());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.certificatePolicies=b.getParametersValue(a,"certificatePolicies",d.defaultValues("certificatePolicies")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"certificatePolicies":return[];default:throw new Error("Invalid member name for CertificatePolicies class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.certificatePolicies||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["certificatePolicies"]);e=a.compareSchema(e,e,d.schema({names:{certificatePolicies:"certificatePolicies"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(e.result.certificatePolicies,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.certificatePolicies,function(a){return a.toSchema()})})};e.toJSON=function(){return{certificatePolicies:Array.from(this.certificatePolicies,function(a){return a.toJSON()})}};return d}();Gc["default"]=f}var Jc=!1;function Kc(){Jc||(Jc=!0,Ic());return Hc.exports}var Lc={},Mc={exports:Lc};function Nc(){Object.defineProperty(Lc,"__esModule",{value:!0});Lc["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.issuerDomainPolicy=b.getParametersValue(a,"issuerDomainPolicy",c.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=b.getParametersValue(a,"subjectDomainPolicy",c.defaultValues("subjectDomainPolicy")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"issuerDomainPolicy":return"";case"subjectDomainPolicy":return"";default:throw new Error("Invalid member name for PolicyMapping class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.issuerDomainPolicy||""}),new a.ObjectIdentifier({name:c.subjectDomainPolicy||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["issuerDomainPolicy","subjectDomainPolicy"]);d=a.compareSchema(d,d,c.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=d.result.issuerDomainPolicy.valueBlock.toString();this.subjectDomainPolicy=d.result.subjectDomainPolicy.valueBlock.toString()};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.issuerDomainPolicy}),new a.ObjectIdentifier({value:this.subjectDomainPolicy})]})};d.toJSON=function(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}};return c}();Lc["default"]=d}var Oc=!1;function Pc(){Oc||(Oc=!0,Nc());return Mc.exports}var Qc={},Rc={exports:Qc};function Sc(){Object.defineProperty(Qc,"__esModule",{value:!0});Qc["default"]=void 0;var a=f(h()),b=i(),c=d(Pc());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.mappings=b.getParametersValue(a,"mappings",d.defaultValues("mappings")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"mappings":return[];default:throw new Error("Invalid member name for PolicyMappings class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.mappings||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["mappings"]);e=a.compareSchema(e,e,d.schema({names:{mappings:"mappings"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(e.result.mappings,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.mappings,function(a){return a.toSchema()})})};e.toJSON=function(){return{mappings:Array.from(this.mappings,function(a){return a.toJSON()})}};return d}();Qc["default"]=f}var Tc=!1;function Uc(){Tc||(Tc=!0,Sc());return Rc.exports}var Vc={},Wc={exports:Vc};function Xc(){Object.defineProperty(Vc,"__esModule",{value:!0});Vc["default"]=void 0;var a=f(h()),b=i(),c=d(Wa());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),"keyIdentifier"in a&&(this.keyIdentifier=b.getParametersValue(a,"keyIdentifier",d.defaultValues("keyIdentifier"))),"authorityCertIssuer"in a&&(this.authorityCertIssuer=b.getParametersValue(a,"authorityCertIssuer",d.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in a&&(this.authorityCertSerialNumber=b.getParametersValue(a,"authorityCertSerialNumber",d.defaultValues("authorityCertSerialNumber"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"keyIdentifier":return new a.OctetString();case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new a.Integer();default:throw new Error("Invalid member name for AuthorityKeyIdentifier class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Primitive({name:d.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Repeated({name:d.authorityCertIssuer||"",value:c["default"].schema()})]}),new a.Primitive({name:d.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);e=a.compareSchema(e,e,d.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in e.result&&(this.keyIdentifier=new a.OctetString({valueHex:e.result.keyIdentifier.valueBlock.valueHex}));"authorityCertIssuer"in e.result&&(this.authorityCertIssuer=Array.from(e.result.authorityCertIssuer,function(a){return new c["default"]({schema:a})}));"authorityCertSerialNumber"in e.result&&(this.authorityCertSerialNumber=new a.Integer({valueHex:e.result.authorityCertSerialNumber.valueBlock.valueHex}))};e.toSchema=function(){var b=[];"keyIdentifier"in this&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex}));"authorityCertIssuer"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,function(a){return a.toSchema()})}));"authorityCertSerialNumber"in this&&b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex}));return new a.Sequence({value:b})};e.toJSON=function(){var a={};"keyIdentifier"in this&&(a.keyIdentifier=this.keyIdentifier.toJSON());"authorityCertIssuer"in this&&(a.authorityCertIssuer=Array.from(this.authorityCertIssuer,function(a){return a.toJSON()}));"authorityCertSerialNumber"in this&&(a.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON());return a};return d}();Vc["default"]=f}var Yc=!1;function Zc(){Yc||(Yc=!0,Xc());return Wc.exports}var $c={},ad={exports:$c};function bd(){Object.defineProperty($c,"__esModule",{value:!0});$c["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),"requireExplicitPolicy"in a&&(this.requireExplicitPolicy=b.getParametersValue(a,"requireExplicitPolicy",c.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in a&&(this.inhibitPolicyMapping=b.getParametersValue(a,"inhibitPolicyMapping",c.defaultValues("inhibitPolicyMapping"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"requireExplicitPolicy":return 0;case"inhibitPolicyMapping":return 0;default:throw new Error("Invalid member name for PolicyConstraints class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Primitive({name:c.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new a.Primitive({name:c.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["requireExplicitPolicy","inhibitPolicyMapping"]);d=a.compareSchema(d,d,c.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in d.result){var e=d.result.requireExplicitPolicy;e.idBlock.tagClass=1;e.idBlock.tagNumber=2;e=e.toBER(!1);e=a.fromBER(e);this.requireExplicitPolicy=e.result.valueBlock.valueDec}if("inhibitPolicyMapping"in d.result){e=d.result.inhibitPolicyMapping;e.idBlock.tagClass=1;e.idBlock.tagNumber=2;d=e.toBER(!1);e=a.fromBER(d);this.inhibitPolicyMapping=e.result.valueBlock.valueDec}};d.toSchema=function(){var b=[];if("requireExplicitPolicy"in this){var c=new a.Integer({value:this.requireExplicitPolicy});c.idBlock.tagClass=3;c.idBlock.tagNumber=0;b.push(c)}if("inhibitPolicyMapping"in this){c=new a.Integer({value:this.inhibitPolicyMapping});c.idBlock.tagClass=3;c.idBlock.tagNumber=1;b.push(c)}return new a.Sequence({value:b})};d.toJSON=function(){var a={};"requireExplicitPolicy"in this&&(a.requireExplicitPolicy=this.requireExplicitPolicy);"inhibitPolicyMapping"in this&&(a.inhibitPolicyMapping=this.inhibitPolicyMapping);return a};return c}();$c["default"]=d}var cd=!1;function dd(){cd||(cd=!0,bd());return ad.exports}var ed={},fd={exports:ed};function gd(){Object.defineProperty(ed,"__esModule",{value:!0});ed["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.keyPurposes=b.getParametersValue(a,"keyPurposes",c.defaultValues("keyPurposes")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"keyPurposes":return[];default:throw new Error("Invalid member name for ExtKeyUsage class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Repeated({name:c.keyPurposes||"",value:new a.ObjectIdentifier()})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["keyPurposes"]);d=a.compareSchema(d,d,c.schema({names:{keyPurposes:"keyPurposes"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(d.result.keyPurposes,function(a){return a.valueBlock.toString()})};d.toSchema=function(){return new a.Sequence({value:Array.from(this.keyPurposes,function(b){return new a.ObjectIdentifier({value:b})})})};d.toJSON=function(){return{keyPurposes:Array.from(this.keyPurposes)}};return c}();ed["default"]=d}var hd=!1;function id(){hd||(hd=!0,gd());return fd.exports}var jd={},kd={exports:jd};function ld(){Object.defineProperty(jd,"__esModule",{value:!0});jd["default"]=void 0;var a=f(h()),b=i(),c=d(ab());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.accessDescriptions=b.getParametersValue(a,"accessDescriptions",d.defaultValues("accessDescriptions")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"accessDescriptions":return[];default:throw new Error("Invalid member name for InfoAccess class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.accessDescriptions||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["accessDescriptions"]);e=a.compareSchema(e,e,d.schema({names:{accessDescriptions:"accessDescriptions"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(e.result.accessDescriptions,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.accessDescriptions,function(a){return a.toSchema()})})};e.toJSON=function(){return{accessDescriptions:Array.from(this.accessDescriptions,function(a){return a.toJSON()})}};return d}();jd["default"]=f}var md=!1;function nd(){md||(md=!0,ld());return kd.exports}var od={},pd={exports:od};function qd(){Object.defineProperty(od,"__esModule",{value:!0});od["default"]=od.SignedCertificateTimestamp=void 0;od.verifySCTsForCertificate=t;var a=m(h()),c=i(),d=j(),e=X(),f=k(D());function k(a){return a&&a.__esModule?a:{"default":a}}function l(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(l=function(a){return a?c:b})(a)}function m(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=l(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function n(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=o(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function o(a,b){if(!a)return;if(typeof a==="string")return p(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return p(a,b)}function p(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function q(a,c,d,e,f,h,i){try{var j=a[h](i),k=j.value}catch(a){d(a);return}j.done?c(k):(g||(g=b("Promise"))).resolve(k).then(e,f)}function r(a){return function(){var c=this,d=arguments;return new(g||(g=b("Promise")))(function(b,e){var f=a.apply(c,d);function g(a){q(f,b,e,g,h,"next",a)}function h(a){q(f,b,e,g,h,"throw",a)}g(void 0)})}}var s=function(){function g(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",g.defaultValues("version")),this.logID=c.getParametersValue(a,"logID",g.defaultValues("logID")),this.timestamp=c.getParametersValue(a,"timestamp",g.defaultValues("timestamp")),this.extensions=c.getParametersValue(a,"extensions",g.defaultValues("extensions")),this.hashAlgorithm=c.getParametersValue(a,"hashAlgorithm",g.defaultValues("hashAlgorithm")),this.signatureAlgorithm=c.getParametersValue(a,"signatureAlgorithm",g.defaultValues("signatureAlgorithm")),this.signature=c.getParametersValue(a,"signature",g.defaultValues("signature")),"schema"in a&&this.fromSchema(a.schema),"stream"in a&&this.fromStream(a.stream)}g.defaultValues=function(b){switch(b){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new a.Any();default:throw new Error("Invalid member name for SignedCertificateTimestamp class: "+b)}};var h=g.prototype;h.fromSchema=function(b){if(b instanceof a.RawData===!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");b=new d.SeqStream({stream:new d.ByteStream({buffer:b.data})});this.fromStream(b)};h.fromStream=function(b){var d=b.getUint16();this.version=b.getBlock(1)[0];if(this.version===0){this.logID=new Uint8Array(b.getBlock(32)).buffer.slice(0);this.timestamp=new Date(c.utilFromBase(new Uint8Array(b.getBlock(8)),8));var e=b.getUint16();this.extensions=new Uint8Array(b.getBlock(e)).buffer.slice(0);switch(b.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(b.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}var f=b.getUint16();b=new Uint8Array(b.getBlock(f)).buffer.slice(0);b=a.fromBER(b);if(b.offset===-1)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");this.signature=b.result;if(d!==47+e+f)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}};h.toSchema=function(){var b=this.toStream();return new a.RawData({data:b.stream.buffer})};h.toStream=function(){var a=new d.SeqStream();a.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength);a.appendChar(this.version);a.appendView(new Uint8Array(this.logID));var b=new ArrayBuffer(8);b=new Uint8Array(b);var e=c.utilToBase(this.timestamp.valueOf(),8);b.set(new Uint8Array(e),8-e.byteLength);a.appendView(b);a.appendUint16(this.extensions.byteLength);this.extensions.byteLength&&a.appendView(new Uint8Array(this.extensions));var f;switch(this.hashAlgorithm.toLowerCase()){case"none":f=0;break;case"md5":f=1;break;case"sha1":f=2;break;case"sha224":f=3;break;case"sha256":f=4;break;case"sha384":f=5;break;case"sha512":f=6;break;default:throw new Error("Incorrect data for hashAlgorithm: "+this.hashAlgorithm)}a.appendChar(f);var g;switch(this.signatureAlgorithm.toLowerCase()){case"anonymous":g=0;break;case"rsa":g=1;break;case"dsa":g=2;break;case"ecdsa":g=3;break;default:throw new Error("Incorrect data for signatureAlgorithm: "+this.signatureAlgorithm)}a.appendChar(g);e=this.signature.toBER(!1);a.appendUint16(e.byteLength);a.appendView(new Uint8Array(e));return a};h.toJSON=function(){return{version:this.version,logID:c.bufferToHexCodes(this.logID),timestamp:this.timestamp,extensions:c.bufferToHexCodes(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}};h.verify=function(g,h,i){i===void 0&&(i=0);var j=this;return r(b("regeneratorRuntime").mark(function k(){var l,m,o,p,q,r,s,t,u,v,w;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:l=c.toBase64(c.arrayBufferToString(j.logID)),m=null,p=new d.SeqStream(),q=n(g),b.prev=4,q.s();case 6:if((r=q.n()).done){b.next=13;break}s=r.value;if(!(s.log_id===l)){b.next=11;break}m=s.key;return b.abrupt("break",13);case 11:b.next=6;break;case 13:b.next=18;break;case 15:b.prev=15,b.t0=b["catch"](4),q.e(b.t0);case 18:b.prev=18;q.f();return b.finish(18);case 21:if(!(m===null)){b.next=23;break}throw new Error("Public key not found for CT with logId: "+l);case 23:t=a.fromBER(c.stringToArrayBuffer(c.fromBase64(m)));if(!(t.offset===-1)){b.next=26;break}throw new Error("Incorrect key value for CT Log with logId: "+l);case 26:o=new f["default"]({schema:t.result});p.appendChar(0);p.appendChar(0);u=new ArrayBuffer(8);v=new Uint8Array(u);w=c.utilToBase(j.timestamp.valueOf(),8);v.set(new Uint8Array(w),8-w.byteLength);p.appendView(v);p.appendUint16(i);i===0&&p.appendUint24(h.byteLength);p.appendView(new Uint8Array(h));p.appendUint16(j.extensions.byteLength);j.extensions.byteLength!==0&&p.appendView(new Uint8Array(j.extensions));return b.abrupt("return",e.getEngine().subtle.verifyWithPublicKey(p.$2.$1.slice(0,p.$3),{valueBlock:{valueHex:j.signature.toBER(!1)}},o,{algorithmId:""},"SHA-256"));case 40:case"end":return b.stop()}},k,this,[[4,15,18,21]])}))()};return g}();od.SignedCertificateTimestamp=s;t=function(){function b(a){a===void 0&&(a={}),this.timestamps=c.getParametersValue(a,"timestamps",b.defaultValues("timestamps")),"schema"in a&&this.fromSchema(a.schema)}b.defaultValues=function(a){switch(a){case"timestamps":return[];default:throw new Error("Invalid member name for SignedCertificateTimestampList class: "+a)}};b.compareWithDefault=function(a,b){switch(a){case"timestamps":return b.length===0;default:throw new Error("Invalid member name for SignedCertificateTimestampList class: "+a)}};b.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});"optional"in b===!1&&(b.optional=!1);return new a.OctetString({name:b.blockName||"SignedCertificateTimestampList",optional:b.optional})};var e=b.prototype;e.fromSchema=function(b){if(b instanceof a.OctetString===!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");b=new d.SeqStream({stream:new d.ByteStream({buffer:b.valueBlock.valueHex})});var c=b.getUint16();if(c!==b.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");while(b.length)this.timestamps.push(new s({stream:b}))};e.toSchema=function(){var b=new d.SeqStream(),c=0,e=[],f=n(this.timestamps),g;try{for(f.s();!(g=f.n()).done;){g=g.value;g=g.toStream();e.push(g);c+=g.stream.buffer.byteLength}}catch(a){f.e(a)}finally{f.f()}b.appendUint16(c);for(g=0,f=e;g<f.length;g++){c=f[g];b.appendView(c.stream.view)}return new a.OctetString({valueHex:b.stream.buffer.slice(0)})};e.toJSON=function(){return{timestamps:Array.from(this.timestamps,function(a){return a.toJSON()})}};return b}();od["default"]=t;function t(a,b,c){return u.apply(this,arguments)}function u(){u=r(b("regeneratorRuntime").mark(function a(c,f,h,i){var j,k,l,m,o,p,q,r,s,t,u,v;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:i===void 0&&(i=-1);j=null;m=new d.SeqStream();p=e.getCrypto();if(!(typeof p==="undefined")){a.next=6;break}return a.abrupt("return",(g||(g=b("Promise"))).reject("Unable to create WebCrypto object"));case 6:q=0;case 7:if(!(q<c.extensions.length)){a.next=19;break}a.t0=c.extensions[q].extnID;a.next=a.t0==="1.3.6.1.4.1.11129.2.4.2"?11:16;break;case 11:j=c.extensions[q].parsedValue;if(!(j.timestamps.length===0)){a.next=14;break}throw new Error("Nothing to verify in the certificate");case 14:c.extensions.splice(q,1);return a.abrupt("break",16);case 16:q++;a.next=7;break;case 19:if(!(j===null)){a.next=21;break}throw new Error("No SignedCertificateTimestampList extension in the specified certificate");case 21:k=c.encodeTBS().toBER(!1);a.next=24;return p.digest({name:"SHA-256"},new Uint8Array(f.subjectPublicKeyInfo.toSchema().toBER(!1)));case 24:l=a.sent;m.appendView(new Uint8Array(l));m.appendUint24(k.byteLength);m.appendView(new Uint8Array(k));o=m._stream._buffer.slice(0,m._length);if(!(i===-1)){a.next=51;break}r=[];s=n(j.timestamps);a.prev=32;s.s();case 34:if((t=s.n()).done){a.next=42;break}u=t.value;a.next=38;return u.verify(h,o,1);case 38:v=a.sent,r.push(v);case 40:a.next=34;break;case 42:a.next=47;break;case 44:a.prev=44,a.t1=a["catch"](32),s.e(a.t1);case 47:a.prev=47;s.f();return a.finish(47);case 50:return a.abrupt("return",r);case 51:i>=j.timestamps.length&&(i=j.timestamps.length-1);a.next=54;return j.timestamps[i].verify(h,o,1);case 54:a.t2=a.sent;return a.abrupt("return",[a.t2]);case 56:case"end":return a.stop()}},a,this,[[32,44,47,50]])}));return u.apply(this,arguments)}}var rd=!1;function sd(){rd||(rd=!0,qd());return pd.exports}var td={},ud={exports:td};function vd(){Object.defineProperty(td,"__esModule",{value:!0});td["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.templateID=b.getParametersValue(a,"templateID",c.defaultValues("templateID")),"templateMajorVersion"in a&&(this.templateMajorVersion=b.getParametersValue(a,"templateMajorVersion",c.defaultValues("templateMajorVersion"))),"templateMinorVersion"in a&&(this.templateMinorVersion=b.getParametersValue(a,"templateMinorVersion",c.defaultValues("templateMinorVersion"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error("Invalid member name for CertificateTemplate class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.templateID||""}),new a.Integer({name:c.templateMajorVersion||"",optional:!0}),new a.Integer({name:c.templateMinorVersion||"",optional:!0})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["templateID","templateMajorVersion","templateMinorVersion"]);d=a.compareSchema(d,d,c.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=d.result.templateID.valueBlock.toString();"templateMajorVersion"in d.result&&(this.templateMajorVersion=d.result.templateMajorVersion.valueBlock.valueDec);"templateMinorVersion"in d.result&&(this.templateMinorVersion=d.result.templateMinorVersion.valueBlock.valueDec)};d.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.templateID}));"templateMajorVersion"in this&&b.push(new a.Integer({value:this.templateMajorVersion}));"templateMinorVersion"in this&&b.push(new a.Integer({value:this.templateMinorVersion}));return new a.Sequence({value:b})};d.toJSON=function(){var a={extnID:this.templateID};"templateMajorVersion"in this&&(a.templateMajorVersion=this.templateMajorVersion);"templateMinorVersion"in this&&(a.templateMinorVersion=this.templateMinorVersion);return a};return c}();td["default"]=d}var wd=!1;function xd(){wd||(wd=!0,vd());return ud.exports}var yd={},zd={exports:yd};function Ad(){Object.defineProperty(yd,"__esModule",{value:!0});yd["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.certificateIndex=b.getParametersValue(a,"certificateIndex",c.defaultValues("certificateIndex")),this.keyIndex=b.getParametersValue(a,"keyIndex",c.defaultValues("keyIndex")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"certificateIndex":case"keyIndex":return 0;default:throw new Error("Invalid member name for CAVersion class: "+a)}};c.schema=function(b){b===void 0&&({});return new a.Integer()};var d=c.prototype;d.fromSchema=function(b){if(b.constructor.blockName()!==a.Integer.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");b=b.valueBlock.valueHex.slice(0);var c=new Uint8Array(b);switch(!0){case b.byteLength<4:var d=new ArrayBuffer(4),e=new Uint8Array(d);e.set(c,4-b.byteLength);b=d.slice(0);break;case b.byteLength>4:e=new ArrayBuffer(4);d=new Uint8Array(e);d.set(c.slice(0,4));b=e.slice(0);break;default:}d=b.slice(0,2);c=new Uint8Array(d);e=c[0];c[0]=c[1];c[1]=e;c=new Uint16Array(d);this.keyIndex=c[0];d=b.slice(2);c=new Uint8Array(d);e=c[0];c[0]=c[1];c[1]=e;b=new Uint16Array(d);this.certificateIndex=b[0]};d.toSchema=function(){var c=new ArrayBuffer(2),d=new Uint16Array(c);d[0]=this.certificateIndex;d=new Uint8Array(c);var e=d[0];d[0]=d[1];d[1]=e;d=new ArrayBuffer(2);var f=new Uint16Array(d);f[0]=this.keyIndex;f=new Uint8Array(d);e=f[0];f[0]=f[1];f[1]=e;return new a.Integer({valueHex:b.utilConcatBuf(d,c)})};d.toJSON=function(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}};return c}();yd["default"]=d}var Bd=!1;function Cd(){Bd||(Bd=!0,Ad());return zd.exports}var Dd={},Ed={exports:Dd};function Fd(){Object.defineProperty(Dd,"__esModule",{value:!0});Dd["default"]=Dd.QCStatement=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}var e=function(){function c(a){a===void 0&&(a={}),this.id=b.getParametersValue(a,"id",c.defaultValues("id")),"type"in a&&(this.type=b.getParametersValue(a,"type",c.defaultValues("type"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"id":return"";case"type":return new a.Null();default:throw new Error("Invalid member name for QCStatement class: "+b)}};c.compareWithDefault=function(b,c){switch(b){case"id":return c==="";case"type":return c instanceof a.Null;default:throw new Error("Invalid member name for QCStatement class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.id||""}),new a.Any({name:c.type||"",optional:!0})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["id","type"]);d=a.compareSchema(d,d,c.schema({names:{id:"id",type:"type"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=d.result.id.valueBlock.toString();"type"in d.result&&(this.type=d.result.type)};d.toSchema=function(){var b=[new a.ObjectIdentifier({value:this.id})];"type"in this&&b.push(this.type);return new a.Sequence({value:b})};d.toJSON=function(){var a={id:this.id};"type"in this&&(a.type=this.type.toJSON());return a};return c}();Dd.QCStatement=e;d=function(){function c(a){a===void 0&&(a={}),this.values=b.getParametersValue(a,"values",c.defaultValues("values")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"values":return[];default:throw new Error("Invalid member name for QCStatements class: "+a)}};c.compareWithDefault=function(a,b){switch(a){case"values":return b.length===0;default:throw new Error("Invalid member name for QCStatements class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Repeated({name:c.values||"",value:e.schema(c.value||{})})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["values"]);d=a.compareSchema(d,d,c.schema({names:{values:"values"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(d.result.values,function(a){return new e({schema:a})})};d.toSchema=function(){return new a.Sequence({value:Array.from(this.values,function(a){return a.toSchema()})})};d.toJSON=function(){return{extensions:Array.from(this.values,function(a){return a.toJSON()})}};return c}();Dd["default"]=d}var Gd=!1;function Hd(){Gd||(Gd=!0,Fd());return Ed.exports}var Id={},Jd={exports:Id};function Kd(){Object.defineProperty(Id,"__esModule",{value:!0});Id["default"]=void 0;var a=y(h()),b=i(),c=w(Ib()),d=w(Nb()),e=w(kb()),f=w(Sb()),g=w(Xb()),j=w(bc()),k=w(lc()),l=w(vc()),m=w(Kc()),n=w(Uc()),o=w(Zc()),p=w(dd()),q=w(id()),r=w(nd()),s=w(sd()),t=w(xd()),u=w(Cd()),v=w(Hd());function w(a){return a&&a.__esModule?a:{"default":a}}function x(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(x=function(a){return a?c:b})(a)}function y(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=x(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}y=function(){function h(c){c===void 0&&(c={}),this.extnID=b.getParametersValue(c,"extnID",h.defaultValues("extnID")),this.critical=b.getParametersValue(c,"critical",h.defaultValues("critical")),"extnValue"in c?this.extnValue=new a.OctetString({valueHex:c.extnValue}):this.extnValue=h.defaultValues("extnValue"),"parsedValue"in c&&(this.parsedValue=b.getParametersValue(c,"parsedValue",h.defaultValues("parsedValue"))),"schema"in c&&this.fromSchema(c.schema)}h.defaultValues=function(b){switch(b){case"extnID":return"";case"critical":return!1;case"extnValue":return new a.OctetString();case"parsedValue":return{};default:throw new Error("Invalid member name for Extension class: "+b)}};h.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.extnID||""}),new a.Boolean({name:c.critical||"",optional:!0}),new a.OctetString({name:c.extnValue||""})]})};var i=h.prototype;i.fromSchema=function(i){b.clearProps(i,["extnID","critical","extnValue"]);i=a.compareSchema(i,i,h.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(i.verified===!1)throw new Error("Object's schema was not verified against input data for Extension");this.extnID=i.result.extnID.valueBlock.toString();"critical"in i.result&&(this.critical=i.result.critical.valueBlock.value);this.extnValue=i.result.extnValue;i=a.fromBER(this.extnValue.valueBlock.valueHex);if(i.offset===-1)return;switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new c["default"]({schema:i.result})}catch(a){this.parsedValue=new c["default"](),this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":this.parsedValue=i.result;break;case"2.5.29.15":this.parsedValue=i.result;break;case"2.5.29.16":try{this.parsedValue=new d["default"]({schema:i.result})}catch(a){this.parsedValue=new d["default"](),this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new e["default"]({schema:i.result})}catch(a){this.parsedValue=new e["default"](),this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new f["default"]({schema:i.result})}catch(a){this.parsedValue=new f["default"](),this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.20":case"2.5.29.27":this.parsedValue=i.result;break;case"2.5.29.21":this.parsedValue=i.result;break;case"2.5.29.24":this.parsedValue=i.result;break;case"2.5.29.28":try{this.parsedValue=new g["default"]({schema:i.result})}catch(a){this.parsedValue=new g["default"](),this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new j["default"]({schema:i.result})}catch(a){this.parsedValue=new j["default"](),this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new k["default"]({schema:i.result})}catch(a){this.parsedValue=new k["default"](),this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new l["default"]({schema:i.result})}catch(a){this.parsedValue=new l["default"](),this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new m["default"]({schema:i.result})}catch(a){this.parsedValue=new m["default"](),this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new n["default"]({schema:i.result})}catch(a){this.parsedValue=new n["default"](),this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new o["default"]({schema:i.result})}catch(a){this.parsedValue=new o["default"](),this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new p["default"]({schema:i.result})}catch(a){this.parsedValue=new p["default"](),this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new q["default"]({schema:i.result})}catch(a){this.parsedValue=new q["default"](),this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"2.5.29.54":this.parsedValue=i.result;break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new r["default"]({schema:i.result})}catch(a){this.parsedValue=new r["default"](),this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new s["default"]({schema:i.result})}catch(a){this.parsedValue=new s["default"](),this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.20.2":this.parsedValue=i.result;break;case"1.3.6.1.4.1.311.21.2":this.parsedValue=i.result;break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new t["default"]({schema:i.result})}catch(a){this.parsedValue=new t["default"](),this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new u["default"]({schema:i.result})}catch(a){this.parsedValue=new u["default"](),this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new v["default"]({schema:i.result})}catch(a){this.parsedValue=new v["default"](),this.parsedValue.parsingError="Incorrectly formated QCStatements"}break;default:}};i.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.extnID}));this.critical!==h.defaultValues("critical")&&b.push(new a.Boolean({value:this.critical}));b.push(this.extnValue);return new a.Sequence({value:b})};i.toJSON=function(){var a={extnID:this.extnID,extnValue:this.extnValue.toJSON()};this.critical!==h.defaultValues("critical")&&(a.critical=this.critical);"parsedValue"in this&&("toJSON"in this.parsedValue&&(a.parsedValue=this.parsedValue.toJSON()));return a};return h}();Id["default"]=y}var Ld=!1;function Md(){Ld||(Ld=!0,Kd());return Jd.exports}var Nd={},Od={exports:Nd};function Pd(){Object.defineProperty(Nd,"__esModule",{value:!0});Nd["default"]=void 0;var a=f(h()),b=i(),c=d(Md());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.extensions=b.getParametersValue(a,"extensions",d.defaultValues("extensions")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"extensions":return[];default:throw new Error("Invalid member name for Extensions class: "+a)}};d.schema=function(d,e){d===void 0&&(d={});e===void 0&&(e=!1);d=b.getParametersValue(d,"names",{});return new a.Sequence({optional:e,name:d.blockName||"",value:[new a.Repeated({name:d.extensions||"",value:c["default"].schema(d.extension||{})})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["extensions"]);e=a.compareSchema(e,e,d.schema({names:{extensions:"extensions"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(e.result.extensions,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.extensions,function(a){return a.toSchema()})})};e.toJSON=function(){return{extensions:Array.from(this.extensions,function(a){return a.toJSON()})}};return d}();Nd["default"]=f}var Qd=!1;function Rd(){Qd||(Qd=!0,Pd());return Od.exports}var Sd={},Td={exports:Sd};function Ud(){Object.defineProperty(Sd,"__esModule",{value:!0});Sd["default"]=void 0;var a=q(h()),c=i(),d=X(),e=n(o()),f=n(Ra()),j=n(Db()),k=n(D()),l=n(Md()),m=n(Rd());function n(a){return a&&a.__esModule?a:{"default":a}}function p(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(p=function(a){return a?c:b})(a)}function q(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=p(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function r(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"tbsCertificate",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({name:b.tbsCertificateVersion||"tbsCertificate.version"})]}),new a.Integer({name:b.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),e["default"].schema(b.signature||{names:{blockName:"tbsCertificate.signature"}}),f["default"].schema(b.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new a.Sequence({name:b.tbsCertificateValidity||"tbsCertificate.validity",value:[j["default"].schema(b.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),j["default"].schema(b.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),f["default"].schema(b.subject||{names:{blockName:"tbsCertificate.subject"}}),k["default"].schema(b.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new a.Primitive({name:b.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new a.Primitive({name:b.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[m["default"].schema(b.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}q=function(){function h(a){a===void 0&&(a={}),this.tbs=c.getParametersValue(a,"tbs",h.defaultValues("tbs")),this.version=c.getParametersValue(a,"version",h.defaultValues("version")),this.serialNumber=c.getParametersValue(a,"serialNumber",h.defaultValues("serialNumber")),this.signature=c.getParametersValue(a,"signature",h.defaultValues("signature")),this.issuer=c.getParametersValue(a,"issuer",h.defaultValues("issuer")),this.notBefore=c.getParametersValue(a,"notBefore",h.defaultValues("notBefore")),this.notAfter=c.getParametersValue(a,"notAfter",h.defaultValues("notAfter")),this.subject=c.getParametersValue(a,"subject",h.defaultValues("subject")),this.subjectPublicKeyInfo=c.getParametersValue(a,"subjectPublicKeyInfo",h.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in a&&(this.issuerUniqueID=c.getParametersValue(a,"issuerUniqueID",h.defaultValues("issuerUniqueID"))),"subjectUniqueID"in a&&(this.subjectUniqueID=c.getParametersValue(a,"subjectUniqueID",h.defaultValues("subjectUniqueID"))),"extensions"in a&&(this.extensions=c.getParametersValue(a,"extensions",h.defaultValues("extensions"))),this.signatureAlgorithm=c.getParametersValue(a,"signatureAlgorithm",h.defaultValues("signatureAlgorithm")),this.signatureValue=c.getParametersValue(a,"signatureValue",h.defaultValues("signatureValue")),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(b){switch(b){case"tbs":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new a.Integer();case"signature":return new e["default"]();case"issuer":return new f["default"]();case"notBefore":return new j["default"]();case"notAfter":return new j["default"]();case"subject":return new f["default"]();case"subjectPublicKeyInfo":return new k["default"]();case"issuerUniqueID":return new ArrayBuffer(0);case"subjectUniqueID":return new ArrayBuffer(0);case"extensions":return[];case"signatureAlgorithm":return new e["default"]();case"signatureValue":return new a.BitString();default:throw new Error("Invalid member name for Certificate class: "+b)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[r(b.tbsCertificate),e["default"].schema(b.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new a.BitString({name:b.signatureValue||"signatureValue"})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);b=a.compareSchema(b,b,h.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=b.result.tbsCertificate.valueBeforeDecode;"tbsCertificate.version"in b.result&&(this.version=b.result["tbsCertificate.version"].valueBlock.valueDec);this.serialNumber=b.result["tbsCertificate.serialNumber"];this.signature=new e["default"]({schema:b.result["tbsCertificate.signature"]});this.issuer=new f["default"]({schema:b.result["tbsCertificate.issuer"]});this.notBefore=new j["default"]({schema:b.result["tbsCertificate.notBefore"]});this.notAfter=new j["default"]({schema:b.result["tbsCertificate.notAfter"]});this.subject=new f["default"]({schema:b.result["tbsCertificate.subject"]});this.subjectPublicKeyInfo=new k["default"]({schema:b.result["tbsCertificate.subjectPublicKeyInfo"]});"tbsCertificate.issuerUniqueID"in b.result&&(this.issuerUniqueID=b.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex);"tbsCertificate.subjectUniqueID"in b.result&&(this.subjectUniqueID=b.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex);"tbsCertificate.extensions"in b.result&&(this.extensions=Array.from(b.result["tbsCertificate.extensions"],function(a){return new l["default"]({schema:a})}));this.signatureAlgorithm=new e["default"]({schema:b.result.signatureAlgorithm});this.signatureValue=b.result.signatureValue};i.encodeTBS=function(){var b=[];"version"in this&&this.version!==h.defaultValues("version")&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({value:this.version})]}));b.push(this.serialNumber);b.push(this.signature.toSchema());b.push(this.issuer.toSchema());b.push(new a.Sequence({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]}));b.push(this.subject.toSchema());b.push(this.subjectPublicKeyInfo.toSchema());"issuerUniqueID"in this&&b.push(new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID}));"subjectUniqueID"in this&&b.push(new a.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID}));"extensions"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new a.Sequence({value:Array.from(this.extensions,function(a){return a.toSchema()})})]}));return new a.Sequence({value:b})};i.toSchema=function(b){b===void 0&&(b=!1);({});if(b===!1){if(this.tbs.length===0)return h.schema().value[0];b=a.fromBER(this.tbs).result}else b=this.encodeTBS();return new a.Sequence({value:[b,this.signatureAlgorithm.toSchema(),this.signatureValue]})};i.toJSON=function(){var a={tbs:c.bufferToHexCodes(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};"version"in this&&this.version!==h.defaultValues("version")&&(a.version=this.version);"issuerUniqueID"in this&&(a.issuerUniqueID=c.bufferToHexCodes(this.issuerUniqueID,0,this.issuerUniqueID.byteLength));"subjectUniqueID"in this&&(a.subjectUniqueID=c.bufferToHexCodes(this.subjectUniqueID,0,this.subjectUniqueID.byteLength));"extensions"in this&&(a.extensions=Array.from(this.extensions,function(a){return a.toJSON()}));return a};i.getPublicKey=function(a){a===void 0&&(a=null);return d.getEngine().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,a)};i.getKeyHash=function(a){a===void 0&&(a="SHA-1");var c=d.getCrypto();return typeof c==="undefined"?(g||(g=b("Promise"))).reject("Unable to create WebCrypto object"):c.digest({name:a},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))};i.sign=function(c,e){var f=this;e===void 0&&(e="SHA-1");if(typeof c==="undefined")return(g||(g=b("Promise"))).reject("Need to provide a private key for signing");var h=(g||(g=b("Promise"))).resolve(),i,j=d.getEngine();h=h.then(function(){return j.subtle.getSignatureParameters(c,e)});h=h.then(function(a){i=a.parameters,f.signature=a.signatureAlgorithm,f.signatureAlgorithm=a.signatureAlgorithm});h=h.then(function(){f.tbs=f.encodeTBS().toBER(!1)});h=h.then(function(){return j.subtle.signWithPrivateKey(f.tbs,c,i)});h=h.then(function(b){f.signatureValue=new a.BitString({valueHex:b})});return h};i.verify=function(a){a===void 0&&(a=null);var c={};a!==null?c=a.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(c=this.subjectPublicKeyInfo);return c instanceof k["default"]===!1?(g||(g=b("Promise"))).reject("Please provide issuer certificate as a parameter"):d.getEngine().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,c,this.signatureAlgorithm)};return h}();Sd["default"]=q}var Vd=!1;function Wd(){Vd||(Vd=!0,Ud());return Td.exports}var Xd={},Yd={exports:Xd};function Zd(){Object.defineProperty(Xd,"__esModule",{value:!0});Xd["default"]=Xd.IssuerSerial=Xd.AttributeCertificateInfoV1=Xd.AttCertValidityPeriod=void 0;var a=k(h()),b=i(),c=g(bc()),d=g(o()),e=g(I()),f=g(Rd());function g(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}var l=function(){function c(a){a===void 0&&(a={}),this.notBeforeTime=b.getParametersValue(a,"notBeforeTime",c.defaultValues("notBeforeTime")),this.notAfterTime=b.getParametersValue(a,"notAfterTime",c.defaultValues("notAfterTime")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"notBeforeTime":case"notAfterTime":return new Date(0,0,0);default:throw new Error("Invalid member name for AttCertValidityPeriod class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.GeneralizedTime({name:c.notBeforeTime||""}),new a.GeneralizedTime({name:c.notAfterTime||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["notBeforeTime","notAfterTime"]);d=a.compareSchema(d,d,c.schema({names:{notBeforeTime:"notBeforeTime",notAfterTime:"notAfterTime"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for AttCertValidityPeriod");this.notBeforeTime=d.result.notBeforeTime.toDate();this.notAfterTime=d.result.notAfterTime.toDate()};d.toSchema=function(){return new a.Sequence({value:[new a.GeneralizedTime({valueDate:this.notBeforeTime}),new a.GeneralizedTime({valueDate:this.notAfterTime})]})};d.toJSON=function(){return{notBeforeTime:this.notBeforeTime,notAfterTime:this.notAfterTime}};return c}();Xd.AttCertValidityPeriod=l;var m=function(){function d(a){a===void 0&&(a={}),this.issuer=b.getParametersValue(a,"issuer",d.defaultValues("issuer")),this.serialNumber=b.getParametersValue(a,"serialNumber",d.defaultValues("serialNumber")),"issuerUID"in a&&(this.issuerUID=b.getParametersValue(a,"issuerUID",d.defaultValues("issuerUID"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"issuer":return new c["default"]();case"serialNumber":return new a.Integer();case"issuerUID":return new a.BitString();default:throw new Error("Invalid member name for IssuerSerial class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.issuer||{}),new a.Integer({name:d.serialNumber||""}),new a.BitString({optional:!0,name:d.issuerUID||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["issuer","serialNumber","issuerUID"]);e=a.compareSchema(e,e,d.schema({names:{issuer:{names:{blockName:"issuer"}},serialNumber:"serialNumber",issuerUID:"issuerUID"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for IssuerSerial");this.issuer=new c["default"]({schema:e.result.issuer});this.serialNumber=e.result.serialNumber;"issuerUID"in e.result&&(this.issuerUID=e.result.issuerUID)};e.toSchema=function(){var b=new a.Sequence({value:[this.issuer.toSchema(),this.serialNumber]});"issuerUID"in this&&b.valueBlock.value.push(this.issuerUID);return b};e.toJSON=function(){var a={issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()};"issuerUID"in this&&(a.issuerUID=this.issuerUID.toJSON());return a};return d}();Xd.IssuerSerial=m;var n=function(){function g(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",g.defaultValues("version")),"baseCertificateID"in a&&(this.baseCertificateID=b.getParametersValue(a,"baseCertificateID",g.defaultValues("baseCertificateID"))),"subjectName"in a&&(this.subjectName=b.getParametersValue(a,"subjectName",g.defaultValues("subjectName"))),this.issuer=b.getParametersValue(a,"issuer",g.defaultValues("issuer")),this.signature=b.getParametersValue(a,"signature",g.defaultValues("signature")),this.serialNumber=b.getParametersValue(a,"serialNumber",g.defaultValues("serialNumber")),this.attrCertValidityPeriod=b.getParametersValue(a,"attrCertValidityPeriod",g.defaultValues("attrCertValidityPeriod")),this.attributes=b.getParametersValue(a,"attributes",g.defaultValues("attributes")),"issuerUniqueID"in a&&(this.issuerUniqueID=b.getParametersValue(a,"issuerUniqueID",g.defaultValues("issuerUniqueID"))),"extensions"in a&&(this.extensions=b.getParametersValue(a,"extensions",g.defaultValues("extensions"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"version":return 0;case"baseCertificateID":return new m();case"subjectName":return new c["default"]();case"issuer":return{};case"signature":return new d["default"]();case"serialNumber":return new a.Integer();case"attrCertValidityPeriod":return new l();case"attributes":return[];case"issuerUniqueID":return new a.BitString();case"extensions":return new f["default"]();default:throw new Error("Invalid member name for AttributeCertificateInfoV1 class: "+b)}};g.schema=function(g){g===void 0&&(g={});g=b.getParametersValue(g,"names",{});return new a.Sequence({name:g.blockName||"",value:[new a.Integer({name:g.version||""}),new a.Choice({value:[new a.Constructed({name:g.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:m.schema().valueBlock.value}),new a.Constructed({name:g.subjectName||"",idBlock:{tagClass:3,tagNumber:1},value:c["default"].schema().valueBlock.value})]}),c["default"].schema({names:{blockName:g.issuer||""}}),d["default"].schema(g.signature||{}),new a.Integer({name:g.serialNumber||""}),l.schema(g.attrCertValidityPeriod||{}),new a.Sequence({name:g.attributes||"",value:[new a.Repeated({value:e["default"].schema()})]}),new a.BitString({optional:!0,name:g.issuerUniqueID||""}),f["default"].schema(g.extensions||{},!0)]})};var h=g.prototype;h.fromSchema=function(h){b.clearProps(h,["version","baseCertificateID","subjectName","issuer","signature","serialNumber","attrCertValidityPeriod","attributes","issuerUniqueID","extensions"]);h=a.compareSchema(h,h,g.schema({names:{version:"version",baseCertificateID:"baseCertificateID",subjectName:"subjectName",issuer:"issuer",signature:{names:{blockName:"signature"}},serialNumber:"serialNumber",attrCertValidityPeriod:{names:{blockName:"attrCertValidityPeriod"}},attributes:"attributes",issuerUniqueID:"issuerUniqueID",extensions:{names:{blockName:"extensions"}}}}));if(h.verified===!1)throw new Error("Object's schema was not verified against input data for AttributeCertificateInfoV1");this.version=h.result.version.valueBlock.valueDec;"baseCertificateID"in h.result&&(this.baseCertificateID=new m({schema:new a.Sequence({value:h.result.baseCertificateID.valueBlock.value})}));"subjectName"in h.result&&(this.subjectName=new c["default"]({schema:new a.Sequence({value:h.result.subjectName.valueBlock.value})}));this.issuer=h.result.issuer;this.signature=new d["default"]({schema:h.result.signature});this.serialNumber=h.result.serialNumber;this.attrCertValidityPeriod=new l({schema:h.result.attrCertValidityPeriod});this.attributes=Array.from(h.result.attributes.valueBlock.value,function(a){return new e["default"]({schema:a})});"issuerUniqueID"in h.result&&(this.issuerUniqueID=h.result.issuerUniqueID);"extensions"in h.result&&(this.extensions=new f["default"]({schema:h.result.extensions}))};h.toSchema=function(){var b=new a.Sequence({value:[new a.Integer({value:this.version})]});"baseCertificateID"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value}));"subjectName"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.subjectName.toSchema().valueBlock.value}));b.valueBlock.value.push(this.issuer.toSchema());b.valueBlock.value.push(this.signature.toSchema());b.valueBlock.value.push(this.serialNumber);b.valueBlock.value.push(this.attrCertValidityPeriod.toSchema());b.valueBlock.value.push(new a.Sequence({value:Array.from(this.attributes,function(a){return a.toSchema()})}));"issuerUniqueID"in this&&b.valueBlock.value.push(this.issuerUniqueID);"extensions"in this&&b.valueBlock.value.push(this.extensions.toSchema());return b};h.toJSON=function(){var a={version:this.version};"baseCertificateID"in this&&(a.baseCertificateID=this.baseCertificateID.toJSON());"subjectName"in this&&(a.subjectName=this.subjectName.toJSON());a.issuer=this.issuer.toJSON();a.signature=this.signature.toJSON();a.serialNumber=this.serialNumber.toJSON();a.attrCertValidityPeriod=this.attrCertValidityPeriod.toJSON();a.attributes=Array.from(this.attributes,function(a){return a.toJSON()});"issuerUniqueID"in this&&(a.issuerUniqueID=this.issuerUniqueID.toJSON());"extensions"in this&&(a.extensions=this.extensions.toJSON());return a};return g}();Xd.AttributeCertificateInfoV1=n;k=function(){function c(a){a===void 0&&(a={}),this.acinfo=b.getParametersValue(a,"acinfo",c.defaultValues("acinfo")),this.signatureAlgorithm=b.getParametersValue(a,"signatureAlgorithm",c.defaultValues("signatureAlgorithm")),this.signatureValue=b.getParametersValue(a,"signatureValue",c.defaultValues("signatureValue")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"acinfo":return new n();case"signatureAlgorithm":return new d["default"]();case"signatureValue":return new a.BitString();default:throw new Error("Invalid member name for AttributeCertificateV1 class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[n.schema(c.acinfo||{}),d["default"].schema(c.signatureAlgorithm||{}),new a.BitString({name:c.signatureValue||""})]})};var e=c.prototype;e.fromSchema=function(e){b.clearProps(e,["acinfo","signatureValue","signatureAlgorithm"]);e=a.compareSchema(e,e,c.schema({names:{acinfo:{names:{blockName:"acinfo"}},signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signatureValue:"signatureValue"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for AttributeCertificateV1");this.acinfo=new n({schema:e.result.acinfo});this.signatureAlgorithm=new d["default"]({schema:e.result.signatureAlgorithm});this.signatureValue=e.result.signatureValue};e.toSchema=function(){return new a.Sequence({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})};e.toJSON=function(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}};return c}();Xd["default"]=k}var $d=!1;function ae(){$d||($d=!0,Zd());return Yd.exports}var be={},ce={exports:be};function de(){Object.defineProperty(be,"__esModule",{value:!0});be["default"]=be.V2Form=be.ObjectDigestInfo=be.Holder=be.AttributeCertificateInfoV2=void 0;var a=l(h()),b=i(),c=j(bc()),d=j(o()),e=j(I()),f=j(Rd()),g=ae();function j(a){return a&&a.__esModule?a:{"default":a}}function k(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(k=function(a){return a?c:b})(a)}function l(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=k(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}var m=function(){function c(a){a===void 0&&(a={}),this.digestedObjectType=b.getParametersValue(a,"digestedObjectType",c.defaultValues("digestedObjectType")),"otherObjectTypeID"in a&&(this.otherObjectTypeID=b.getParametersValue(a,"otherObjectTypeID",c.defaultValues("otherObjectTypeID"))),this.digestAlgorithm=b.getParametersValue(a,"digestAlgorithm",c.defaultValues("digestAlgorithm")),this.objectDigest=b.getParametersValue(a,"objectDigest",c.defaultValues("objectDigest")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"digestedObjectType":return new a.Enumerated();case"otherObjectTypeID":return new a.ObjectIdentifier();case"digestAlgorithm":return new d["default"]();case"objectDigest":return new a.BitString();default:throw new Error("Invalid member name for ObjectDigestInfo class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Enumerated({name:c.digestedObjectType||""}),new a.ObjectIdentifier({optional:!0,name:c.otherObjectTypeID||""}),d["default"].schema(c.digestAlgorithm||{}),new a.BitString({name:c.objectDigest||""})]})};var e=c.prototype;e.fromSchema=function(e){b.clearProps(e,["digestedObjectType","otherObjectTypeID","digestAlgorithm","objectDigest"]);e=a.compareSchema(e,e,c.schema({names:{digestedObjectType:"digestedObjectType",otherObjectTypeID:"otherObjectTypeID",digestAlgorithm:{names:{blockName:"digestAlgorithm"}},objectDigest:"objectDigest"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for ObjectDigestInfo");this.digestedObjectType=e.result.digestedObjectType;"otherObjectTypeID"in e.result&&(this.otherObjectTypeID=e.result.otherObjectTypeID);this.digestAlgorithm=new d["default"]({schema:e.result.digestAlgorithm});this.objectDigest=e.result.objectDigest};e.toSchema=function(){var b=new a.Sequence({value:[this.digestedObjectType]});"otherObjectTypeID"in this&&b.value.push(this.otherObjectTypeID);b.value.push(this.digestAlgorithm.toSchema());b.value.push(this.objectDigest);return b};e.toJSON=function(){var a={digestedObjectType:this.digestedObjectType.toJSON()};"otherObjectTypeID"in this&&(a.otherObjectTypeID=this.otherObjectTypeID.toJSON());a.digestAlgorithm=this.digestAlgorithm.toJSON();a.objectDigest=this.objectDigest.toJSON();return a};return c}();be.ObjectDigestInfo=m;var n=function(){function d(a){a===void 0&&(a={}),"issuerName"in a&&(this.issuerName=b.getParametersValue(a,"issuerName",d.defaultValues("issuerName"))),"baseCertificateID"in a&&(this.baseCertificateID=b.getParametersValue(a,"baseCertificateID",d.defaultValues("baseCertificateID"))),"objectDigestInfo"in a&&(this.objectDigestInfo=b.getParametersValue(a,"objectDigestInfo",d.defaultValues("objectDigestInfo"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"issuerName":return new c["default"]();case"baseCertificateID":return new g.IssuerSerial();case"objectDigestInfo":return new m();default:throw new Error("Invalid member name for V2Form class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema({names:{blockName:d.issuerName}},!0),new a.Constructed({optional:!0,name:d.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:g.IssuerSerial.schema().valueBlock.value}),new a.Constructed({optional:!0,name:d.objectDigestInfo||"",idBlock:{tagClass:3,tagNumber:1},value:m.schema().valueBlock.value})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["issuerName","baseCertificateID","objectDigestInfo"]);e=a.compareSchema(e,e,d.schema({names:{issuerName:"issuerName",baseCertificateID:"baseCertificateID",objectDigestInfo:"objectDigestInfo"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for V2Form");"issuerName"in e.result&&(this.issuerName=new c["default"]({schema:e.result.issuerName}));"baseCertificateID"in e.result&&(this.baseCertificateID=new g.IssuerSerial({schema:new a.Sequence({value:e.result.baseCertificateID.valueBlock.value})}));"objectDigestInfo"in e.result&&(this.objectDigestInfo=new m({schema:new a.Sequence({value:e.result.objectDigestInfo.valueBlock.value})}))};e.toSchema=function(){var b=new a.Sequence();"issuerName"in this&&b.valueBlock.value.push(this.issuerName.toSchema());"baseCertificateID"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value}));"objectDigestInfo"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.objectDigestInfo.toSchema().valueBlock.value}));return b};e.toJSON=function(){var a={};"issuerName"in this&&(a.issuerName=this.issuerName.toJSON());"baseCertificateID"in this&&(a.baseCertificateID=this.baseCertificateID.toJSON());"objectDigestInfo"in this&&(a.objectDigestInfo=this.objectDigestInfo.toJSON());return a};return d}();be.V2Form=n;var p=function(){function d(a){a===void 0&&(a={}),"baseCertificateID"in a&&(this.baseCertificateID=b.getParametersValue(a,"baseCertificateID",d.defaultValues("baseCertificateID"))),"entityName"in a&&(this.entityName=b.getParametersValue(a,"entityName",d.defaultValues("entityName"))),"objectDigestInfo"in a&&(this.objectDigestInfo=b.getParametersValue(a,"objectDigestInfo",d.defaultValues("objectDigestInfo"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"baseCertificateID":return new g.IssuerSerial();case"entityName":return new c["default"]();case"objectDigestInfo":return new m();default:throw new Error("Invalid member name for Holder class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Constructed({optional:!0,name:d.baseCertificateID||"",idBlock:{tagClass:3,tagNumber:0},value:g.IssuerSerial.schema().valueBlock.value}),new a.Constructed({optional:!0,name:d.entityName||"",idBlock:{tagClass:3,tagNumber:1},value:c["default"].schema().valueBlock.value}),new a.Constructed({optional:!0,name:d.objectDigestInfo||"",idBlock:{tagClass:3,tagNumber:2},value:m.schema().valueBlock.value})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["baseCertificateID","entityName","objectDigestInfo"]);e=a.compareSchema(e,e,d.schema({names:{baseCertificateID:"baseCertificateID",entityName:"entityName",objectDigestInfo:"objectDigestInfo"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for Holder");"baseCertificateID"in e.result&&(this.baseCertificateID=new g.IssuerSerial({schema:new a.Sequence({value:e.result.baseCertificateID.valueBlock.value})}));"entityName"in e.result&&(this.entityName=new c["default"]({schema:new a.Sequence({value:e.result.entityName.valueBlock.value})}));"objectDigestInfo"in e.result&&(this.objectDigestInfo=new m({schema:new a.Sequence({value:e.result.objectDigestInfo.valueBlock.value})}))};e.toSchema=function(){var b=new a.Sequence();"baseCertificateID"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value}));"entityName"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.entityName.toSchema().valueBlock.value}));"objectDigestInfo"in this&&b.valueBlock.value.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:this.objectDigestInfo.toSchema().valueBlock.value}));return b};e.toJSON=function(){var a={};"baseCertificateID"in this&&(a.baseCertificateID=this.baseCertificateID.toJSON());"entityName"in this&&(a.entityName=this.entityName.toJSON());"objectDigestInfo"in this&&(a.objectDigestInfo=this.objectDigestInfo.toJSON());return a};return d}();be.Holder=p;var q=function(){function h(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",h.defaultValues("version")),this.holder=b.getParametersValue(a,"holder",h.defaultValues("holder")),this.issuer=b.getParametersValue(a,"issuer",h.defaultValues("issuer")),this.signature=b.getParametersValue(a,"signature",h.defaultValues("signature")),this.serialNumber=b.getParametersValue(a,"serialNumber",h.defaultValues("serialNumber")),this.attrCertValidityPeriod=b.getParametersValue(a,"attrCertValidityPeriod",h.defaultValues("attrCertValidityPeriod")),this.attributes=b.getParametersValue(a,"attributes",h.defaultValues("attributes")),"issuerUniqueID"in a&&(this.issuerUniqueID=b.getParametersValue(a,"issuerUniqueID",h.defaultValues("issuerUniqueID"))),"extensions"in a&&(this.extensions=b.getParametersValue(a,"extensions",h.defaultValues("extensions"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(b){switch(b){case"version":return 1;case"holder":return new p();case"issuer":return{};case"signature":return new d["default"]();case"serialNumber":return new a.Integer();case"attrCertValidityPeriod":return new g.AttCertValidityPeriod();case"attributes":return[];case"issuerUniqueID":return new a.BitString();case"extensions":return new f["default"]();default:throw new Error("Invalid member name for AttributeCertificateInfoV2 class: "+b)}};h.schema=function(h){h===void 0&&(h={});h=b.getParametersValue(h,"names",{});return new a.Sequence({name:h.blockName||"",value:[new a.Integer({name:h.version||""}),p.schema(h.holder||{}),new a.Choice({value:[c["default"].schema({names:{blockName:h.issuer||""}}),new a.Constructed({name:h.issuer||"",idBlock:{tagClass:3,tagNumber:0},value:n.schema().valueBlock.value})]}),d["default"].schema(h.signature||{}),new a.Integer({name:h.serialNumber||""}),g.AttCertValidityPeriod.schema(h.attrCertValidityPeriod||{}),new a.Sequence({name:h.attributes||"",value:[new a.Repeated({value:e["default"].schema()})]}),new a.BitString({optional:!0,name:h.issuerUniqueID||""}),f["default"].schema(h.extensions||{},!0)]})};var i=h.prototype;i.fromSchema=function(c){b.clearProps(c,["version","holder","issuer","signature","serialNumber","attrCertValidityPeriod","attributes","issuerUniqueID","extensions"]);c=a.compareSchema(c,c,h.schema({names:{version:"version",holder:{names:{blockName:"holder"}},issuer:"issuer",signature:{names:{blockName:"signature"}},serialNumber:"serialNumber",attrCertValidityPeriod:{names:{blockName:"attrCertValidityPeriod"}},attributes:"attributes",issuerUniqueID:"issuerUniqueID",extensions:{names:{blockName:"extensions"}}}}));if(c.verified===!1)throw new Error("Object's schema was not verified against input data for AttributeCertificateInfoV2");this.version=c.result.version.valueBlock.valueDec;this.holder=new p({schema:c.result.holder});switch(c.result.issuer.idBlock.tagClass){case 3:this.issuer=new n({schema:new a.Sequence({value:c.result.issuer.valueBlock.value})});break;case 1:default:throw new Error("Incorect value for 'issuer' in AttributeCertificateInfoV2")}this.signature=new d["default"]({schema:c.result.signature});this.serialNumber=c.result.serialNumber;this.attrCertValidityPeriod=new g.AttCertValidityPeriod({schema:c.result.attrCertValidityPeriod});this.attributes=Array.from(c.result.attributes.valueBlock.value,function(a){return new e["default"]({schema:a})});"issuerUniqueID"in c.result&&(this.issuerUniqueID=c.result.issuerUniqueID);"extensions"in c.result&&(this.extensions=new f["default"]({schema:c.result.extensions}))};i.toSchema=function(){var b=new a.Sequence({value:[new a.Integer({value:this.version}),this.holder.toSchema(),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.issuer.toSchema().valueBlock.value}),this.signature.toSchema(),this.serialNumber,this.attrCertValidityPeriod.toSchema(),new a.Sequence({value:Array.from(this.attributes,function(a){return a.toSchema()})})]});"issuerUniqueID"in this&&b.valueBlock.value.push(this.issuerUniqueID);"extensions"in this&&b.valueBlock.value.push(this.extensions.toSchema());return b};i.toJSON=function(){var a={version:this.version,holder:this.holder.toJSON(),issuer:this.issuer.toJSON(),signature:this.signature.toJSON(),serialNumber:this.serialNumber.toJSON(),attrCertValidityPeriod:this.attrCertValidityPeriod.toJSON(),attributes:Array.from(this.attributes,function(a){return a.toJSON()})};"issuerUniqueID"in this&&(a.issuerUniqueID=this.issuerUniqueID.toJSON());"extensions"in this&&(a.extensions=this.extensions.toJSON());return a};return h}();be.AttributeCertificateInfoV2=q;l=function(){function c(a){a===void 0&&(a={}),this.acinfo=b.getParametersValue(a,"acinfo",c.defaultValues("acinfo")),this.signatureAlgorithm=b.getParametersValue(a,"signatureAlgorithm",c.defaultValues("signatureAlgorithm")),this.signatureValue=b.getParametersValue(a,"signatureValue",c.defaultValues("signatureValue")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"acinfo":return new q();case"signatureAlgorithm":return new d["default"]();case"signatureValue":return new a.BitString();default:throw new Error("Invalid member name for AttributeCertificateV2 class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[q.schema(c.acinfo||{}),d["default"].schema(c.signatureAlgorithm||{}),new a.BitString({name:c.signatureValue||""})]})};var e=c.prototype;e.fromSchema=function(e){b.clearProps(e,["acinfo","signatureAlgorithm","signatureValue"]);e=a.compareSchema(e,e,c.schema({names:{acinfo:{names:{blockName:"acinfo"}},signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signatureValue:"signatureValue"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for AttributeCertificateV2");this.acinfo=new q({schema:e.result.acinfo});this.signatureAlgorithm=new d["default"]({schema:e.result.signatureAlgorithm});this.signatureValue=e.result.signatureValue};e.toSchema=function(){return new a.Sequence({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})};e.toJSON=function(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}};return c}();be["default"]=l}var ee=!1;function fe(){ee||(ee=!0,de());return ce.exports}var ge={},he={exports:ge};function ie(){Object.defineProperty(ge,"__esModule",{value:!0});ge["default"]=void 0;var a=g(h()),b=i(),c=e(Wd()),d=e(fe());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}g=function(){function e(a){a===void 0&&(a={}),this.certId=b.getParametersValue(a,"certId",e.defaultValues("certId")),this.certValue=b.getParametersValue(a,"certValue",e.defaultValues("certValue")),"parsedValue"in a&&(this.parsedValue=b.getParametersValue(a,"parsedValue",e.defaultValues("parsedValue"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"certId":return"";case"certValue":return new a.Any();case"parsedValue":return{};default:throw new Error("Invalid member name for CertBag class: "+b)}};e.compareWithDefault=function(b,c){switch(b){case"certId":return c==="";case"certValue":return c instanceof a.Any;case"parsedValue":return c instanceof Object&&Object.keys(c).length===0;default:throw new Error("Invalid member name for CertBag class: "+b)}};e.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.id||"id"}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:c.value||"value"})]})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["certId","certValue"]);f=a.compareSchema(f,f,e.schema({names:{id:"certId",value:"certValue"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for CertBag");this.certId=f.result.certId.valueBlock.toString();this.certValue=f.result.certValue;switch(this.certId){case"1.2.840.113549.1.9.22.1":f=a.fromBER(this.certValue.valueBlock.valueHex);try{this.parsedValue=new c["default"]({schema:f.result})}catch(a){this.parsedValue=new d["default"]({schema:f.result})}break;case"1.2.840.113549.1.9.22.3":f=a.fromBER(this.certValue.valueBlock.valueHex);this.parsedValue=new d["default"]({schema:f.result});break;case"1.2.840.113549.1.9.22.2":default:throw new Error('Incorrect "certId" value in CertBag: '+this.certId)}};f.toSchema=function(){"parsedValue"in this&&("acinfo"in this.parsedValue?this.certId="1.2.840.113549.1.9.22.3":this.certId="1.2.840.113549.1.9.22.1",this.certValue=new a.OctetString({valueHex:this.parsedValue.toSchema().toBER(!1)}));return new a.Sequence({value:[new a.ObjectIdentifier({value:this.certId}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:["toSchema"in this.certValue?this.certValue.toSchema():this.certValue]})]})};f.toJSON=function(){return{certId:this.certId,certValue:this.certValue.toJSON()}};return e}();ge["default"]=g}var je=!1;function ke(){je||(je=!0,ie());return he.exports}var le={},me={exports:le};function ne(){Object.defineProperty(le,"__esModule",{value:!0});le["default"]=void 0;var a=g(h()),b=i(),c=e(Db()),d=e(Rd());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}g=function(){function e(a){a===void 0&&(a={}),this.userCertificate=b.getParametersValue(a,"userCertificate",e.defaultValues("userCertificate")),this.revocationDate=b.getParametersValue(a,"revocationDate",e.defaultValues("revocationDate")),"crlEntryExtensions"in a&&(this.crlEntryExtensions=b.getParametersValue(a,"crlEntryExtensions",e.defaultValues("crlEntryExtensions"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"userCertificate":return new a.Integer();case"revocationDate":return new c["default"]();case"crlEntryExtensions":return new d["default"]();default:throw new Error("Invalid member name for RevokedCertificate class: "+b)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Integer({name:e.userCertificate||"userCertificate"}),c["default"].schema({names:{utcTimeName:e.revocationDate||"revocationDate",generalTimeName:e.revocationDate||"revocationDate"}}),d["default"].schema({names:{blockName:e.crlEntryExtensions||"crlEntryExtensions"}},!0)]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["userCertificate","revocationDate","crlEntryExtensions"]);f=a.compareSchema(f,f,e.schema());if(f.verified===!1)throw new Error("Object's schema was not verified against input data for RevokedCertificate");this.userCertificate=f.result.userCertificate;this.revocationDate=new c["default"]({schema:f.result.revocationDate});"crlEntryExtensions"in f.result&&(this.crlEntryExtensions=new d["default"]({schema:f.result.crlEntryExtensions}))};f.toSchema=function(){var b=[this.userCertificate,this.revocationDate.toSchema()];"crlEntryExtensions"in this&&b.push(this.crlEntryExtensions.toSchema());return new a.Sequence({value:b})};f.toJSON=function(){var a={userCertificate:this.userCertificate.toJSON(),revocationDate:this.revocationDate.toJSON};"crlEntryExtensions"in this&&(a.crlEntryExtensions=this.crlEntryExtensions.toJSON());return a};return e}();le["default"]=g}var oe=!1;function pe(){oe||(oe=!0,ne());return me.exports}var qe={},re={exports:qe};function se(){Object.defineProperty(qe,"__esModule",{value:!0});qe["default"]=void 0;var a=p(h()),c=i(),d=X(),e=m(o()),f=m(Ra()),j=m(Db()),k=m(pe()),l=m(Rd());function m(a){return a&&a.__esModule?a:{"default":a}}function n(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(n=function(a){return a?c:b})(a)}function p(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=n(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function q(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=r(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function r(a,b){if(!a)return;if(typeof a==="string")return s(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return s(a,b)}function s(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function t(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"tbsCertList",value:[new a.Integer({optional:!0,name:b.tbsCertListVersion||"tbsCertList.version",value:2}),e["default"].schema(b.signature||{names:{blockName:"tbsCertList.signature"}}),f["default"].schema(b.issuer||{names:{blockName:"tbsCertList.issuer"}}),j["default"].schema(b.tbsCertListThisUpdate||{names:{utcTimeName:"tbsCertList.thisUpdate",generalTimeName:"tbsCertList.thisUpdate"}}),j["default"].schema(b.tbsCertListNextUpdate||{names:{utcTimeName:"tbsCertList.nextUpdate",generalTimeName:"tbsCertList.nextUpdate"}},!0),new a.Sequence({optional:!0,value:[new a.Repeated({name:b.tbsCertListRevokedCertificates||"tbsCertList.revokedCertificates",value:new a.Sequence({value:[new a.Integer(),j["default"].schema(),l["default"].schema({},!0)]})})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[l["default"].schema(b.crlExtensions||{names:{blockName:"tbsCertList.extensions"}})]})]})}p=function(){function h(a){a===void 0&&(a={}),this.tbs=c.getParametersValue(a,"tbs",h.defaultValues("tbs")),this.version=c.getParametersValue(a,"version",h.defaultValues("version")),this.signature=c.getParametersValue(a,"signature",h.defaultValues("signature")),this.issuer=c.getParametersValue(a,"issuer",h.defaultValues("issuer")),this.thisUpdate=c.getParametersValue(a,"thisUpdate",h.defaultValues("thisUpdate")),"nextUpdate"in a&&(this.nextUpdate=c.getParametersValue(a,"nextUpdate",h.defaultValues("nextUpdate"))),"revokedCertificates"in a&&(this.revokedCertificates=c.getParametersValue(a,"revokedCertificates",h.defaultValues("revokedCertificates"))),"crlExtensions"in a&&(this.crlExtensions=c.getParametersValue(a,"crlExtensions",h.defaultValues("crlExtensions"))),this.signatureAlgorithm=c.getParametersValue(a,"signatureAlgorithm",h.defaultValues("signatureAlgorithm")),this.signatureValue=c.getParametersValue(a,"signatureValue",h.defaultValues("signatureValue")),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(b){switch(b){case"tbs":return new ArrayBuffer(0);case"version":return 1;case"signature":return new e["default"]();case"issuer":return new f["default"]();case"thisUpdate":return new j["default"]();case"nextUpdate":return new j["default"]();case"revokedCertificates":return[];case"crlExtensions":return new l["default"]();case"signatureAlgorithm":return new e["default"]();case"signatureValue":return new a.BitString();default:throw new Error("Invalid member name for CertificateRevocationList class: "+b)}};h.schema=function(b){b===void 0&&(b={});var d=c.getParametersValue(b,"names",{});return new a.Sequence({name:d.blockName||"CertificateList",value:[t(b),e["default"].schema(d.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new a.BitString({name:d.signatureValue||"signatureValue"})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["tbsCertList","tbsCertList.version","tbsCertList.signature","tbsCertList.issuer","tbsCertList.thisUpdate","tbsCertList.nextUpdate","tbsCertList.revokedCertificates","tbsCertList.extensions","signatureAlgorithm","signatureValue"]);b=a.compareSchema(b,b,h.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for CertificateRevocationList");this.tbs=b.result.tbsCertList.valueBeforeDecode;"tbsCertList.version"in b.result&&(this.version=b.result["tbsCertList.version"].valueBlock.valueDec);this.signature=new e["default"]({schema:b.result["tbsCertList.signature"]});this.issuer=new f["default"]({schema:b.result["tbsCertList.issuer"]});this.thisUpdate=new j["default"]({schema:b.result["tbsCertList.thisUpdate"]});"tbsCertList.nextUpdate"in b.result&&(this.nextUpdate=new j["default"]({schema:b.result["tbsCertList.nextUpdate"]}));"tbsCertList.revokedCertificates"in b.result&&(this.revokedCertificates=Array.from(b.result["tbsCertList.revokedCertificates"],function(a){return new k["default"]({schema:a})}));"tbsCertList.extensions"in b.result&&(this.crlExtensions=new l["default"]({schema:b.result["tbsCertList.extensions"]}));this.signatureAlgorithm=new e["default"]({schema:b.result.signatureAlgorithm});this.signatureValue=b.result.signatureValue};i.encodeTBS=function(){var b=[];this.version!==h.defaultValues("version")&&b.push(new a.Integer({value:this.version}));b.push(this.signature.toSchema());b.push(this.issuer.toSchema());b.push(this.thisUpdate.toSchema());"nextUpdate"in this&&b.push(this.nextUpdate.toSchema());"revokedCertificates"in this&&b.push(new a.Sequence({value:Array.from(this.revokedCertificates,function(a){return a.toSchema()})}));"crlExtensions"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.crlExtensions.toSchema()]}));return new a.Sequence({value:b})};i.toSchema=function(b){b===void 0&&(b=!1);if(b===!1){if(this.tbs.length===0)return h.schema();b=a.fromBER(this.tbs).result}else b=this.encodeTBS();return new a.Sequence({value:[b,this.signatureAlgorithm.toSchema(),this.signatureValue]})};i.toJSON=function(){var a={tbs:c.bufferToHexCodes(this.tbs,0,this.tbs.byteLength),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),thisUpdate:this.thisUpdate.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};this.version!==h.defaultValues("version")&&(a.version=this.version);"nextUpdate"in this&&(a.nextUpdate=this.nextUpdate.toJSON());"revokedCertificates"in this&&(a.revokedCertificates=Array.from(this.revokedCertificates,function(a){return a.toJSON()}));"crlExtensions"in this&&(a.crlExtensions=this.crlExtensions.toJSON());return a};i.isCertificateRevoked=function(a){if(this.issuer.isEqual(a.issuer)===!1)return!1;if("revokedCertificates"in this===!1)return!1;var b=q(this.revokedCertificates),c;try{for(b.s();!(c=b.n()).done;){c=c.value;if(c.userCertificate.isEqual(a.serialNumber))return!0}}catch(a){b.e(a)}finally{b.f()}return!1};i.sign=function(c,e){var f=this;e===void 0&&(e="SHA-1");if(typeof c==="undefined")return(g||(g=b("Promise"))).reject("Need to provide a private key for signing");var h=(g||(g=b("Promise"))).resolve(),i,j=d.getEngine();h=h.then(function(){return j.subtle.getSignatureParameters(c,e)});h=h.then(function(a){i=a.parameters,f.signature=a.signatureAlgorithm,f.signatureAlgorithm=a.signatureAlgorithm});h=h.then(function(){f.tbs=f.encodeTBS().toBER(!1)});h=h.then(function(){return j.subtle.signWithPrivateKey(f.tbs,c,i)});h=h.then(function(b){f.signatureValue=new a.BitString({valueHex:b})});return h};i.verify=function(a){var c=this;a===void 0&&(a={});var e=(g||(g=b("Promise"))).resolve(),f=-1,h=d.getEngine();if("issuerCertificate"in a){f=a.issuerCertificate.subjectPublicKeyInfo;if(this.issuer.isEqual(a.issuerCertificate.subject)===!1)return(g||(g=b("Promise"))).resolve(!1)}"publicKeyInfo"in a&&(f=a.publicKeyInfo);if("subjectPublicKey"in f===!1)return(g||(g=b("Promise"))).reject("Issuer's certificate must be provided as an input parameter");if("crlExtensions"in this){a=q(this.crlExtensions.extensions);var i;try{for(a.s();!(i=a.n()).done;){i=i.value;if(i.critical&&"parsedValue"in i===!1)return(g||(g=b("Promise"))).resolve(!1)}}catch(b){a.e(b)}finally{a.f()}}e=e.then(function(){return h.subtle.verifyWithPublicKey(c.tbs,c.signatureValue,f,c.signatureAlgorithm)});return e};return h}();qe["default"]=p}var te=!1;function ue(){te||(te=!0,se());return re.exports}var ve={},we={exports:ve};function xe(){Object.defineProperty(ve,"__esModule",{value:!0});ve["default"]=void 0;var a=f(h()),b=i(),c=d(ue());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.crlId=b.getParametersValue(a,"crlId",d.defaultValues("crlId")),this.crlValue=b.getParametersValue(a,"crlValue",d.defaultValues("crlValue")),"parsedValue"in a&&(this.parsedValue=b.getParametersValue(a,"parsedValue",d.defaultValues("parsedValue"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"crlId":return"";case"crlValue":return new a.Any();case"parsedValue":return{};default:throw new Error("Invalid member name for CRLBag class: "+b)}};d.compareWithDefault=function(b,c){switch(b){case"crlId":return c==="";case"crlValue":return c instanceof a.Any;case"parsedValue":return c instanceof Object&&Object.keys(c).length===0;default:throw new Error("Invalid member name for CRLBag class: "+b)}};d.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.id||"id"}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:c.value||"value"})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["crlId","crlValue"]);e=a.compareSchema(e,e,d.schema({names:{id:"crlId",value:"crlValue"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for CRLBag");this.crlId=e.result.crlId.valueBlock.toString();this.crlValue=e.result.crlValue;switch(this.crlId){case"1.2.840.113549.1.9.23.1":e=a.fromBER(this.certValue.valueBlock.valueHex);this.parsedValue=new c["default"]({schema:e.result});break;default:throw new Error('Incorrect "crlId" value in CRLBag: '+this.crlId)}};e.toSchema=function(){"parsedValue"in this&&(this.certId="1.2.840.113549.1.9.23.1",this.certValue=new a.OctetString({valueHex:this.parsedValue.toSchema().toBER(!1)}));return new a.Sequence({value:[new a.ObjectIdentifier({value:this.crlId}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.crlValue.toSchema()]})]})};e.toJSON=function(){return{crlId:this.crlId,crlValue:this.crlValue.toJSON()}};return d}();ve["default"]=f}var ye=!1;function ze(){ye||(ye=!0,xe());return we.exports}var Ae={},Be={exports:Ae};function Ce(){Object.defineProperty(Ae,"__esModule",{value:!0});Ae["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.secretTypeId=b.getParametersValue(a,"secretTypeId",c.defaultValues("secretTypeId")),this.secretValue=b.getParametersValue(a,"secretValue",c.defaultValues("secretValue")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"secretTypeId":return"";case"secretValue":return new a.Any();default:throw new Error("Invalid member name for SecretBag class: "+b)}};c.compareWithDefault=function(b,c){switch(b){case"secretTypeId":return c==="";case"secretValue":return c instanceof a.Any;default:throw new Error("Invalid member name for SecretBag class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.id||"id"}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:c.value||"value"})]})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["secretTypeId","secretValue"]);d=a.compareSchema(d,d,c.schema({names:{id:"secretTypeId",value:"secretValue"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for SecretBag");this.secretTypeId=d.result.secretTypeId.valueBlock.toString();this.secretValue=d.result.secretValue};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.secretTypeId}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.secretValue.toSchema()]})]})};d.toJSON=function(){return{secretTypeId:this.secretTypeId,secretValue:this.secretValue.toJSON()}};return c}();Ae["default"]=d}var De=!1;function Ee(){De||(De=!0,Ce());return Be.exports}var Fe={},Ge={exports:Fe};function He(){Object.defineProperty(Fe,"__esModule",{value:!0});Fe["default"]=void 0;var a=n(h()),b=i(),c=l(I()),d=l(N()),e=l(zb()),f=l(ke()),g=l(ze()),j=l(Ee()),k=l(Oe());function l(a){return a&&a.__esModule?a:{"default":a}}function m(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(m=function(a){return a?c:b})(a)}function n(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=m(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}n=function(){function h(a){a===void 0&&(a={}),this.bagId=b.getParametersValue(a,"bagId",h.defaultValues("bagId")),this.bagValue=b.getParametersValue(a,"bagValue",h.defaultValues("bagValue")),"bagAttributes"in a&&(this.bagAttributes=b.getParametersValue(a,"bagAttributes",h.defaultValues("bagAttributes"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(b){switch(b){case"bagId":return"";case"bagValue":return new a.Any();case"bagAttributes":return[];default:throw new Error("Invalid member name for SafeBag class: "+b)}};h.compareWithDefault=function(b,c){switch(b){case"bagId":return c==="";case"bagValue":return c instanceof a.Any;case"bagAttributes":return c.length===0;default:throw new Error("Invalid member name for SafeBag class: "+b)}};h.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.ObjectIdentifier({name:d.bagId||"bagId"}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:d.bagValue||"bagValue"})]}),new a.Set({optional:!0,value:[new a.Repeated({name:d.bagAttributes||"bagAttributes",value:c["default"].schema()})]})]})};var i=h.prototype;i.fromSchema=function(i){b.clearProps(i,["bagId","bagValue","bagAttributes"]);i=a.compareSchema(i,i,h.schema({names:{bagId:"bagId",bagValue:"bagValue",bagAttributes:"bagAttributes"}}));if(i.verified===!1)throw new Error("Object's schema was not verified against input data for SafeBag");this.bagId=i.result.bagId.valueBlock.toString();switch(this.bagId){case"1.2.840.113549.1.12.10.1.1":this.bagValue=new d["default"]({schema:i.result.bagValue});break;case"1.2.840.113549.1.12.10.1.2":this.bagValue=new e["default"]({schema:i.result.bagValue});break;case"1.2.840.113549.1.12.10.1.3":this.bagValue=new f["default"]({schema:i.result.bagValue});break;case"1.2.840.113549.1.12.10.1.4":this.bagValue=new g["default"]({schema:i.result.bagValue});break;case"1.2.840.113549.1.12.10.1.5":this.bagValue=new j["default"]({schema:i.result.bagValue});break;case"1.2.840.113549.1.12.10.1.6":this.bagValue=new k["default"]({schema:i.result.bagValue});break;default:throw new Error('Invalid "bagId" for SafeBag: '+this.bagId)}"bagAttributes"in i.result&&(this.bagAttributes=Array.from(i.result.bagAttributes,function(a){return new c["default"]({schema:a})}))};i.toSchema=function(){var b=[new a.ObjectIdentifier({value:this.bagId}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.bagValue.toSchema()]})];"bagAttributes"in this&&b.push(new a.Set({value:Array.from(this.bagAttributes,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};i.toJSON=function(){var a={bagId:this.bagId,bagValue:this.bagValue.toJSON()};"bagAttributes"in this&&(a.bagAttributes=Array.from(this.bagAttributes,function(a){return a.toJSON()}));return a};return h}();Fe["default"]=n}var Ie=!1;function Je(){Ie||(Ie=!0,He());return Ge.exports}var Ke={},Le={exports:Ke};function Me(){Object.defineProperty(Ke,"__esModule",{value:!0});Ke["default"]=void 0;var a=f(h()),b=i(),c=d(Je());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.safeBags=b.getParametersValue(a,"safeBags",d.defaultValues("safeBags")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"safeBags":return[];default:throw new Error("Invalid member name for SafeContents class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"safeBags":return b.length===0;default:throw new Error("Invalid member name for SafeContents class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.safeBags||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["safeBags"]);e=a.compareSchema(e,e,d.schema({names:{safeBags:"safeBags"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for SafeContents");this.safeBags=Array.from(e.result.safeBags,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.safeBags,function(a){return a.toSchema()})})};e.toJSON=function(){return{safeBags:Array.from(this.safeBags,function(a){return a.toJSON()})}};return d}();Ke["default"]=f}var Ne=!1;function Oe(){Ne||(Ne=!0,Me());return Le.exports}var Pe={},Qe={exports:Pe};function Re(){Object.defineProperty(Pe,"__esModule",{value:!0});Pe["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.otherCertFormat=b.getParametersValue(a,"otherCertFormat",c.defaultValues("otherCertFormat")),this.otherCert=b.getParametersValue(a,"otherCert",c.defaultValues("otherCert")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"otherCertFormat":return"";case"otherCert":return new a.Any();default:throw new Error("Invalid member name for OtherCertificateFormat class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.otherCertFormat||"otherCertFormat"}),new a.Any({name:c.otherCert||"otherCert"})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["otherCertFormat","otherCert"]);d=a.compareSchema(d,d,c.schema());if(d.verified===!1)throw new Error("Object's schema was not verified against input data for OtherCertificateFormat");this.otherCertFormat=d.result.otherCertFormat.valueBlock.toString();this.otherCert=d.result.otherCert};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.otherCertFormat}),this.otherCert]})};d.toJSON=function(){var b={otherCertFormat:this.otherCertFormat};this.otherCert instanceof a.Any||(b.otherCert=this.otherCert.toJSON());return b};return c}();Pe["default"]=d}var Se=!1;function Te(){Se||(Se=!0,Re());return Qe.exports}var Ue={},Ve={exports:Ue};function We(){Object.defineProperty(Ue,"__esModule",{value:!0});Ue["default"]=void 0;var a=k(h()),b=i(),c=g(Wd()),d=g(ae()),e=g(fe()),f=g(Te());function g(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.certificates=b.getParametersValue(a,"certificates",g.defaultValues("certificates")),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"certificates":return[];default:throw new Error("Invalid member name for Attribute class: "+a)}};g.schema=function(g){g===void 0&&(g={});g=b.getParametersValue(g,"names",{});return new a.Set({name:g.blockName||"",value:[new a.Repeated({name:g.certificates||"certificates",value:new a.Choice({value:[c["default"].schema(),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Any()]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:d["default"].schema().valueBlock.value}),new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:e["default"].schema().valueBlock.value}),new a.Constructed({idBlock:{tagClass:3,tagNumber:3},value:f["default"].schema().valueBlock.value})]})})]})};var h=g.prototype;h.fromSchema=function(h){b.clearProps(h,["certificates"]);h=a.compareSchema(h,h,g.schema());if(h.verified===!1)throw new Error("Object's schema was not verified against input data for CertificateSet");this.certificates=Array.from(h.result.certificates||[],function(b){var g=b.idBlock.tagNumber;if(b.idBlock.tagClass===1)return new c["default"]({schema:b});var h=new a.Sequence({value:b.valueBlock.value});switch(g){case 1:return new d["default"]({schema:h});case 2:return new e["default"]({schema:h});case 3:return new f["default"]({schema:h});case 0:default:}return b})};h.toSchema=function(){return new a.Set({value:Array.from(this.certificates,function(b){switch(!0){case b instanceof c["default"]:return b.toSchema();case b instanceof d["default"]:return new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:b.toSchema().valueBlock.value});case b instanceof e["default"]:return new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:b.toSchema().valueBlock.value});case b instanceof f["default"]:return new a.Constructed({idBlock:{tagClass:3,tagNumber:3},value:b.toSchema().valueBlock.value});default:}return b})})};h.toJSON=function(){return{certificates:Array.from(this.certificates,function(a){return a.toJSON()})}};return g}();Ue["default"]=k}var Xe=!1;function Ye(){Xe||(Xe=!0,We());return Ve.exports}var Ze={},$e={exports:Ze};function af(){Object.defineProperty(Ze,"__esModule",{value:!0});Ze["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.otherRevInfoFormat=b.getParametersValue(a,"otherRevInfoFormat",c.defaultValues("otherRevInfoFormat")),this.otherRevInfo=b.getParametersValue(a,"otherRevInfo",c.defaultValues("otherRevInfo")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"otherRevInfoFormat":return"";case"otherRevInfo":return new a.Any();default:throw new Error("Invalid member name for OtherRevocationInfoFormat class: "+b)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.otherRevInfoFormat||"otherRevInfoFormat"}),new a.Any({name:c.otherRevInfo||"otherRevInfo"})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["otherRevInfoFormat","otherRevInfo"]);d=a.compareSchema(d,d,c.schema());if(d.verified===!1)throw new Error("Object's schema was not verified against input data for OtherRevocationInfoFormat");this.otherRevInfoFormat=d.result.otherRevInfoFormat.valueBlock.toString();this.otherRevInfo=d.result.otherRevInfo};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.otherRevInfoFormat}),this.otherRevInfo]})};d.toJSON=function(){var b={otherRevInfoFormat:this.otherRevInfoFormat};this.otherRevInfo instanceof a.Any||(b.otherRevInfo=this.otherRevInfo.toJSON());return b};return c}();Ze["default"]=d}var bf=!1;function cf(){bf||(bf=!0,af());return $e.exports}var df={},ef={exports:df};function ff(){Object.defineProperty(df,"__esModule",{value:!0});df["default"]=void 0;var a=g(h()),b=i(),c=e(ue()),d=e(cf());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function j(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=k(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function k(a,b){if(!a)return;if(typeof a==="string")return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}function l(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}g=function(){function e(a){a===void 0&&(a={}),this.crls=b.getParametersValue(a,"crls",e.defaultValues("crls")),this.otherRevocationInfos=b.getParametersValue(a,"otherRevocationInfos",e.defaultValues("otherRevocationInfos")),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"crls":return[];case"otherRevocationInfos":return[];default:throw new Error("Invalid member name for RevocationInfoChoices class: "+a)}};e.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Set({name:d.blockName||"",value:[new a.Repeated({name:d.crls||"",value:new a.Choice({value:[c["default"].schema(),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new a.ObjectIdentifier(),new a.Any()]})]})})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["crls"]);f=a.compareSchema(f,f,e.schema({names:{crls:"crls"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for RevocationInfoChoices");f=j(f.result.crls);var g;try{for(f.s();!(g=f.n()).done;){g=g.value;g.idBlock.tagClass===1?this.crls.push(new c["default"]({schema:g})):this.otherRevocationInfos.push(new d["default"]({schema:g}))}}catch(a){f.e(a)}finally{f.f()}};f.toSchema=function(){var b=[];b.push.apply(b,Array.from(this.crls,function(a){return a.toSchema()}));b.push.apply(b,Array.from(this.otherRevocationInfos,function(a){a=a.toSchema();a.idBlock.tagClass=3;a.idBlock.tagNumber=1;return a}));return new a.Set({value:b})};f.toJSON=function(){return{crls:Array.from(this.crls,function(a){return a.toJSON()}),otherRevocationInfos:Array.from(this.otherRevocationInfos,function(a){return a.toJSON()})}};return e}();df["default"]=g}var gf=!1;function hf(){gf||(gf=!0,ff());return ef.exports}var jf={},kf={exports:jf};function lf(){Object.defineProperty(jf,"__esModule",{value:!0});jf["default"]=void 0;var a=g(h()),b=i(),c=e(Ye()),d=e(hf());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}g=function(){function e(a){a===void 0&&(a={}),"certs"in a&&(this.certs=b.getParametersValue(a,"certs",e.defaultValues("certs"))),"crls"in a&&(this.crls=b.getParametersValue(a,"crls",e.defaultValues("crls"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"certs":return new c["default"]();case"crls":return new d["default"]();default:throw new Error("Invalid member name for OriginatorInfo class: "+a)}};e.compareWithDefault=function(a,b){switch(a){case"certs":return b.certificates.length===0;case"crls":return b.crls.length===0&&b.otherRevocationInfos.length===0;default:throw new Error("Invalid member name for OriginatorInfo class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Constructed({name:e.certs||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:c["default"].schema().valueBlock.value}),new a.Constructed({name:e.crls||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:d["default"].schema().valueBlock.value})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["certs","crls"]);f=a.compareSchema(f,f,e.schema({names:{certs:"certs",crls:"crls"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for OriginatorInfo");"certs"in f.result&&(this.certs=new c["default"]({schema:new a.Set({value:f.result.certs.valueBlock.value})}));"crls"in f.result&&(this.crls=new d["default"]({schema:new a.Set({value:f.result.crls.valueBlock.value})}))};f.toSchema=function(){var b=[];"certs"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.certs.toSchema().valueBlock.value}));"crls"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:this.crls.toSchema().valueBlock.value}));return new a.Sequence({value:b})};f.toJSON=function(){var a={};"certs"in this&&(a.certs=this.certs.toJSON());"crls"in this&&(a.crls=this.crls.toJSON());return a};return e}();jf["default"]=g}var mf=!1;function nf(){mf||(mf=!0,lf());return kf.exports}var of={},pf={exports:of};function qf(){Object.defineProperty(of,"__esModule",{value:!0});of["default"]=void 0;var a=f(h()),b=i(),c=d(Ra());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.issuer=b.getParametersValue(a,"issuer",d.defaultValues("issuer")),this.serialNumber=b.getParametersValue(a,"serialNumber",d.defaultValues("serialNumber")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"issuer":return new c["default"]();case"serialNumber":return new a.Integer();default:throw new Error("Invalid member name for IssuerAndSerialNumber class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.issuer||{}),new a.Integer({name:d.serialNumber||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["issuer","serialNumber"]);e=a.compareSchema(e,e,d.schema({names:{issuer:{names:{blockName:"issuer"}},serialNumber:"serialNumber"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for IssuerAndSerialNumber");this.issuer=new c["default"]({schema:e.result.issuer});this.serialNumber=e.result.serialNumber};e.toSchema=function(){return new a.Sequence({value:[this.issuer.toSchema(),this.serialNumber]})};e.toJSON=function(){return{issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()}};return d}();of["default"]=f}var rf=!1;function sf(){rf||(rf=!0,qf());return pf.exports}var tf={},uf={exports:tf};function vf(){Object.defineProperty(tf,"__esModule",{value:!0});tf["default"]=void 0;var a=f(h()),b=i(),c=d(sf());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.variant=b.getParametersValue(a,"variant",d.defaultValues("variant")),"value"in a&&(this.value=b.getParametersValue(a,"value",d.defaultValues("value"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for RecipientIdentifier class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"variant":return b===-1;case"values":return Object.keys(b).length===0;default:throw new Error("Invalid member name for RecipientIdentifier class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Choice({value:[c["default"].schema({names:{blockName:d.blockName||""}}),new a.Primitive({name:d.blockName||"",idBlock:{tagClass:3,tagNumber:0}})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["blockName"]);e=a.compareSchema(e,e,d.schema({names:{blockName:"blockName"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RecipientIdentifier");e.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new c["default"]({schema:e.result.blockName})):(this.variant=2,this.value=new a.OctetString({valueHex:e.result.blockName.valueBlock.valueHex}))};e.toSchema=function(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new a.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.value.valueBlock.valueHex});default:return new a.Any()}};e.toJSON=function(){var a={variant:this.variant};(this.variant===1||this.variant===2)&&(a.value=this.value.toJSON());return a};return d}();tf["default"]=f}var wf=!1;function xf(){wf||(wf=!0,vf());return uf.exports}var yf={},zf={exports:yf};function Af(){Object.defineProperty(yf,"__esModule",{value:!0});yf["default"]=void 0;var a=k(h()),b=i(),c=g(o()),d=g(Wd()),e=g(xf()),f=g(sf());function g(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",g.defaultValues("version")),this.rid=b.getParametersValue(a,"rid",g.defaultValues("rid")),this.keyEncryptionAlgorithm=b.getParametersValue(a,"keyEncryptionAlgorithm",g.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=b.getParametersValue(a,"encryptedKey",g.defaultValues("encryptedKey")),this.recipientCertificate=b.getParametersValue(a,"recipientCertificate",g.defaultValues("recipientCertificate")),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"version":return-1;case"rid":return{};case"keyEncryptionAlgorithm":return new c["default"]();case"encryptedKey":return new a.OctetString();case"recipientCertificate":return new d["default"]();default:throw new Error("Invalid member name for KeyTransRecipientInfo class: "+b)}};g.compareWithDefault=function(a,b){switch(a){case"version":return b===g.defaultValues("version");case"rid":return Object.keys(b).length===0;case"keyEncryptionAlgorithm":case"encryptedKey":return b.isEqual(g.defaultValues(a));case"recipientCertificate":return!1;default:throw new Error("Invalid member name for KeyTransRecipientInfo class: "+a)}};g.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Integer({name:d.version||""}),e["default"].schema(d.rid||{}),c["default"].schema(d.keyEncryptionAlgorithm||{}),new a.OctetString({name:d.encryptedKey||""})]})};var h=g.prototype;h.fromSchema=function(d){b.clearProps(d,["version","rid","keyEncryptionAlgorithm","encryptedKey"]);d=a.compareSchema(d,d,g.schema({names:{version:"version",rid:{names:{blockName:"rid"}},keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for KeyTransRecipientInfo");this.version=d.result.version.valueBlock.valueDec;d.result.rid.idBlock.tagClass===3?this.rid=new a.OctetString({valueHex:d.result.rid.valueBlock.valueHex}):this.rid=new f["default"]({schema:d.result.rid});this.keyEncryptionAlgorithm=new c["default"]({schema:d.result.keyEncryptionAlgorithm});this.encryptedKey=d.result.encryptedKey};h.toSchema=function(){var b=[];this.rid instanceof f["default"]?(this.version=0,b.push(new a.Integer({value:this.version})),b.push(this.rid.toSchema())):(this.version=2,b.push(new a.Integer({value:this.version})),b.push(new a.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.rid.valueBlock.valueHex})));b.push(this.keyEncryptionAlgorithm.toSchema());b.push(this.encryptedKey);return new a.Sequence({value:b})};h.toJSON=function(){return{version:this.version,rid:this.rid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}};return g}();yf["default"]=k}var Bf=!1;function Cf(){Bf||(Bf=!0,Af());return zf.exports}var Df={},Ef={exports:Df};function Ff(){Object.defineProperty(Df,"__esModule",{value:!0});Df["default"]=void 0;var a=f(h()),b=i(),c=d(o());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.algorithm=b.getParametersValue(a,"algorithm",d.defaultValues("algorithm")),this.publicKey=b.getParametersValue(a,"publicKey",d.defaultValues("publicKey")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"algorithm":return new c["default"]();case"publicKey":return new a.BitString();default:throw new Error("Invalid member name for OriginatorPublicKey class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"algorithm":case"publicKey":return b.isEqual(d.defaultValues(a));default:throw new Error("Invalid member name for OriginatorPublicKey class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.algorithm||{}),new a.BitString({name:d.publicKey||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["algorithm","publicKey"]);e=a.compareSchema(e,e,d.schema({names:{algorithm:{names:{blockName:"algorithm"}},publicKey:"publicKey"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for OriginatorPublicKey");this.algorithm=new c["default"]({schema:e.result.algorithm});this.publicKey=e.result.publicKey};e.toSchema=function(){return new a.Sequence({value:[this.algorithm.toSchema(),this.publicKey]})};e.toJSON=function(){return{algorithm:this.algorithm.toJSON(),publicKey:this.publicKey.toJSON()}};return d}();Df["default"]=f}var Gf=!1;function Hf(){Gf||(Gf=!0,Ff());return Ef.exports}var If={},Jf={exports:If};function Kf(){Object.defineProperty(If,"__esModule",{value:!0});If["default"]=void 0;var a=g(h()),b=i(),c=e(sf()),d=e(Hf());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}g=function(){function e(a){a===void 0&&(a={}),this.variant=b.getParametersValue(a,"variant",e.defaultValues("variant")),"value"in a&&(this.value=b.getParametersValue(a,"value",e.defaultValues("value"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for OriginatorIdentifierOrKey class: "+a)}};e.compareWithDefault=function(a,b){switch(a){case"variant":return b===-1;case"value":return Object.keys(b).length===0;default:throw new Error("Invalid member name for OriginatorIdentifierOrKey class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Choice({value:[c["default"].schema({names:{blockName:e.blockName||""}}),new a.Primitive({idBlock:{tagClass:3,tagNumber:0},name:e.blockName||""}),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},name:e.blockName||"",value:d["default"].schema().valueBlock.value})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["blockName"]);f=a.compareSchema(f,f,e.schema({names:{blockName:"blockName"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for OriginatorIdentifierOrKey");f.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new c["default"]({schema:f.result.blockName})):f.result.blockName.idBlock.tagNumber===0?(f.result.blockName.idBlock.tagClass=1,f.result.blockName.idBlock.tagNumber=4,this.variant=2,this.value=f.result.blockName):(this.variant=3,this.value=new d["default"]({schema:new a.Sequence({value:f.result.blockName.valueBlock.value})}))};f.toSchema=function(){switch(this.variant){case 1:return this.value.toSchema();case 2:this.value.idBlock.tagClass=3;this.value.idBlock.tagNumber=0;return this.value;case 3:var b=this.value.toSchema();b.idBlock.tagClass=3;b.idBlock.tagNumber=1;return b;default:return new a.Any()}};f.toJSON=function(){var a={variant:this.variant};(this.variant===1||this.variant===2||this.variant===3)&&(a.value=this.value.toJSON());return a};return e}();If["default"]=g}var Lf=!1;function Mf(){Lf||(Lf=!0,Kf());return Jf.exports}var Nf={},Of={exports:Nf};function Pf(){Object.defineProperty(Nf,"__esModule",{value:!0});Nf["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.keyAttrId=b.getParametersValue(a,"keyAttrId",c.defaultValues("keyAttrId")),"keyAttr"in a&&(this.keyAttr=b.getParametersValue(a,"keyAttr",c.defaultValues("keyAttr"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"keyAttrId":return"";case"keyAttr":return{};default:throw new Error("Invalid member name for OtherKeyAttribute class: "+a)}};c.compareWithDefault=function(a,b){switch(a){case"keyAttrId":return b==="";case"keyAttr":return Object.keys(b).length===0;default:throw new Error("Invalid member name for OtherKeyAttribute class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({optional:c.optional||!0,name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.keyAttrId||""}),new a.Any({optional:!0,name:c.keyAttr||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["keyAttrId","keyAttr"]);d=a.compareSchema(d,d,c.schema({names:{keyAttrId:"keyAttrId",keyAttr:"keyAttr"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for OtherKeyAttribute");this.keyAttrId=d.result.keyAttrId.valueBlock.toString();"keyAttr"in d.result&&(this.keyAttr=d.result.keyAttr)};d.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.keyAttrId}));"keyAttr"in this&&b.push(this.keyAttr);return new a.Sequence({value:b})};d.toJSON=function(){var a={keyAttrId:this.keyAttrId};"keyAttr"in this&&(a.keyAttr=this.keyAttr.toJSON());return a};return c}();Nf["default"]=d}var Qf=!1;function Rf(){Qf||(Qf=!0,Pf());return Of.exports}var Sf={},Tf={exports:Sf};function Uf(){Object.defineProperty(Sf,"__esModule",{value:!0});Sf["default"]=void 0;var a=f(h()),b=i(),c=d(Rf());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.subjectKeyIdentifier=b.getParametersValue(a,"subjectKeyIdentifier",d.defaultValues("subjectKeyIdentifier")),"date"in a&&(this.date=b.getParametersValue(a,"date",d.defaultValues("date"))),"other"in a&&(this.other=b.getParametersValue(a,"other",d.defaultValues("other"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"subjectKeyIdentifier":return new a.OctetString();case"date":return new a.GeneralizedTime();case"other":return new c["default"]();default:throw new Error("Invalid member name for RecipientKeyIdentifier class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"subjectKeyIdentifier":return b.isEqual(d.defaultValues("subjectKeyIdentifier"));case"date":return b.year===0&&b.month===0&&b.day===0&&b.hour===0&&b.minute===0&&b.second===0&&b.millisecond===0;case"other":return b.keyAttrId===""&&"keyAttr"in b===!1;default:throw new Error("Invalid member name for RecipientKeyIdentifier class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.OctetString({name:d.subjectKeyIdentifier||""}),new a.GeneralizedTime({optional:!0,name:d.date||""}),c["default"].schema(d.other||{})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["subjectKeyIdentifier","date","other"]);e=a.compareSchema(e,e,d.schema({names:{subjectKeyIdentifier:"subjectKeyIdentifier",date:"date",other:{names:{blockName:"other"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RecipientKeyIdentifier");this.subjectKeyIdentifier=e.result.subjectKeyIdentifier;"date"in e.result&&(this.date=e.result.date);"other"in e.result&&(this.other=new c["default"]({schema:e.result.other}))};e.toSchema=function(){var b=[];b.push(this.subjectKeyIdentifier);"date"in this&&b.push(this.date);"other"in this&&b.push(this.other.toSchema());return new a.Sequence({value:b})};e.toJSON=function(){var a={subjectKeyIdentifier:this.subjectKeyIdentifier.toJSON()};"date"in this&&(a.date=this.date);"other"in this&&(a.other=this.other.toJSON());return a};return d}();Sf["default"]=f}var Vf=!1;function Wf(){Vf||(Vf=!0,Uf());return Tf.exports}var Xf={},Yf={exports:Xf};function Zf(){Object.defineProperty(Xf,"__esModule",{value:!0});Xf["default"]=void 0;var a=g(h()),b=i(),c=e(sf()),d=e(Wf());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}g=function(){function e(a){a===void 0&&(a={}),this.variant=b.getParametersValue(a,"variant",e.defaultValues("variant")),this.value=b.getParametersValue(a,"value",e.defaultValues("value")),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for KeyAgreeRecipientIdentifier class: "+a)}};e.compareWithDefault=function(a,b){switch(a){case"variant":return b===-1;case"value":return Object.keys(b).length===0;default:throw new Error("Invalid member name for KeyAgreeRecipientIdentifier class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Choice({value:[c["default"].schema(e.issuerAndSerialNumber||{names:{blockName:e.blockName||""}}),new a.Constructed({name:e.blockName||"",idBlock:{tagClass:3,tagNumber:0},value:d["default"].schema(e.rKeyId||{names:{blockName:e.blockName||""}}).valueBlock.value})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["blockName"]);f=a.compareSchema(f,f,e.schema({names:{blockName:"blockName"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for KeyAgreeRecipientIdentifier");f.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new c["default"]({schema:f.result.blockName})):(this.variant=2,this.value=new d["default"]({schema:new a.Sequence({value:f.result.blockName.valueBlock.value})}))};f.toSchema=function(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.value.toSchema().valueBlock.value});default:return new a.Any()}};f.toJSON=function(){var a={variant:this.variant};(this.variant===1||this.variant===2)&&(a.value=this.value.toJSON());return a};return e}();Xf["default"]=g}var $f=!1;function ag(){$f||($f=!0,Zf());return Yf.exports}var bg={},cg={exports:bg};function dg(){Object.defineProperty(bg,"__esModule",{value:!0});bg["default"]=void 0;var a=f(h()),b=i(),c=d(ag());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.rid=b.getParametersValue(a,"rid",d.defaultValues("rid")),this.encryptedKey=b.getParametersValue(a,"encryptedKey",d.defaultValues("encryptedKey")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"rid":return new c["default"]();case"encryptedKey":return new a.OctetString();default:throw new Error("Invalid member name for RecipientEncryptedKey class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"rid":return b.variant===-1&&"value"in b===!1;case"encryptedKey":return b.isEqual(d.defaultValues("encryptedKey"));default:throw new Error("Invalid member name for RecipientEncryptedKey class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.rid||{}),new a.OctetString({name:d.encryptedKey||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["rid","encryptedKey"]);e=a.compareSchema(e,e,d.schema({names:{rid:{names:{blockName:"rid"}},encryptedKey:"encryptedKey"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RecipientEncryptedKey");this.rid=new c["default"]({schema:e.result.rid});this.encryptedKey=e.result.encryptedKey};e.toSchema=function(){return new a.Sequence({value:[this.rid.toSchema(),this.encryptedKey]})};e.toJSON=function(){return{rid:this.rid.toJSON(),encryptedKey:this.encryptedKey.toJSON()}};return d}();bg["default"]=f}var eg=!1;function fg(){eg||(eg=!0,dg());return cg.exports}var gg={},hg={exports:gg};function ig(){Object.defineProperty(gg,"__esModule",{value:!0});gg["default"]=void 0;var a=f(h()),b=i(),c=d(fg());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.encryptedKeys=b.getParametersValue(a,"encryptedKeys",d.defaultValues("encryptedKeys")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"encryptedKeys":return[];default:throw new Error("Invalid member name for RecipientEncryptedKeys class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"encryptedKeys":return b.length===0;default:throw new Error("Invalid member name for RecipientEncryptedKeys class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Repeated({name:d.RecipientEncryptedKeys||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["RecipientEncryptedKeys"]);e=a.compareSchema(e,e,d.schema({names:{RecipientEncryptedKeys:"RecipientEncryptedKeys"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RecipientEncryptedKeys");this.encryptedKeys=Array.from(e.result.RecipientEncryptedKeys,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){return new a.Sequence({value:Array.from(this.encryptedKeys,function(a){return a.toSchema()})})};e.toJSON=function(){return{encryptedKeys:Array.from(this.encryptedKeys,function(a){return a.toJSON()})}};return d}();gg["default"]=f}var jg=!1;function kg(){jg||(jg=!0,ig());return hg.exports}var lg={},mg={exports:lg};function ng(){Object.defineProperty(lg,"__esModule",{value:!0});lg["default"]=void 0;var a=k(h()),b=i(),c=g(Mf()),d=g(o()),e=g(kg()),f=g(Wd());function g(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",g.defaultValues("version")),this.originator=b.getParametersValue(a,"originator",g.defaultValues("originator")),"ukm"in a&&(this.ukm=b.getParametersValue(a,"ukm",g.defaultValues("ukm"))),this.keyEncryptionAlgorithm=b.getParametersValue(a,"keyEncryptionAlgorithm",g.defaultValues("keyEncryptionAlgorithm")),this.recipientEncryptedKeys=b.getParametersValue(a,"recipientEncryptedKeys",g.defaultValues("recipientEncryptedKeys")),this.recipientCertificate=b.getParametersValue(a,"recipientCertificate",g.defaultValues("recipientCertificate")),this.recipientPublicKey=b.getParametersValue(a,"recipientPublicKey",g.defaultValues("recipientPublicKey")),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(b){switch(b){case"version":return 0;case"originator":return new c["default"]();case"ukm":return new a.OctetString();case"keyEncryptionAlgorithm":return new d["default"]();case"recipientEncryptedKeys":return new e["default"]();case"recipientCertificate":return new f["default"]();case"recipientPublicKey":return null;default:throw new Error("Invalid member name for KeyAgreeRecipientInfo class: "+b)}};g.compareWithDefault=function(a,b){switch(a){case"version":return b===0;case"originator":return b.variant===-1&&"value"in b===!1;case"ukm":return b.isEqual(g.defaultValues("ukm"));case"keyEncryptionAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"recipientEncryptedKeys":return b.encryptedKeys.length===0;case"recipientCertificate":return!1;case"recipientPublicKey":return!1;default:throw new Error("Invalid member name for KeyAgreeRecipientInfo class: "+a)}};g.schema=function(f){f===void 0&&(f={});f=b.getParametersValue(f,"names",{});return new a.Sequence({name:f.blockName||"",value:[new a.Integer({name:f.version||""}),new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[c["default"].schema(f.originator||{})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.OctetString({name:f.ukm||""})]}),d["default"].schema(f.keyEncryptionAlgorithm||{}),e["default"].schema(f.recipientEncryptedKeys||{})]})};var h=g.prototype;h.fromSchema=function(f){b.clearProps(f,["version","originator","ukm","keyEncryptionAlgorithm","recipientEncryptedKeys"]);f=a.compareSchema(f,f,g.schema({names:{version:"version",originator:{names:{blockName:"originator"}},ukm:"ukm",keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},recipientEncryptedKeys:{names:{blockName:"recipientEncryptedKeys"}}}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for KeyAgreeRecipientInfo");this.version=f.result.version.valueBlock.valueDec;this.originator=new c["default"]({schema:f.result.originator});"ukm"in f.result&&(this.ukm=f.result.ukm);this.keyEncryptionAlgorithm=new d["default"]({schema:f.result.keyEncryptionAlgorithm});this.recipientEncryptedKeys=new e["default"]({schema:f.result.recipientEncryptedKeys})};h.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.originator.toSchema()]}));"ukm"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[this.ukm]}));b.push(this.keyEncryptionAlgorithm.toSchema());b.push(this.recipientEncryptedKeys.toSchema());return new a.Sequence({value:b})};h.toJSON=function(){var a={version:this.version,originator:this.originator.toJSON()};"ukm"in this&&(a.ukm=this.ukm.toJSON());a.keyEncryptionAlgorithm=this.keyEncryptionAlgorithm.toJSON();a.recipientEncryptedKeys=this.recipientEncryptedKeys.toJSON();return a};return g}();lg["default"]=k}var og=!1;function pg(){og||(og=!0,ng());return mg.exports}var qg={},rg={exports:qg};function sg(){Object.defineProperty(qg,"__esModule",{value:!0});qg["default"]=void 0;var a=f(h()),b=i(),c=d(Rf());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.keyIdentifier=b.getParametersValue(a,"keyIdentifier",d.defaultValues("keyIdentifier")),"date"in a&&(this.date=b.getParametersValue(a,"date",d.defaultValues("date"))),"other"in a&&(this.other=b.getParametersValue(a,"other",d.defaultValues("other"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"keyIdentifier":return new a.OctetString();case"date":return new a.GeneralizedTime();case"other":return new c["default"]();default:throw new Error("Invalid member name for KEKIdentifier class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"keyIdentifier":return b.isEqual(d.defaultValues("keyIdentifier"));case"date":return b.year===0&&b.month===0&&b.day===0&&b.hour===0&&b.minute===0&&b.second===0&&b.millisecond===0;case"other":return b.compareWithDefault("keyAttrId",b.keyAttrId)&&"keyAttr"in b===!1;default:throw new Error("Invalid member name for KEKIdentifier class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.OctetString({name:d.keyIdentifier||""}),new a.GeneralizedTime({optional:!0,name:d.date||""}),c["default"].schema(d.other||{})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["keyIdentifier","date","other"]);e=a.compareSchema(e,e,d.schema({names:{keyIdentifier:"keyIdentifier",date:"date",other:{names:{blockName:"other"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for KEKIdentifier");this.keyIdentifier=e.result.keyIdentifier;"date"in e.result&&(this.date=e.result.date);"other"in e.result&&(this.other=new c["default"]({schema:e.result.other}))};e.toSchema=function(){var b=[];b.push(this.keyIdentifier);"date"in this&&b.push(this.date);"other"in this&&b.push(this.other.toSchema());return new a.Sequence({value:b})};e.toJSON=function(){var a={keyIdentifier:this.keyIdentifier.toJSON()};"date"in this&&(a.date=this.date);"other"in this&&(a.other=this.other.toJSON());return a};return d}();qg["default"]=f}var tg=!1;function ug(){tg||(tg=!0,sg());return rg.exports}var vg={},wg={exports:vg};function xg(){Object.defineProperty(vg,"__esModule",{value:!0});vg["default"]=void 0;var a=g(h()),b=i(),c=e(ug()),d=e(o());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}g=function(){function e(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",e.defaultValues("version")),this.kekid=b.getParametersValue(a,"kekid",e.defaultValues("kekid")),this.keyEncryptionAlgorithm=b.getParametersValue(a,"keyEncryptionAlgorithm",e.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=b.getParametersValue(a,"encryptedKey",e.defaultValues("encryptedKey")),this.preDefinedKEK=b.getParametersValue(a,"preDefinedKEK",e.defaultValues("preDefinedKEK")),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"version":return 0;case"kekid":return new c["default"]();case"keyEncryptionAlgorithm":return new d["default"]();case"encryptedKey":return new a.OctetString();case"preDefinedKEK":return new ArrayBuffer(0);default:throw new Error("Invalid member name for KEKRecipientInfo class: "+b)}};e.compareWithDefault=function(a,b){switch(a){case"KEKRecipientInfo":return b===e.defaultValues("version");case"kekid":return b.compareWithDefault("keyIdentifier",b.keyIdentifier)&&"date"in b===!1&&"other"in b===!1;case"keyEncryptionAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"encryptedKey":return b.isEqual(e.defaultValues("encryptedKey"));case"preDefinedKEK":return b.byteLength===0;default:throw new Error("Invalid member name for KEKRecipientInfo class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[new a.Integer({name:e.version||""}),c["default"].schema(e.kekid||{}),d["default"].schema(e.keyEncryptionAlgorithm||{}),new a.OctetString({name:e.encryptedKey||""})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["version","kekid","keyEncryptionAlgorithm","encryptedKey"]);f=a.compareSchema(f,f,e.schema({names:{version:"version",kekid:{names:{blockName:"kekid"}},keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for KEKRecipientInfo");this.version=f.result.version.valueBlock.valueDec;this.kekid=new c["default"]({schema:f.result.kekid});this.keyEncryptionAlgorithm=new d["default"]({schema:f.result.keyEncryptionAlgorithm});this.encryptedKey=f.result.encryptedKey};f.toSchema=function(){return new a.Sequence({value:[new a.Integer({value:this.version}),this.kekid.toSchema(),this.keyEncryptionAlgorithm.toSchema(),this.encryptedKey]})};f.toJSON=function(){return{version:this.version,kekid:this.kekid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}};return e}();vg["default"]=g}var yg=!1;function zg(){yg||(yg=!0,xg());return wg.exports}var Ag={},Bg={exports:Ag};function Cg(){Object.defineProperty(Ag,"__esModule",{value:!0});Ag["default"]=void 0;var a=f(h()),b=i(),c=d(o());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",d.defaultValues("version")),"keyDerivationAlgorithm"in a&&(this.keyDerivationAlgorithm=b.getParametersValue(a,"keyDerivationAlgorithm",d.defaultValues("keyDerivationAlgorithm"))),this.keyEncryptionAlgorithm=b.getParametersValue(a,"keyEncryptionAlgorithm",d.defaultValues("keyEncryptionAlgorithm")),this.encryptedKey=b.getParametersValue(a,"encryptedKey",d.defaultValues("encryptedKey")),this.password=b.getParametersValue(a,"password",d.defaultValues("password")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"version":return-1;case"keyDerivationAlgorithm":return new c["default"]();case"keyEncryptionAlgorithm":return new c["default"]();case"encryptedKey":return new a.OctetString();case"password":return new ArrayBuffer(0);default:throw new Error("Invalid member name for PasswordRecipientinfo class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"version":return b===-1;case"keyDerivationAlgorithm":case"keyEncryptionAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"encryptedKey":return b.isEqual(d.defaultValues("encryptedKey"));case"password":return b.byteLength===0;default:throw new Error("Invalid member name for PasswordRecipientinfo class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Integer({name:d.version||""}),new a.Constructed({name:d.keyDerivationAlgorithm||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:c["default"].schema().valueBlock.value}),c["default"].schema(d.keyEncryptionAlgorithm||{}),new a.OctetString({name:d.encryptedKey||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["version","keyDerivationAlgorithm","keyEncryptionAlgorithm","encryptedKey"]);e=a.compareSchema(e,e,d.schema({names:{version:"version",keyDerivationAlgorithm:"keyDerivationAlgorithm",keyEncryptionAlgorithm:{names:{blockName:"keyEncryptionAlgorithm"}},encryptedKey:"encryptedKey"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for PasswordRecipientinfo");this.version=e.result.version.valueBlock.valueDec;"keyDerivationAlgorithm"in e.result&&(this.keyDerivationAlgorithm=new c["default"]({schema:new a.Sequence({value:e.result.keyDerivationAlgorithm.valueBlock.value})}));this.keyEncryptionAlgorithm=new c["default"]({schema:e.result.keyEncryptionAlgorithm});this.encryptedKey=e.result.encryptedKey};e.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));"keyDerivationAlgorithm"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:this.keyDerivationAlgorithm.toSchema().valueBlock.value}));b.push(this.keyEncryptionAlgorithm.toSchema());b.push(this.encryptedKey);return new a.Sequence({value:b})};e.toJSON=function(){return{version:this.version,keyDerivationAlgorithm:this.keyDerivationAlgorithm.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}};return d}();Ag["default"]=f}var Dg=!1;function Eg(){Dg||(Dg=!0,Cg());return Bg.exports}var Fg={},Gg={exports:Fg};function Hg(){Object.defineProperty(Fg,"__esModule",{value:!0});Fg["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.oriType=b.getParametersValue(a,"oriType",c.defaultValues("oriType")),this.oriValue=b.getParametersValue(a,"oriValue",c.defaultValues("oriValue")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(a){switch(a){case"oriType":return"";case"oriValue":return{};default:throw new Error("Invalid member name for OtherRecipientInfo class: "+a)}};c.compareWithDefault=function(a,b){switch(a){case"oriType":return b==="";case"oriValue":return Object.keys(b).length===0;default:throw new Error("Invalid member name for OtherRecipientInfo class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.oriType||""}),new a.Any({name:c.oriValue||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["oriType","oriValue"]);d=a.compareSchema(d,d,c.schema({names:{oriType:"oriType",oriValue:"oriValue"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for OtherRecipientInfo");this.oriType=d.result.oriType.valueBlock.toString();this.oriValue=d.result.oriValue};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.oriType}),this.oriValue]})};d.toJSON=function(){var a={oriType:this.oriType};c.compareWithDefault("oriValue",this.oriValue)===!1&&(a.oriValue=this.oriValue.toJSON());return a};return c}();Fg["default"]=d}var Ig=!1;function Jg(){Ig||(Ig=!0,Hg());return Gg.exports}var Kg={},Lg={exports:Kg};function Mg(){Object.defineProperty(Kg,"__esModule",{value:!0});Kg["default"]=void 0;var a=l(h()),b=i(),c=j(Cf()),d=j(pg()),e=j(zg()),f=j(Eg()),g=j(Jg());function j(a){return a&&a.__esModule?a:{"default":a}}function k(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(k=function(a){return a?c:b})(a)}function l(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=k(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}l=function(){function h(a){a===void 0&&(a={}),this.variant=b.getParametersValue(a,"variant",h.defaultValues("variant")),"value"in a&&(this.value=b.getParametersValue(a,"value",h.defaultValues("value"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(a){switch(a){case"variant":return-1;case"value":return{};default:throw new Error("Invalid member name for RecipientInfo class: "+a)}};h.compareWithDefault=function(a,b){switch(a){case"variant":return b===h.defaultValues(a);case"value":return Object.keys(b).length===0;default:throw new Error("Invalid member name for RecipientInfo class: "+a)}};h.schema=function(h){h===void 0&&(h={});h=b.getParametersValue(h,"names",{});return new a.Choice({value:[c["default"].schema({names:{blockName:h.blockName||""}}),new a.Constructed({name:h.blockName||"",idBlock:{tagClass:3,tagNumber:1},value:d["default"].schema().valueBlock.value}),new a.Constructed({name:h.blockName||"",idBlock:{tagClass:3,tagNumber:2},value:e["default"].schema().valueBlock.value}),new a.Constructed({name:h.blockName||"",idBlock:{tagClass:3,tagNumber:3},value:f["default"].schema().valueBlock.value}),new a.Constructed({name:h.blockName||"",idBlock:{tagClass:3,tagNumber:4},value:g["default"].schema().valueBlock.value})]})};var i=h.prototype;i.fromSchema=function(i){b.clearProps(i,["blockName"]);i=a.compareSchema(i,i,h.schema({names:{blockName:"blockName"}}));if(i.verified===!1)throw new Error("Object's schema was not verified against input data for RecipientInfo");if(i.result.blockName.idBlock.tagClass===1)this.variant=1,this.value=new c["default"]({schema:i.result.blockName});else{var j=new a.Sequence({value:i.result.blockName.valueBlock.value});switch(i.result.blockName.idBlock.tagNumber){case 1:this.variant=2;this.value=new d["default"]({schema:j});break;case 2:this.variant=3;this.value=new e["default"]({schema:j});break;case 3:this.variant=4;this.value=new f["default"]({schema:j});break;case 4:this.variant=5;this.value=new g["default"]({schema:j});break;default:throw new Error("Incorrect structure of RecipientInfo block")}}};i.toSchema=function(){var b=this.value.toSchema();switch(this.variant){case 1:return b;case 2:case 3:case 4:b.idBlock.tagClass=3;b.idBlock.tagNumber=this.variant-1;return b;default:return new a.Any()}};i.toJSON=function(){var a={variant:this.variant};this.variant>=1&&this.variant<=4&&(a.value=this.value.toJSON());return a};return h}();Kg["default"]=l}var Ng=!1;function Og(){Ng||(Ng=!0,Mg());return Lg.exports}var Pg={},Qg={exports:Pg};function Rg(){Object.defineProperty(Pg,"__esModule",{value:!0});Pg["default"]=void 0;var a=f(h()),b=i(),c=d(o());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.hashAlgorithm=b.getParametersValue(a,"hashAlgorithm",d.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=b.getParametersValue(a,"maskGenAlgorithm",d.defaultValues("maskGenAlgorithm")),this.pSourceAlgorithm=b.getParametersValue(a,"pSourceAlgorithm",d.defaultValues("pSourceAlgorithm")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"hashAlgorithm":return new c["default"]({algorithmId:"1.3.14.3.2.26",algorithmParams:new a.Null()});case"maskGenAlgorithm":return new c["default"]({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new c["default"]({algorithmId:"1.3.14.3.2.26",algorithmParams:new a.Null()}).toSchema()});case"pSourceAlgorithm":return new c["default"]({algorithmId:"1.2.840.113549.1.1.9",algorithmParams:new a.OctetString({valueHex:new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer})});default:throw new Error("Invalid member name for RSAESOAEPParams class: "+b)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[new a.Constructed({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[c["default"].schema(d.hashAlgorithm||{})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[c["default"].schema(d.maskGenAlgorithm||{})]}),new a.Constructed({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[c["default"].schema(d.pSourceAlgorithm||{})]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["hashAlgorithm","maskGenAlgorithm","pSourceAlgorithm"]);e=a.compareSchema(e,e,d.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},pSourceAlgorithm:{names:{blockName:"pSourceAlgorithm"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for RSAESOAEPParams");"hashAlgorithm"in e.result&&(this.hashAlgorithm=new c["default"]({schema:e.result.hashAlgorithm}));"maskGenAlgorithm"in e.result&&(this.maskGenAlgorithm=new c["default"]({schema:e.result.maskGenAlgorithm}));"pSourceAlgorithm"in e.result&&(this.pSourceAlgorithm=new c["default"]({schema:e.result.pSourceAlgorithm}))};e.toSchema=function(){var b=[];this.hashAlgorithm.isEqual(d.defaultValues("hashAlgorithm"))||b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]}));this.maskGenAlgorithm.isEqual(d.defaultValues("maskGenAlgorithm"))||b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]}));this.pSourceAlgorithm.isEqual(d.defaultValues("pSourceAlgorithm"))||b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.pSourceAlgorithm.toSchema()]}));return new a.Sequence({value:b})};e.toJSON=function(){var a={};this.hashAlgorithm.isEqual(d.defaultValues("hashAlgorithm"))||(a.hashAlgorithm=this.hashAlgorithm.toJSON());this.maskGenAlgorithm.isEqual(d.defaultValues("maskGenAlgorithm"))||(a.maskGenAlgorithm=this.maskGenAlgorithm.toJSON());this.pSourceAlgorithm.isEqual(d.defaultValues("pSourceAlgorithm"))||(a.pSourceAlgorithm=this.pSourceAlgorithm.toJSON());return a};return d}();Pg["default"]=f}var Sg=!1;function Tg(){Sg||(Sg=!0,Rg());return Qg.exports}var Ug={},Vg={exports:Ug};function Wg(){Object.defineProperty(Ug,"__esModule",{value:!0});Ug["default"]=void 0;var a=f(h()),b=i(),c=d(o());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.keyInfo=b.getParametersValue(a,"keyInfo",d.defaultValues("keyInfo")),"entityUInfo"in a&&(this.entityUInfo=b.getParametersValue(a,"entityUInfo",d.defaultValues("entityUInfo"))),this.suppPubInfo=b.getParametersValue(a,"suppPubInfo",d.defaultValues("suppPubInfo")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"keyInfo":return new c["default"]();case"entityUInfo":return new a.OctetString();case"suppPubInfo":return new a.OctetString();default:throw new Error("Invalid member name for ECCCMSSharedInfo class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"keyInfo":case"entityUInfo":case"suppPubInfo":return b.isEqual(d.defaultValues(a));default:throw new Error("Invalid member name for ECCCMSSharedInfo class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.keyInfo||{}),new a.Constructed({name:d.entityUInfo||"",idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[new a.OctetString()]}),new a.Constructed({name:d.suppPubInfo||"",idBlock:{tagClass:3,tagNumber:2},value:[new a.OctetString()]})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["keyInfo","entityUInfo","suppPubInfo"]);e=a.compareSchema(e,e,d.schema({names:{keyInfo:{names:{blockName:"keyInfo"}},entityUInfo:"entityUInfo",suppPubInfo:"suppPubInfo"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for ECCCMSSharedInfo");this.keyInfo=new c["default"]({schema:e.result.keyInfo});"entityUInfo"in e.result&&(this.entityUInfo=e.result.entityUInfo.valueBlock.value[0]);this.suppPubInfo=e.result.suppPubInfo.valueBlock.value[0]};e.toSchema=function(){var b=[];b.push(this.keyInfo.toSchema());"entityUInfo"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.entityUInfo]}));b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.suppPubInfo]}));return new a.Sequence({value:b})};e.toJSON=function(){var a={keyInfo:this.keyInfo.toJSON()};"entityUInfo"in this&&(a.entityUInfo=this.entityUInfo.toJSON());a.suppPubInfo=this.suppPubInfo.toJSON();return a};return d}();Ug["default"]=f}var Xg=!1;function Yg(){Xg||(Xg=!0,Wg());return Vg.exports}var Zg={},$g={exports:Zg};function ah(){Object.defineProperty(Zg,"__esModule",{value:!0});Zg["default"]=void 0;var a=E(h()),c=i(),d=X(),e=C(nf()),f=C(Og()),j=C(ta()),k=C(I()),l=C(o()),m=C(Tg()),n=C(Cf()),p=C(sf()),q=C(Wf()),r=C(fg()),s=C(ag()),t=C(pg()),u=C(kg()),v=C(zg()),w=C(ug()),x=C(ya()),y=C(Eg()),z=C(Yg()),A=C(Mf()),B=C(Hf());function C(a){return a&&a.__esModule?a:{"default":a}}function D(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(D=function(a){return a?c:b})(a)}function E(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=D(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function F(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=G(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function G(a,b){if(!a)return;if(typeof a==="string")return H(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return H(a,b)}function H(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function J(a,c,d,e,f,h,i){try{var j=a[h](i),k=j.value}catch(a){d(a);return}j.done?c(k):(g||(g=b("Promise"))).resolve(k).then(e,f)}function K(a){return function(){var c=this,d=arguments;return new(g||(g=b("Promise")))(function(b,e){var f=a.apply(c,d);function g(a){J(f,b,e,g,h,"next",a)}function h(a){J(f,b,e,g,h,"throw",a)}g(void 0)})}}var L={kdfAlgorithm:"SHA-512",kekEncryptionLength:256},aa={"P-256":256,"P-384":384,"P-521":528};E=function(){function h(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",h.defaultValues("version")),"originatorInfo"in a&&(this.originatorInfo=c.getParametersValue(a,"originatorInfo",h.defaultValues("originatorInfo"))),this.recipientInfos=c.getParametersValue(a,"recipientInfos",h.defaultValues("recipientInfos")),this.encryptedContentInfo=c.getParametersValue(a,"encryptedContentInfo",h.defaultValues("encryptedContentInfo")),"unprotectedAttrs"in a&&(this.unprotectedAttrs=c.getParametersValue(a,"unprotectedAttrs",h.defaultValues("unprotectedAttrs"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(a){switch(a){case"version":return 0;case"originatorInfo":return new e["default"]();case"recipientInfos":return[];case"encryptedContentInfo":return new j["default"]();case"unprotectedAttrs":return[];default:throw new Error("Invalid member name for EnvelopedData class: "+a)}};h.compareWithDefault=function(a,b){switch(a){case"version":return b===h.defaultValues(a);case"originatorInfo":return b.certs.certificates.length===0&&b.crls.crls.length===0;case"recipientInfos":case"unprotectedAttrs":return b.length===0;case"encryptedContentInfo":return j["default"].compareWithDefault("contentType",b.contentType)&&j["default"].compareWithDefault("contentEncryptionAlgorithm",b.contentEncryptionAlgorithm)&&j["default"].compareWithDefault("encryptedContent",b.encryptedContent);default:throw new Error("Invalid member name for EnvelopedData class: "+a)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[new a.Integer({name:b.version||""}),new a.Constructed({name:b.originatorInfo||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:e["default"].schema().valueBlock.value}),new a.Set({value:[new a.Repeated({name:b.recipientInfos||"",value:f["default"].schema()})]}),j["default"].schema(b.encryptedContentInfo||{}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Repeated({name:b.unprotectedAttrs||"",value:k["default"].schema()})]})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["version","originatorInfo","recipientInfos","encryptedContentInfo","unprotectedAttrs"]);b=a.compareSchema(b,b,h.schema({names:{version:"version",originatorInfo:"originatorInfo",recipientInfos:"recipientInfos",encryptedContentInfo:{names:{blockName:"encryptedContentInfo"}},unprotectedAttrs:"unprotectedAttrs"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for EnvelopedData");this.version=b.result.version.valueBlock.valueDec;"originatorInfo"in b.result&&(this.originatorInfo=new e["default"]({schema:new a.Sequence({value:b.result.originatorInfo.valueBlock.value})}));this.recipientInfos=Array.from(b.result.recipientInfos,function(a){return new f["default"]({schema:a})});this.encryptedContentInfo=new j["default"]({schema:b.result.encryptedContentInfo});"unprotectedAttrs"in b.result&&(this.unprotectedAttrs=Array.from(b.result.unprotectedAttrs,function(a){return new k["default"]({schema:a})}))};i.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));"originatorInfo"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:this.originatorInfo.toSchema().valueBlock.value}));b.push(new a.Set({value:Array.from(this.recipientInfos,function(a){return a.toSchema()})}));b.push(this.encryptedContentInfo.toSchema());"unprotectedAttrs"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};i.toJSON=function(){var a={version:this.version};"originatorInfo"in this&&(a.originatorInfo=this.originatorInfo.toJSON());a.recipientInfos=Array.from(this.recipientInfos,function(a){return a.toJSON()});a.encryptedContentInfo=this.encryptedContentInfo.toJSON();"unprotectedAttrs"in this&&(a.unprotectedAttrs=Array.from(this.unprotectedAttrs,function(a){return a.toJSON()}));return a};i.addRecipientByCertificate=function(b,c,e){c=Object.assign({useOAEP:!0,oaepHashAlgorithm:"SHA-512"},L,c||{});if(b.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.113549")!==-1)e=1;else if(b.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.10045")!==-1)e=2;else throw new Error("Unknown type of certificate's public key: "+b.subjectPublicKeyInfo.algorithm.algorithmId);switch(e){case 1:var g;if(c.useOAEP===!0){g=d.getOIDByAlgorithm({name:"RSA-OAEP"});if(g==="")throw new Error("Can not find OID for RSA-OAEP");var h=d.getOIDByAlgorithm({name:c.oaepHashAlgorithm});if(h==="")throw new Error("Unknown OAEP hash algorithm: "+c.oaepHashAlgorithm);h=new l["default"]({algorithmId:h,algorithmParams:new a.Null()});h=new m["default"]({hashAlgorithm:h,maskGenAlgorithm:new l["default"]({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:h.toSchema()})});h=h.toSchema()}else{g=d.getOIDByAlgorithm({name:"RSAES-PKCS1-v1_5"});if(g==="")throw new Error("Can not find OID for RSAES-PKCS1-v1_5");h=new a.Null()}g=new n["default"]({version:0,rid:new p["default"]({issuer:b.issuer,serialNumber:b.serialNumber}),keyEncryptionAlgorithm:new l["default"]({algorithmId:g,algorithmParams:h}),recipientCertificate:b});this.recipientInfos.push(new f["default"]({variant:1,value:g}));break;case 2:h=new s["default"]({variant:1,value:new p["default"]({issuer:b.issuer,serialNumber:b.serialNumber})});this.$1(h,c,{recipientCertificate:b});break;default:throw new Error('Unknown "variant" value: '+e)}return!0};i.addRecipientByPreDefinedData=function(b,c,e){c=c||{};if(b instanceof ArrayBuffer===!1)throw new Error('Please pass "preDefinedData" in ArrayBuffer type');if(b.byteLength===0)throw new Error("Pre-defined data could have zero length");if("keyIdentifier"in c===!1){var g=new ArrayBuffer(16),h=new Uint8Array(g);d.getRandomValues(h);c.keyIdentifier=g}"hmacHashAlgorithm"in c===!1&&(c.hmacHashAlgorithm="SHA-512");"iterationCount"in c===!1&&(c.iterationCount=2048);"keyEncryptionAlgorithm"in c===!1&&(c.keyEncryptionAlgorithm={name:"AES-KW",length:256});"keyEncryptionAlgorithmParams"in c===!1&&(c.keyEncryptionAlgorithmParams=new a.Null());switch(e){case 1:h=d.getOIDByAlgorithm(c.keyEncryptionAlgorithm);if(h==="")throw new Error('Incorrect value for "keyEncryptionAlgorithm"');g=new v["default"]({version:4,kekid:new w["default"]({keyIdentifier:new a.OctetString({valueHex:c.keyIdentifier})}),keyEncryptionAlgorithm:new l["default"]({algorithmId:h,algorithmParams:c.keyEncryptionAlgorithmParams}),preDefinedKEK:b});this.recipientInfos.push(new f["default"]({variant:3,value:g}));break;case 2:h=d.getOIDByAlgorithm({name:"PBKDF2"});if(h==="")throw new Error("Can not find OID for PBKDF2");g=new ArrayBuffer(64);var i=new Uint8Array(g);d.getRandomValues(i);i=d.getOIDByAlgorithm({name:"HMAC",hash:{name:c.hmacHashAlgorithm}});if(i==="")throw new Error('Incorrect value for "hmacHashAlgorithm": '+c.hmacHashAlgorithm);g=new x["default"]({salt:new a.OctetString({valueHex:g}),iterationCount:c.iterationCount,prf:new l["default"]({algorithmId:i,algorithmParams:new a.Null()})});i=d.getOIDByAlgorithm(c.keyEncryptionAlgorithm);if(i==="")throw new Error('Incorrect value for "keyEncryptionAlgorithm"');h=new y["default"]({version:0,keyDerivationAlgorithm:new l["default"]({algorithmId:h,algorithmParams:g.toSchema()}),keyEncryptionAlgorithm:new l["default"]({algorithmId:i,algorithmParams:c.keyEncryptionAlgorithmParams}),password:b});this.recipientInfos.push(new f["default"]({variant:4,value:h}));break;default:throw new Error('Unknown value for "variant": '+e)}};i.addRecipientByKeyIdentifier=function(b,c,d){d=Object.assign({},L,d||{});c=new s["default"]({variant:2,value:new q["default"]({subjectKeyIdentifier:new a.OctetString({valueHex:c})})});this.$1(c,d,{recipientPublicKey:b})};i.$1=function(b,c,e){b=new r["default"]({rid:b});var g=d.getOIDByAlgorithm({name:"AES-KW",length:c.kekEncryptionLength});if(g==="")throw new Error("Unknown length for key encryption algorithm: "+c.kekEncryptionLength);g=new l["default"]({algorithmId:g});var h=d.getOIDByAlgorithm({name:"ECDH",kdf:c.kdfAlgorithm});if(h==="")throw new Error("Unknown KDF algorithm: "+c.kdfAlgorithm);c=new ArrayBuffer(64);var i=new Uint8Array(c);d.getRandomValues(i);i={version:3,ukm:new a.OctetString({valueHex:c}),keyEncryptionAlgorithm:new l["default"]({algorithmId:h,algorithmParams:g.toSchema()}),recipientEncryptedKeys:new u["default"]({encryptedKeys:[b]})};c=new t["default"](Object.assign(i,e));this.recipientInfos.push(new f["default"]({variant:2,value:c}))};i.encrypt=function(c,e){var f=this,h=(g||(g=b("Promise"))).resolve(),i=new ArrayBuffer(16),k=new Uint8Array(i);d.getRandomValues(k);var n=new Uint8Array(e),o,p,q,r=[],s=this,t=d.getOIDByAlgorithm(c);if(t==="")return(g||(g=b("Promise"))).reject('Wrong "contentEncryptionAlgorithm" value');var u=d.getCrypto();if(typeof u==="undefined")return(g||(g=b("Promise"))).reject("Unable to create WebCrypto object");h=h.then(function(){return u.generateKey(c,!0,["encrypt"])});h=h.then(function(a){o=a;return u.encrypt({name:c.name,iv:k},o,n)},function(a){return(g||(g=b("Promise"))).reject(a)});h=h.then(function(a){p=a;return u.exportKey("raw",o)},function(a){return(g||(g=b("Promise"))).reject(a)}).then(function(a){q=a;return!0},function(a){return(g||(g=b("Promise"))).reject(a)});h=h.then(function(){f.version=2,f.encryptedContentInfo=new j["default"]({contentType:"1.2.840.113549.1.7.1",contentEncryptionAlgorithm:new l["default"]({algorithmId:t,algorithmParams:new a.OctetString({valueHex:i})}),encryptedContent:new a.OctetString({valueHex:p})})},function(a){return(g||(g=b("Promise"))).reject(a)});function v(c){var e=(g||(g=b("Promise"))).resolve(),f=s.recipientInfos[c],h,i,j,k,m,n;e=e.then(function(){if(f.value.recipientPublicKey){k=f.value.recipientPublicKey.algorithm.namedCurve;return f.value.recipientPublicKey}else{var d=f.value.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(d.constructor.blockName()!==a.ObjectIdentifier.blockName())return(g||(g=b("Promise"))).reject('Incorrect "recipientCertificate" for index '+c);d=d.valueBlock.toString();switch(d){case"1.2.840.10045.3.1.7":k="P-256";break;case"1.3.132.0.34":k="P-384";break;case"1.3.132.0.35":k="P-521";break;default:return(g||(g=b("Promise"))).reject("Incorrect curve OID for index "+c)}return f.value.recipientCertificate.getPublicKey({algorithm:{algorithm:{name:"ECDH",namedCurve:k},usages:[]}})}},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(a){j=a;m=aa[k];return u.generateKey({name:"ECDH",namedCurve:k},!0,["deriveBits"])},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(a){h=a.publicKey;i=a.privateKey;return u.exportKey("spki",h)},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(a){n=a},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(){return u.deriveBits({name:"ECDH","public":j},i,m)},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(c){var e=new l["default"]({schema:f.value.keyEncryptionAlgorithm.algorithmParams}),h=d.getAlgorithmByOID(e.algorithmId);if("name"in h===!1)return(g||(g=b("Promise"))).reject("Incorrect OID for key encryption algorithm: "+e.algorithmId);var i=h.length,j=new ArrayBuffer(4),k=new Uint8Array(j);for(var m=3;m>=0;m--)k[m]=i,i>>=8;m=new z["default"]({keyInfo:new l["default"]({algorithmId:e.algorithmId}),entityUInfo:f.value.ukm,suppPubInfo:new a.OctetString({valueHex:j})});i=m.toSchema().toBER(!1);k=d.getAlgorithmByOID(f.value.keyEncryptionAlgorithm.algorithmId);return"name"in k===!1?(g||(g=b("Promise"))).reject("Incorrect OID for key encryption algorithm: "+f.value.keyEncryptionAlgorithm.algorithmId):d.kdf(k.kdf,c,h.length,i)},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(a){return u.importKey("raw",a,{name:"AES-KW"},!0,["wrapKey"])},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(a){return u.wrapKey("raw",o,a,{name:"AES-KW"})},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(b){var c=a.fromBER(n),d=new A["default"]();d.variant=3;d.value=new B["default"]({schema:c.result});f.value.originator=d;f.value.recipientEncryptedKeys.encryptedKeys[0].encryptedKey=new a.OctetString({valueHex:b});return{ecdhPrivateKey:i}},function(a){return(g||(g=b("Promise"))).reject(a)});return e}function w(a){return y.apply(this,arguments)}function y(){y=K(b("regeneratorRuntime").mark(function c(e){var f,g,h,i,j;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:f=d.getAlgorithmByOID(s.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId);if(!("name"in f===!1)){b.next=3;break}throw new Error("Unknown keyEncryptionAlgorithm: "+s.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmId);case 3:if(!(f.name==="RSA-OAEP")){b.next=9;break}g=s.recipientInfos[e].value.keyEncryptionAlgorithm.algorithmParams;h=new m["default"]({schema:g});f.hash=d.getAlgorithmByOID(h.hashAlgorithm.algorithmId);if(!("name"in f.hash===!1)){b.next=9;break}throw new Error("Incorrect OID for hash algorithm: "+h.hashAlgorithm.algorithmId);case 9:b.prev=9;b.next=12;return s.recipientInfos[e].value.recipientCertificate.getPublicKey({algorithm:{algorithm:f,usages:["encrypt","wrapKey"]}});case 12:i=b.sent;b.next=15;return u.encrypt(i.algorithm,i,q);case 15:j=b.sent;s.recipientInfos[e].value.encryptedKey=new a.OctetString({valueHex:j});b.next=21;break;case 19:b.prev=19,b.t0=b["catch"](9);case 21:case"end":return b.stop()}},c,this,[[9,19]])}));return y.apply(this,arguments)}function C(c){var e=(g||(g=b("Promise"))).resolve(),f;e=e.then(function(){f=d.getAlgorithmByOID(s.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);return"name"in f===!1?(g||(g=b("Promise"))).reject('Incorrect OID for "keyEncryptionAlgorithm": '+s.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId):u.importKey("raw",new Uint8Array(s.recipientInfos[c].value.preDefinedKEK),f,!0,["wrapKey"])},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(a){return u.wrapKey("raw",o,a,f)},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(b){s.recipientInfos[c].value.encryptedKey=new a.OctetString({valueHex:b})},function(a){return(g||(g=b("Promise"))).reject(a)});return e}function D(c){var e=(g||(g=b("Promise"))).resolve(),f,h;e=e.then(function(){if("keyDerivationAlgorithm"in s.recipientInfos[c].value===!1)return(g||(g=b("Promise"))).reject('Please append encoded "keyDerivationAlgorithm"');if("algorithmParams"in s.recipientInfos[c].value.keyDerivationAlgorithm===!1)return(g||(g=b("Promise"))).reject('Incorrectly encoded "keyDerivationAlgorithm"');try{f=new x["default"]({schema:s.recipientInfos[c].value.keyDerivationAlgorithm.algorithmParams})}catch(a){return(g||(g=b("Promise"))).reject('Incorrectly encoded "keyDerivationAlgorithm"')}return(g||(g=b("Promise"))).resolve()},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(){var a=new Uint8Array(s.recipientInfos[c].value.password);return u.importKey("raw",a,"PBKDF2",!1,["deriveKey"])},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(a){h=d.getAlgorithmByOID(s.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);if("name"in h===!1)return(g||(g=b("Promise"))).reject('Incorrect OID for "keyEncryptionAlgorithm": '+s.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);var e="SHA-1";if("prf"in f){var i=d.getAlgorithmByOID(f.prf.algorithmId);if("name"in i===!1)return(g||(g=b("Promise"))).reject("Incorrect OID for HMAC hash algorithm");e=i.hash.name}i=new Uint8Array(f.salt.valueBlock.valueHex);var j=f.iterationCount;return u.deriveKey({name:"PBKDF2",hash:{name:e},salt:i,iterations:j},a,h,!0,["wrapKey"])},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(a){return u.wrapKey("raw",o,a,h)},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(b){s.recipientInfos[c].value.encryptedKey=new a.OctetString({valueHex:b})},function(a){return(g||(g=b("Promise"))).reject(a)});return e}h=h.then(function(){for(var a=0;a<f.recipientInfos.length;a++){var c=(g||(g=b("Promise"))).resolve();switch(f.recipientInfos[a].variant){case 1:c=w(a);break;case 2:c=v(a);break;case 3:c=C(a);break;case 4:c=D(a);break;default:return(g||(g=b("Promise"))).reject("Uknown recipient type in array with index "+a)}r.push(c)}return(g||(g=b("Promise"))).all(r)},function(a){return(g||(g=b("Promise"))).reject(a)});return h};i.decrypt=function(e,f){var h=this,i=(g||(g=b("Promise"))).resolve(),j=f||{},k=this;if(e+1>this.recipientInfos.length)return(g||(g=b("Promise"))).reject('Maximum value for "index" is: '+(this.recipientInfos.length-1));var n=d.getCrypto();if(typeof n==="undefined")return(g||(g=b("Promise"))).reject("Unable to create WebCrypto object");function o(c){var e=(g||(g=b("Promise"))).resolve(),f,h,i,m,o=k.recipientInfos[c].value.originator;e=e.then(function(){if("recipientCertificate"in j){var d=j.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(d.constructor.blockName()!==a.ObjectIdentifier.blockName())return(g||(g=b("Promise"))).reject('Incorrect "recipientCertificate" for index '+c);i=d.valueBlock.toString()}else if("algorithmParams"in o.value.algorithm){d=o.value.algorithm.algorithmParams;if(d.constructor.blockName()!==a.ObjectIdentifier.blockName())return(g||(g=b("Promise"))).reject("Incorrect originator for index "+c);i=d.valueBlock.toString()}else return(g||(g=b("Promise"))).reject('Parameter "recipientCertificate" is mandatory for "KeyAgreeRecipientInfo" if algorithm params are missing from originator');if("recipientPrivateKey"in j===!1)return(g||(g=b("Promise"))).reject('Parameter "recipientPrivateKey" is mandatory for "KeyAgreeRecipientInfo"');switch(i){case"1.2.840.10045.3.1.7":f="P-256";h=256;break;case"1.3.132.0.34":f="P-384";h=384;break;case"1.3.132.0.35":f="P-521";h=528;break;default:return(g||(g=b("Promise"))).reject("Incorrect curve OID for index "+c)}return n.importKey("pkcs8",j.recipientPrivateKey,{name:"ECDH",namedCurve:f},!0,["deriveBits"])},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(b){m=b;"algorithmParams"in o.value.algorithm===!1&&(o.value.algorithm.algorithmParams=new a.ObjectIdentifier({value:i}));b=o.value.toSchema().toBER(!1);return n.importKey("spki",b,{name:"ECDH",namedCurve:f},!0,[])},function(a){return(g||(g=b("Promise"))).reject(a)});e=e.then(function(a){return n.deriveBits({name:"ECDH","public":a},m,h)},function(a){return(g||(g=b("Promise"))).reject(a)});function p(e){e=e||!1;var f=new l["default"]({schema:k.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmParams}),h=d.getAlgorithmByOID(f.algorithmId);if("name"in h===!1)return(g||(g=b("Promise"))).reject("Incorrect OID for key encryption algorithm: "+f.algorithmId);var i=h.length,j=new ArrayBuffer(4),m=new Uint8Array(j);for(var n=3;n>=0;n--)m[n]=i,i>>=8;n={algorithmId:f.algorithmId};e&&(n.algorithmParams=new a.Null());i=new z["default"]({keyInfo:new l["default"](n),entityUInfo:k.recipientInfos[c].value.ukm,suppPubInfo:new a.OctetString({valueHex:j})});m=i.toSchema().toBER(!1);f=d.getAlgorithmByOID(k.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);return"name"in f===!1?(g||(g=b("Promise"))).reject("Incorrect OID for key encryption algorithm: "+k.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId):d.kdf(f.kdf,q,h.length,m)}var q;e=e.then(function(a){q=a;return p()},function(a){return(g||(g=b("Promise"))).reject(a)});function r(a){return n.importKey("raw",a,{name:"AES-KW"},!0,["unwrapKey"])}e=e.then(r,function(a){return(g||(g=b("Promise"))).reject(a)});function s(a){var e=d.getAlgorithmByOID(k.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in e===!1?(g||(g=b("Promise"))).reject('Incorrect "contentEncryptionAlgorithm": '+k.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId):n.unwrapKey("raw",k.recipientInfos[c].value.recipientEncryptedKeys.encryptedKeys[0].encryptedKey.valueBlock.valueHex,a,{name:"AES-KW"},e,!0,["decrypt"])}e=e.then(function(a){return s(a)["catch"](function(){return p(!0).then(r).then(s)})},function(a){return(g||(g=b("Promise"))).reject(a)});return e}function p(a){return q.apply(this,arguments)}function q(){q=K(b("regeneratorRuntime").mark(function a(c){var e,f,g,h,i,l;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(!("recipientPrivateKey"in j===!1)){a.next=2;break}throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyTransRecipientInfo"');case 2:e=d.getAlgorithmByOID(k.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);if(!("name"in e===!1)){a.next=5;break}throw new Error("Unknown keyEncryptionAlgorithm: "+k.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmId);case 5:if(!(e.name==="RSA-OAEP")){a.next=11;break}f=k.recipientInfos[c].value.keyEncryptionAlgorithm.algorithmParams;g=new m["default"]({schema:f});e.hash=d.getAlgorithmByOID(g.hashAlgorithm.algorithmId);if(!("name"in e.hash===!1)){a.next=11;break}throw new Error("Incorrect OID for hash algorithm: "+g.hashAlgorithm.algorithmId);case 11:a.next=13;return n.importKey("pkcs8",j.recipientPrivateKey,e,!0,["decrypt"]);case 13:h=a.sent;a.next=16;return n.decrypt(h.algorithm,h,k.recipientInfos[c].value.encryptedKey.valueBlock.valueHex);case 16:i=a.sent;l=d.getAlgorithmByOID(k.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);if(!("name"in l===!1)){a.next=20;break}throw new Error('Incorrect "contentEncryptionAlgorithm": '+k.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);case 20:return a.abrupt("return",n.importKey("raw",i,l,!0,["decrypt"]));case 21:case"end":return a.stop()}},a,this)}));return q.apply(this,arguments)}function r(a){var c=(g||(g=b("Promise"))).resolve(),e;c=c.then(function(){if("preDefinedData"in j===!1)return(g||(g=b("Promise"))).reject('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');e=d.getAlgorithmByOID(k.recipientInfos[a].value.keyEncryptionAlgorithm.algorithmId);return"name"in e===!1?(g||(g=b("Promise"))).reject('Incorrect OID for "keyEncryptionAlgorithm": '+k.recipientInfos[a].value.keyEncryptionAlgorithm.algorithmId):n.importKey("raw",j.preDefinedData,e,!0,["unwrapKey"])},function(a){return(g||(g=b("Promise"))).reject(a)});c=c.then(function(c){var f=d.getAlgorithmByOID(k.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in f===!1?(g||(g=b("Promise"))).reject('Incorrect "contentEncryptionAlgorithm": '+k.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId):n.unwrapKey("raw",k.recipientInfos[a].value.encryptedKey.valueBlock.valueHex,c,e,f,!0,["decrypt"])},function(a){return(g||(g=b("Promise"))).reject(a)});return c}function s(a){var c=(g||(g=b("Promise"))).resolve(),e,f;c=c.then(function(){if("preDefinedData"in j===!1)return(g||(g=b("Promise"))).reject('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');if("keyDerivationAlgorithm"in k.recipientInfos[a].value===!1)return(g||(g=b("Promise"))).reject('Please append encoded "keyDerivationAlgorithm"');if("algorithmParams"in k.recipientInfos[a].value.keyDerivationAlgorithm===!1)return(g||(g=b("Promise"))).reject('Incorrectly encoded "keyDerivationAlgorithm"');try{e=new x["default"]({schema:k.recipientInfos[a].value.keyDerivationAlgorithm.algorithmParams})}catch(a){return(g||(g=b("Promise"))).reject('Incorrectly encoded "keyDerivationAlgorithm"')}return n.importKey("raw",j.preDefinedData,"PBKDF2",!1,["deriveKey"])},function(a){return(g||(g=b("Promise"))).reject(a)});c=c.then(function(c){f=d.getAlgorithmByOID(k.recipientInfos[a].value.keyEncryptionAlgorithm.algorithmId);if("name"in f===!1)return(g||(g=b("Promise"))).reject('Incorrect OID for "keyEncryptionAlgorithm": '+k.recipientInfos[a].value.keyEncryptionAlgorithm.algorithmId);var h="SHA-1";if("prf"in e){var i=d.getAlgorithmByOID(e.prf.algorithmId);if("name"in i===!1)return(g||(g=b("Promise"))).reject("Incorrect OID for HMAC hash algorithm");h=i.hash.name}i=new Uint8Array(e.salt.valueBlock.valueHex);var j=e.iterationCount;return n.deriveKey({name:"PBKDF2",hash:{name:h},salt:i,iterations:j},c,f,!0,["unwrapKey"])},function(a){return(g||(g=b("Promise"))).reject(a)});c=c.then(function(c){var e=d.getAlgorithmByOID(k.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);return"name"in e===!1?(g||(g=b("Promise"))).reject('Incorrect "contentEncryptionAlgorithm": '+k.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId):n.unwrapKey("raw",k.recipientInfos[a].value.encryptedKey.valueBlock.valueHex,c,f,e,!0,["decrypt"])},function(a){return(g||(g=b("Promise"))).reject(a)});return c}i=i.then(function(){var a=(g||(g=b("Promise"))).resolve();switch(h.recipientInfos[e].variant){case 1:a=p(e);break;case 2:a=o(e);break;case 3:a=r(e);break;case 4:a=s(e);break;default:return(g||(g=b("Promise"))).reject("Uknown recipient type in array with index "+e)}return a},function(a){return(g||(g=b("Promise"))).reject(a)});i=i.then(function(a){var e=d.getAlgorithmByOID(h.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);if("name"in e===!1)return(g||(g=b("Promise"))).reject('Incorrect "contentEncryptionAlgorithm": '+h.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);var f=h.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams.valueBlock.valueHex;f=new Uint8Array(f);var i=new ArrayBuffer(0);if(h.encryptedContentInfo.encryptedContent.idBlock.isConstructed===!1)i=h.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else{var j=F(h.encryptedContentInfo.encryptedContent.valueBlock.value),k;try{for(j.s();!(k=j.n()).done;){k=k.value;i=c.utilConcatBuf(i,k.valueBlock.valueHex)}}catch(a){j.e(a)}finally{j.f()}}return n.decrypt({name:e.name,iv:f},a,i)},function(a){return(g||(g=b("Promise"))).reject(a)});return i};return h}();Zg["default"]=E}var bh=!1;function ch(){bh||(bh=!0,ah());return $g.exports}var dh={},eh={exports:dh};function fh(){Object.defineProperty(dh,"__esModule",{value:!0});dh["default"]=void 0;var a=m(h()),c=i(),d=k(pb()),e=k(Oe()),f=k(ch()),j=k(ub());function k(a){return a&&a.__esModule?a:{"default":a}}function l(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(l=function(a){return a?c:b})(a)}function m(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=l(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function n(a,b){return q(a)||p(a,b)||s(a,b)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(a,b){var c=a==null?null:typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(c==null)return;var d=[],e=!0,f=!1,g;try{for(c=c.call(a);!(e=(a=c.next()).done);e=!0){d.push(a.value);if(b&&d.length===b)break}}catch(a){f=!0,g=a}finally{try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}return d}function q(a){if(Array.isArray(a))return a}function r(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=s(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function s(a,b){if(!a)return;if(typeof a==="string")return t(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return t(a,b)}function t(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}m=function(){function h(a){a===void 0&&(a={}),this.safeContents=c.getParametersValue(a,"safeContents",h.defaultValues("safeContents")),"parsedValue"in a&&(this.parsedValue=c.getParametersValue(a,"parsedValue",h.defaultValues("parsedValue"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(a){switch(a){case"safeContents":return[];case"parsedValue":return{};default:throw new Error("Invalid member name for AuthenticatedSafe class: "+a)}};h.compareWithDefault=function(a,b){switch(a){case"safeContents":return b.length===0;case"parsedValue":return b instanceof Object&&Object.keys(b).length===0;default:throw new Error("Invalid member name for AuthenticatedSafe class: "+a)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[new a.Repeated({name:b.contentInfos||"",value:d["default"].schema()})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["contentInfos"]);b=a.compareSchema(b,b,h.schema({names:{contentInfos:"contentInfos"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for AuthenticatedSafe");this.safeContents=Array.from(b.result.contentInfos,function(a){return new d["default"]({schema:a})})};i.toSchema=function(){return new a.Sequence({value:Array.from(this.safeContents,function(a){return a.toSchema()})})};i.toJSON=function(){return{safeContents:Array.from(this.safeContents,function(a){return a.toJSON()})}};i.parseInternalValues=function(d){var h=this;if(d instanceof Object===!1)return(g||(g=b("Promise"))).reject('The "parameters" must has "Object" type');if("safeContents"in d===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "safeContents"');if(d.safeContents instanceof Array===!1)return(g||(g=b("Promise"))).reject('The "parameters.safeContents" must has "Array" type');if(d.safeContents.length!==this.safeContents.length)return(g||(g=b("Promise"))).reject('Length of "parameters.safeContents" must be equal to "this.safeContents.length"');var i=(g||(g=b("Promise"))).resolve();this.parsedValue={safeContents:[]};var k=r(this.safeContents.entries()),l;try{for(k.s();!(l=k.n()).done;){l=n(l.value,2);var m=l[0],o=l[1];switch(o.contentType){case"1.2.840.113549.1.7.1":if(o.content instanceof a.OctetString===!1)return(g||(g=b("Promise"))).reject('Wrong type of "this.safeContents[j].content"');l=new ArrayBuffer(0);if(o.content.valueBlock.isConstructed){var p=r(o.content.valueBlock.value),q;try{for(p.s();!(q=p.n()).done;){q=q.value;l=c.utilConcatBuf(l,q.valueBlock.valueHex)}}catch(a){p.e(a)}finally{p.f()}}else l=o.content.valueBlock.valueHex;q=a.fromBER(l);if(q.offset===-1)return(g||(g=b("Promise"))).reject('Error during parsing of ASN.1 data inside "content.content"');this.parsedValue.safeContents.push({privacyMode:0,value:new e["default"]({schema:q.result})});break;case"1.2.840.113549.1.7.3":p=function(){var c=new f["default"]({schema:o.content});if("recipientCertificate"in d.safeContents[m]===!1)return{v:(g||(g=b("Promise"))).reject('Absent mandatory parameter "recipientCertificate" in "parameters.safeContents[j]"')};var j=d.safeContents[m].recipientCertificate;if("recipientKey"in d.safeContents[m]===!1)return{v:(g||(g=b("Promise"))).reject('Absent mandatory parameter "recipientKey" in "parameters.safeContents[j]"')};var k=d.safeContents[m].recipientKey;i=i.then(function(){return c.decrypt(0,{recipientCertificate:j,recipientPrivateKey:k})});i=i.then(function(c){c=a.fromBER(c);if(c.offset===-1)return(g||(g=b("Promise"))).reject("Error during parsing of decrypted data");h.parsedValue.safeContents.push({privacyMode:2,value:new e["default"]({schema:c.result})});return(g||(g=b("Promise"))).resolve()})}();if(typeof p==="object")return p.v;break;case"1.2.840.113549.1.7.6":l=function(){var c=new j["default"]({schema:o.content});if("password"in d.safeContents[m]===!1)return{v:(g||(g=b("Promise"))).reject('Absent mandatory parameter "password" in "parameters.safeContents[j]"')};var f=d.safeContents[m].password;i=i.then(function(){return c.decrypt({password:f})},function(a){return(g||(g=b("Promise"))).reject(a)});i=i.then(function(c){c=a.fromBER(c);if(c.offset===-1)return(g||(g=b("Promise"))).reject("Error during parsing of decrypted data");h.parsedValue.safeContents.push({privacyMode:1,value:new e["default"]({schema:c.result})});return(g||(g=b("Promise"))).resolve()},function(a){return(g||(g=b("Promise"))).reject(a)})}();if(typeof l==="object")return l.v;break;default:throw new Error('Unknown "contentType" for AuthenticatedSafe: " '+o.contentType)}}}catch(a){k.e(a)}finally{k.f()}return i};i.makeInternalValues=function(c){var h=this;if("parsedValue"in this===!1)return(g||(g=b("Promise"))).reject('Please run "parseValues" first or add "parsedValue" manually');if(this.parsedValue instanceof Object===!1)return(g||(g=b("Promise"))).reject('The "this.parsedValue" must has "Object" type');if(this.parsedValue.safeContents instanceof Array===!1)return(g||(g=b("Promise"))).reject('The "this.parsedValue.safeContents" must has "Array" type');if(c instanceof Object===!1)return(g||(g=b("Promise"))).reject('The "parameters" must has "Object" type');if("safeContents"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "safeContents"');if(c.safeContents instanceof Array===!1)return(g||(g=b("Promise"))).reject('The "parameters.safeContents" must has "Array" type');if(c.safeContents.length!==this.parsedValue.safeContents.length)return(g||(g=b("Promise"))).reject('Length of "parameters.safeContents" must be equal to "this.parsedValue.safeContents"');var i=(g||(g=b("Promise"))).resolve();this.safeContents=[];var k=r(this.parsedValue.safeContents.entries()),l;try{for(k.s();!(l=k.n()).done;){l=n(l.value,2);var m=l[0],o=l[1];if("privacyMode"in o===!1)return(g||(g=b("Promise"))).reject('The "privacyMode" is a mandatory parameter for "content"');if("value"in o===!1)return(g||(g=b("Promise"))).reject('The "value" is a mandatory parameter for "content"');if(o.value instanceof e["default"]===!1)return(g||(g=b("Promise"))).reject('The "content.value" must has "SafeContents" type');switch(o.privacyMode){case 0:(function(){var b=o.value.toSchema().toBER(!1);i=i.then(function(){h.safeContents.push(new d["default"]({contentType:"1.2.840.113549.1.7.1",content:new a.OctetString({valueHex:b})}))})})();break;case 1:(function(){var a=new j["default"](),e=c.safeContents[m];e.contentToEncrypt=o.value.toSchema().toBER(!1);i=i.then(function(){return a.encrypt(e)},function(a){return(g||(g=b("Promise"))).reject(a)});i=i.then(function(){h.safeContents.push(new d["default"]({contentType:"1.2.840.113549.1.7.6",content:a.toSchema()}))},function(a){return(g||(g=b("Promise"))).reject(a)})})();break;case 2:l=function(){var a=new f["default"](),e=o.value.toSchema().toBER(!1);if("encryptingCertificate"in c.safeContents[m]===!1)return{v:(g||(g=b("Promise"))).reject('Absent mandatory parameter "encryptingCertificate" in "parameters.safeContents[i]"')};if("encryptionAlgorithm"in c.safeContents[m]===!1)return{v:(g||(g=b("Promise"))).reject('Absent mandatory parameter "encryptionAlgorithm" in "parameters.safeContents[i]"')};switch(!0){case c.safeContents[m].encryptionAlgorithm.name.toLowerCase()==="aes-cbc":case c.safeContents[m].encryptionAlgorithm.name.toLowerCase()==="aes-gcm":break;default:return{v:(g||(g=b("Promise"))).reject('Incorrect parameter "encryptionAlgorithm" in "parameters.safeContents[i]": '+c.safeContents[m].encryptionAlgorithm)}}switch(!0){case c.safeContents[m].encryptionAlgorithm.length===128:case c.safeContents[m].encryptionAlgorithm.length===192:case c.safeContents[m].encryptionAlgorithm.length===256:break;default:return{v:(g||(g=b("Promise"))).reject('Incorrect parameter "encryptionAlgorithm.length" in "parameters.safeContents[i]": '+c.safeContents[m].encryptionAlgorithm.length)}}var j=c.safeContents[m].encryptionAlgorithm;a.addRecipientByCertificate(c.safeContents[m].encryptingCertificate);i=i.then(function(){return a.encrypt(j,e)});i=i.then(function(){h.safeContents.push(new d["default"]({contentType:"1.2.840.113549.1.7.3",content:a.toSchema()}))})}();if(typeof l==="object")return l.v;break;default:return(g||(g=b("Promise"))).reject('Incorrect value for "content.privacyMode": '+o.privacyMode)}}}catch(a){k.e(a)}finally{k.f()}return i.then(function(){return h},function(a){return(g||(g=b("Promise"))).reject("Error during parsing: "+a)})};return h}();dh["default"]=m}var gh=!1;function hh(){gh||(gh=!0,fh());return eh.exports}var ih={},jh={exports:ih};function kh(){Object.defineProperty(ih,"__esModule",{value:!0});ih["default"]=void 0;var a=k(h()),c=i(),d=X(),e=f(o());function f(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function f(a){a===void 0&&(a={}),this.hashAlgorithm=c.getParametersValue(a,"hashAlgorithm",f.defaultValues("hashAlgorithm")),this.issuerNameHash=c.getParametersValue(a,"issuerNameHash",f.defaultValues("issuerNameHash")),this.issuerKeyHash=c.getParametersValue(a,"issuerKeyHash",f.defaultValues("issuerKeyHash")),this.serialNumber=c.getParametersValue(a,"serialNumber",f.defaultValues("serialNumber")),"schema"in a&&this.fromSchema(a.schema)}f.defaultValues=function(b){switch(b){case"hashAlgorithm":return new e["default"]();case"issuerNameHash":case"issuerKeyHash":return new a.OctetString();case"serialNumber":return new a.Integer();default:throw new Error("Invalid member name for CertID class: "+b)}};f.compareWithDefault=function(a,b){switch(a){case"hashAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"issuerNameHash":case"issuerKeyHash":case"serialNumber":return b.isEqual(f.defaultValues(a));default:throw new Error("Invalid member name for CertID class: "+a)}};f.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[e["default"].schema(b.hashAlgorithmObject||{names:{blockName:b.hashAlgorithm||""}}),new a.OctetString({name:b.issuerNameHash||""}),new a.OctetString({name:b.issuerKeyHash||""}),new a.Integer({name:b.serialNumber||""})]})};var h=f.prototype;h.fromSchema=function(b){c.clearProps(b,["hashAlgorithm","issuerNameHash","issuerKeyHash","serialNumber"]);b=a.compareSchema(b,b,f.schema({names:{hashAlgorithm:"hashAlgorithm",issuerNameHash:"issuerNameHash",issuerKeyHash:"issuerKeyHash",serialNumber:"serialNumber"}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for CertID");this.hashAlgorithm=new e["default"]({schema:b.result.hashAlgorithm});this.issuerNameHash=b.result.issuerNameHash;this.issuerKeyHash=b.result.issuerKeyHash;this.serialNumber=b.result.serialNumber};h.toSchema=function(){return new a.Sequence({value:[this.hashAlgorithm.toSchema(),this.issuerNameHash,this.issuerKeyHash,this.serialNumber]})};h.toJSON=function(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),issuerNameHash:this.issuerNameHash.toJSON(),issuerKeyHash:this.issuerKeyHash.toJSON(),serialNumber:this.serialNumber.toJSON()}};h.isEqual=function(a){if(!this.hashAlgorithm.algorithmId===a.hashAlgorithm.algorithmId)return!1;if(c.isEqualBuffer(this.issuerNameHash.valueBlock.valueHex,a.issuerNameHash.valueBlock.valueHex)===!1)return!1;if(c.isEqualBuffer(this.issuerKeyHash.valueBlock.valueHex,a.issuerKeyHash.valueBlock.valueHex)===!1)return!1;return!this.serialNumber.isEqual(a.serialNumber)?!1:!0};h.createForCertificate=function(c,f){var h=this,i=(g||(g=b("Promise"))).resolve(),j,k=d.getCrypto();if(typeof k==="undefined")return(g||(g=b("Promise"))).reject("Unable to create WebCrypto object");if("hashAlgorithm"in f===!1)return(g||(g=b("Promise"))).reject('Parameter "hashAlgorithm" is mandatory for "OCSP_REQUEST.createForCertificate"');var l=d.getOIDByAlgorithm({name:f.hashAlgorithm});if(l==="")return(g||(g=b("Promise"))).reject('Incorrect "hashAlgorithm": '+this.hashAlgorithm);this.hashAlgorithm=new e["default"]({algorithmId:l,algorithmParams:new a.Null()});if("issuerCertificate"in f)j=f.issuerCertificate;else return(g||(g=b("Promise"))).reject('Parameter "issuerCertificate" is mandatory for "OCSP_REQUEST.createForCertificate"');this.serialNumber=c.serialNumber;i=i.then(function(){return k.digest({name:f.hashAlgorithm},j.subject.toSchema().toBER(!1))},function(a){return(g||(g=b("Promise"))).reject(a)});i=i.then(function(b){h.issuerNameHash=new a.OctetString({valueHex:b});b=j.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex;return k.digest({name:f.hashAlgorithm},b)},function(a){return(g||(g=b("Promise"))).reject(a)}).then(function(b){h.issuerKeyHash=new a.OctetString({valueHex:b})},function(a){return(g||(g=b("Promise"))).reject(a)});return i};return f}();ih["default"]=k}var lh=!1;function mh(){lh||(lh=!0,kh());return jh.exports}var nh={},oh={exports:nh};function ph(){Object.defineProperty(nh,"__esModule",{value:!0});nh["default"]=void 0;var a=j(h()),b=i(),c=f(mh()),d=f(Md()),e=f(Rd());function f(a){return a&&a.__esModule?a:{"default":a}}function g(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(g=function(a){return a?c:b})(a)}function j(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=g(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}j=function(){function f(a){a===void 0&&(a={}),this.certID=b.getParametersValue(a,"certID",f.defaultValues("certID")),this.certStatus=b.getParametersValue(a,"certStatus",f.defaultValues("certStatus")),this.thisUpdate=b.getParametersValue(a,"thisUpdate",f.defaultValues("thisUpdate")),"nextUpdate"in a&&(this.nextUpdate=b.getParametersValue(a,"nextUpdate",f.defaultValues("nextUpdate"))),"singleExtensions"in a&&(this.singleExtensions=b.getParametersValue(a,"singleExtensions",f.defaultValues("singleExtensions"))),"schema"in a&&this.fromSchema(a.schema)}f.defaultValues=function(a){switch(a){case"certID":return new c["default"]();case"certStatus":return{};case"thisUpdate":case"nextUpdate":return new Date(0,0,0);case"singleExtensions":return[];default:throw new Error("Invalid member name for SingleResponse class: "+a)}};f.compareWithDefault=function(a,b){switch(a){case"certID":return c["default"].compareWithDefault("hashAlgorithm",b.hashAlgorithm)&&c["default"].compareWithDefault("issuerNameHash",b.issuerNameHash)&&c["default"].compareWithDefault("issuerKeyHash",b.issuerKeyHash)&&c["default"].compareWithDefault("serialNumber",b.serialNumber);case"certStatus":return Object.keys(b).length===0;case"thisUpdate":case"nextUpdate":return b===f.defaultValues(a);default:throw new Error("Invalid member name for SingleResponse class: "+a)}};f.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.certID||{}),new a.Choice({value:[new a.Primitive({name:d.certStatus||"",idBlock:{tagClass:3,tagNumber:0},lenBlockLength:1}),new a.Constructed({name:d.certStatus||"",idBlock:{tagClass:3,tagNumber:1},value:[new a.GeneralizedTime(),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Enumerated()]})]}),new a.Primitive({name:d.certStatus||"",idBlock:{tagClass:3,tagNumber:2},lenBlock:{length:1}})]}),new a.GeneralizedTime({name:d.thisUpdate||""}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.GeneralizedTime({name:d.nextUpdate||""})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[e["default"].schema(d.singleExtensions||{})]})]})};var g=f.prototype;g.fromSchema=function(e){b.clearProps(e,["certID","certStatus","thisUpdate","nextUpdate","singleExtensions"]);e=a.compareSchema(e,e,f.schema({names:{certID:{names:{blockName:"certID"}},certStatus:"certStatus",thisUpdate:"thisUpdate",nextUpdate:"nextUpdate",singleExtensions:{names:{blockName:"singleExtensions"}}}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for SingleResponse");this.certID=new c["default"]({schema:e.result.certID});this.certStatus=e.result.certStatus;this.thisUpdate=e.result.thisUpdate.toDate();"nextUpdate"in e.result&&(this.nextUpdate=e.result.nextUpdate.toDate());"singleExtensions"in e.result&&(this.singleExtensions=Array.from(e.result.singleExtensions.valueBlock.value,function(a){return new d["default"]({schema:a})}))};g.toSchema=function(){var b=[];b.push(this.certID.toSchema());b.push(this.certStatus);b.push(new a.GeneralizedTime({valueDate:this.thisUpdate}));"nextUpdate"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.GeneralizedTime({valueDate:this.nextUpdate})]}));"singleExtensions"in this&&b.push(new a.Sequence({value:Array.from(this.singleExtensions,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};g.toJSON=function(){var a={certID:this.certID.toJSON(),certStatus:this.certStatus.toJSON(),thisUpdate:this.thisUpdate};"nextUpdate"in this&&(a.nextUpdate=this.nextUpdate);"singleExtensions"in this&&(a.singleExtensions=Array.from(this.singleExtensions,function(a){return a.toJSON()}));return a};return f}();nh["default"]=j}var qh=!1;function rh(){qh||(qh=!0,ph());return oh.exports}var sh={},th={exports:sh};function uh(){Object.defineProperty(sh,"__esModule",{value:!0});sh["default"]=void 0;var a=k(h()),b=i(),c=g(Ra()),d=g(rh()),e=g(Md()),f=g(Rd());function g(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.tbs=b.getParametersValue(a,"tbs",g.defaultValues("tbs")),this.responderID=b.getParametersValue(a,"responderID",g.defaultValues("responderID")),this.producedAt=b.getParametersValue(a,"producedAt",g.defaultValues("producedAt")),this.responses=b.getParametersValue(a,"responses",g.defaultValues("responses")),"responseExtensions"in a&&(this.responseExtensions=b.getParametersValue(a,"responseExtensions",g.defaultValues("responseExtensions"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"tbs":return new ArrayBuffer(0);case"responderID":return{};case"producedAt":return new Date(0,0,0);case"responses":case"responseExtensions":return[];default:throw new Error("Invalid member name for ResponseData class: "+a)}};g.compareWithDefault=function(a,b){switch(a){case"tbs":return b.byteLength===0;case"responderID":return Object.keys(b).length===0;case"producedAt":return b===g.defaultValues(a);case"responses":case"responseExtensions":return b.length===0;default:throw new Error("Invalid member name for ResponseData class: "+a)}};g.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"ResponseData",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({name:e.version||"ResponseData.version"})]}),new a.Choice({value:[new a.Constructed({name:e.responderID||"ResponseData.responderID",idBlock:{tagClass:3,tagNumber:1},value:[c["default"].schema(e.ResponseDataByName||{names:{blockName:"ResponseData.byName"}})]}),new a.Constructed({name:e.responderID||"ResponseData.responderID",idBlock:{tagClass:3,tagNumber:2},value:[new a.OctetString({name:e.ResponseDataByKey||"ResponseData.byKey"})]})]}),new a.GeneralizedTime({name:e.producedAt||"ResponseData.producedAt"}),new a.Sequence({value:[new a.Repeated({name:"ResponseData.responses",value:d["default"].schema(e.response||{})})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[f["default"].schema(e.extensions||{names:{blockName:"ResponseData.responseExtensions"}})]})]})};var h=g.prototype;h.fromSchema=function(f){b.clearProps(f,["ResponseData","ResponseData.version","ResponseData.responderID","ResponseData.producedAt","ResponseData.responses","ResponseData.responseExtensions"]);f=a.compareSchema(f,f,g.schema());if(f.verified===!1)throw new Error("Object's schema was not verified against input data for ResponseData");this.tbs=f.result.ResponseData.valueBeforeDecode;"ResponseData.version"in f.result&&(this.version=f.result["ResponseData.version"].valueBlock.valueDec);f.result["ResponseData.responderID"].idBlock.tagNumber===1?this.responderID=new c["default"]({schema:f.result["ResponseData.responderID"].valueBlock.value[0]}):this.responderID=f.result["ResponseData.responderID"].valueBlock.value[0];this.producedAt=f.result["ResponseData.producedAt"].toDate();this.responses=Array.from(f.result["ResponseData.responses"],function(a){return new d["default"]({schema:a})});"ResponseData.responseExtensions"in f.result&&(this.responseExtensions=Array.from(f.result["ResponseData.responseExtensions"].valueBlock.value,function(a){return new e["default"]({schema:a})}))};h.toSchema=function(b){b===void 0&&(b=!1);if(b===!1){if(this.tbs.length===0)return g.schema();b=a.fromBER(this.tbs).result}else{var d=[];"version"in this&&d.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({value:this.version})]}));this.responderID instanceof c["default"]?d.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.responderID.toSchema()]})):d.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[this.responderID]}));d.push(new a.GeneralizedTime({valueDate:this.producedAt}));d.push(new a.Sequence({value:Array.from(this.responses,function(a){return a.toSchema()})}));"responseExtensions"in this&&d.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new a.Sequence({value:Array.from(this.responseExtensions,function(a){return a.toSchema()})})]}));b=new a.Sequence({value:d})}return b};h.toJSON=function(){var a={};"version"in this&&(a.version=this.version);"responderID"in this&&(a.responderID=this.responderID);"producedAt"in this&&(a.producedAt=this.producedAt);"responses"in this&&(a.responses=Array.from(this.responses,function(a){return a.toJSON()}));"responseExtensions"in this&&(a.responseExtensions=Array.from(this.responseExtensions,function(a){return a.toJSON()}));return a};return g}();sh["default"]=k}var vh=!1;function wh(){vh||(vh=!0,uh());return th.exports}var xh={},yh={exports:xh};function zh(){Object.defineProperty(xh,"__esModule",{value:!0});xh["default"]=void 0;var a=i(),c=X();function d(a,c,d,e,f,h,i){try{var j=a[h](i),k=j.value}catch(a){d(a);return}j.done?c(k):(g||(g=b("Promise"))).resolve(k).then(e,f)}function e(a){return function(){var c=this,e=arguments;return new(g||(g=b("Promise")))(function(b,f){var g=a.apply(c,e);function h(a){d(g,b,f,h,i,"next",a)}function i(a){d(g,b,f,h,i,"throw",a)}h(void 0)})}}function f(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=h(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function h(a,b){if(!a)return;if(typeof a==="string")return j(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return j(a,b)}function j(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}var k=function(){function d(b){b===void 0&&(b={}),this.trustedCerts=a.getParametersValue(b,"trustedCerts",this.defaultValues("trustedCerts")),this.certs=a.getParametersValue(b,"certs",this.defaultValues("certs")),this.crls=a.getParametersValue(b,"crls",this.defaultValues("crls")),this.ocsps=a.getParametersValue(b,"ocsps",this.defaultValues("ocsps")),this.checkDate=a.getParametersValue(b,"checkDate",this.defaultValues("checkDate")),this.findOrigin=a.getParametersValue(b,"findOrigin",this.defaultValues("findOrigin")),this.findIssuer=a.getParametersValue(b,"findIssuer",this.defaultValues("findIssuer"))}d.defaultFindOrigin=function(b,c){b.tbs.byteLength===0&&(b.tbs=b.encodeTBS());var d=f(c.certs),e;try{for(d.s();!(e=d.n()).done;){e=e.value;e.tbs.byteLength===0&&(e.tbs=e.encodeTBS());if(a.isEqualBuffer(b.tbs,e.tbs))return"Intermediate Certificates"}}catch(a){d.e(a)}finally{d.f()}e=f(c.trustedCerts);try{for(e.s();!(d=e.n()).done;){c=d.value;c.tbs.byteLength===0&&(c.tbs=c.encodeTBS());if(a.isEqualBuffer(b.tbs,c.tbs))return"Trusted Certificates"}}catch(a){e.e(a)}finally{e.f()}return"Unknown"};var g=d.prototype;g.defaultFindIssuer=function(c,d){return e(b("regeneratorRuntime").mark(function e(){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:o=function(b){if(h!==null&&"extensions"in b){var d=!1,e=f(b.extensions),k;try{for(e.s();!(k=e.n()).done;){k=k.value;if(k.extnID==="2.5.29.14"){d=!0;a.isEqualBuffer(k.parsedValue.valueBlock.valueHex,h.valueBlock.valueHex)&&g.push(b);break}}}catch(a){e.e(a)}finally{e.f()}if(d)return}k=!1;j!==null&&(k=b.serialNumber.isEqual(j));i!==null?b.subject.isEqual(i)&&(k&&g.push(b)):c.issuer.isEqual(b.subject)&&g.push(b)};g=[];h=null;i=null;j=null;if(!c.subject.isEqual(c.issuer)){b.next=16;break}b.prev=6;b.next=9;return c.verify();case 9:k=b.sent;if(!(k===!0)){b.next=12;break}return b.abrupt("return",[c]);case 12:b.next=16;break;case 14:b.prev=14,b.t0=b["catch"](6);case 16:if(!("extensions"in c)){b.next=35;break}l=f(c.extensions);b.prev=18;l.s();case 20:if((m=l.n()).done){b.next=27;break}n=m.value;if(!(n.extnID==="2.5.29.35")){b.next=25;break}"keyIdentifier"in n.parsedValue?h=n.parsedValue.keyIdentifier:("authorityCertIssuer"in n.parsedValue&&(i=n.parsedValue.authorityCertIssuer),"authorityCertSerialNumber"in n.parsedValue&&(j=n.parsedValue.authorityCertSerialNumber));return b.abrupt("break",27);case 25:b.next=20;break;case 27:b.next=32;break;case 29:b.prev=29,b.t1=b["catch"](18),l.e(b.t1);case 32:b.prev=32;l.f();return b.finish(32);case 35:p=f(d.trustedCerts);try{for(p.s();!(q=p.n()).done;)r=q.value,o(r)}catch(a){p.e(a)}finally{p.f()}s=f(d.certs);try{for(s.s();!(t=s.n()).done;)u=t.value,o(u)}catch(a){s.e(a)}finally{s.f()}v=0;case 40:if(!(v<g.length)){b.next=54;break}b.prev=41;b.next=44;return c.verify(g[v]);case 44:w=b.sent;w===!1&&g.splice(v,1);b.next=51;break;case 48:b.prev=48,b.t2=b["catch"](41),g.splice(v,1);case 51:v++;b.next=40;break;case 54:return b.abrupt("return",g);case 55:case"end":return b.stop()}},e,this,[[6,14],[18,29,32,35],[41,48]])}))()};g.defaultValues=function(a){switch(a){case"trustedCerts":return[];case"certs":return[];case"crls":return[];case"ocsps":return[];case"checkDate":return new Date();case"findOrigin":return d.defaultFindOrigin;case"findIssuer":return this.defaultFindIssuer;default:throw new Error("Invalid member name for CertificateChainValidationEngine class: "+a)}};g.sort=function(d){d===void 0&&(d=!1);var g=this;return e(b("regeneratorRuntime").mark(function h(){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;return b("regeneratorRuntime").wrap(function(h){while(1)switch(h.prev=h.next){case 0:t=function(){t=e(b("regeneratorRuntime").mark(function a(g,h){var c,i,k,l,n,e,p,r,s,t,u,v,w,x,y;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:c=0;case 1:if(!(c<g.length)){a.next=7;break}if(!(g[c].notBefore.value>h||g[c].notAfter.value<h)){a.next=4;break}return a.abrupt("return",{result:!1,resultCode:8,resultMessage:"The certificate is either not yet valid or expired"});case 4:c++;a.next=1;break;case 7:if(!(g.length<2)){a.next=9;break}return a.abrupt("return",{result:!1,resultCode:9,resultMessage:"Too short certificate path"});case 9:i=g.length-2;case 10:if(!(i>=0)){a.next=17;break}if(!(g[i].issuer.isEqual(g[i].subject)===!1)){a.next=14;break}if(!(g[i].issuer.isEqual(g[i+1].subject)===!1)){a.next=14;break}return a.abrupt("return",{result:!1,resultCode:10,resultMessage:"Incorrect name chaining"});case 14:i--;a.next=10;break;case 17:if(!(j.crls.length!==0||j.ocsps.length!==0)){a.next=87;break}k=0;case 19:if(!(k<g.length-1)){a.next=87;break}l=2;n={status:0,statusMessage:""};if(!(j.ocsps.length!==0)){a.next=32;break}a.next=25;return o(g[k],g[k+1]);case 25:l=a.sent;a.t0=l;a.next=a.t0===0?29:a.t0===1?30:a.t0===2?31:32;break;case 29:return a.abrupt("continue",84);case 30:return a.abrupt("return",{result:!1,resultCode:12,resultMessage:"One of certificates was revoked via OCSP response"});case 31:return a.abrupt("break",32);case 32:if(!(j.crls.length!==0)){a.next=56;break}a.next=35;return m(g[k]);case 35:n=a.sent;if(!(n.status===0)){a.next=52;break}e=0;case 38:if(!(e<n.result.length)){a.next=50;break}p=n.result[e].crl.isCertificateRevoked(g[k]);if(!p){a.next=42;break}return a.abrupt("return",{result:!1,resultCode:12,resultMessage:"One of certificates had been revoked"});case 42:a.next=44;return q(n.result[e].certificate,!0);case 44:r=a.sent;if(!(r.result===!1)){a.next=47;break}return a.abrupt("return",{result:!1,resultCode:13,resultMessage:"CRL issuer certificate is not a CA certificate or does not have crlSign flag"});case 47:e++;a.next=38;break;case 50:a.next=54;break;case 52:if(!(d===!1)){a.next=54;break}throw{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates: "+n.statusMessage};case 54:a.next=58;break;case 56:if(!(l===2)){a.next=58;break}return a.abrupt("return",{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates"});case 58:if(!(l===2&&n.status===2&&d)){a.next=84;break}s=g[k+1];t=!1;if(!("extensions"in s)){a.next=82;break}u=f(s.extensions);a.prev=63;u.s();case 65:if((v=u.n()).done){a.next=74;break}w=v.value;a.t1=w.extnID;a.next=a.t1==="2.5.29.31"?70:a.t1==="2.5.29.46"?70:a.t1==="1.3.6.1.5.5.7.1.1"?70:72;break;case 70:t=!0;return a.abrupt("break",72);case 72:a.next=65;break;case 74:a.next=79;break;case 76:a.prev=76,a.t2=a["catch"](63),u.e(a.t2);case 79:a.prev=79;u.f();return a.finish(79);case 82:if(!t){a.next=84;break}throw{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates: "+n.statusMessage};case 84:k++;a.next=19;break;case 87:x=1;case 88:if(!(x<g.length)){a.next=97;break}a.next=91;return q(g[x]);case 91:y=a.sent;if(!(y.result===!1)){a.next=94;break}return a.abrupt("return",{result:!1,resultCode:14,resultMessage:"One of intermediate certificates is not a CA certificate"});case 94:x++;a.next=88;break;case 97:return a.abrupt("return",{result:!0});case 98:case"end":return a.stop()}},a,this,[[63,76,79,82]])}));return t.apply(this,arguments)},s=function(a,b){return t.apply(this,arguments)},r=function(){r=e(b("regeneratorRuntime").mark(function a(d,e){var f,g,h,i,c,j;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:e===void 0&&(e=!1);f=!1;g=!1;h=!1;i=!1;if(!("extensions"in d)){a.next=21;break}c=0;case 7:if(!(c<d.extensions.length)){a.next=15;break}if(!(d.extensions[c].critical===!0&&"parsedValue"in d.extensions[c]===!1)){a.next=10;break}return a.abrupt("return",{result:!1,resultCode:6,resultMessage:"Unable to parse critical certificate extension: "+d.extensions[c].extnID});case 10:d.extensions[c].extnID==="2.5.29.15"&&(h=!0,j=new Uint8Array(d.extensions[c].parsedValue.valueBlock.valueHex),(j[0]&4)===4&&(g=!0),(j[0]&2)===2&&(i=!0)),d.extensions[c].extnID==="2.5.29.19"&&("cA"in d.extensions[c].parsedValue&&(d.extensions[c].parsedValue.cA===!0&&(f=!0)));case 12:c++;a.next=7;break;case 15:if(!(g===!0&&f===!1)){a.next=17;break}return a.abrupt("return",{result:!1,resultCode:3,resultMessage:'Unable to build certificate chain - using "keyCertSign" flag set without BasicConstaints'});case 17:if(!(h===!0&&f===!0&&g===!1)){a.next=19;break}return a.abrupt("return",{result:!1,resultCode:4,resultMessage:'Unable to build certificate chain - "keyCertSign" flag was not set'});case 19:if(!(f===!0&&h===!0&&e&&i===!1)){a.next=21;break}return a.abrupt("return",{result:!1,resultCode:5,resultMessage:'Unable to build certificate chain - intermediate certificate must have "cRLSign" key usage flag'});case 21:if(!(f===!1)){a.next=23;break}return a.abrupt("return",{result:!1,resultCode:7,resultMessage:"Unable to build certificate chain - more than one possible end-user certificate"});case 23:return a.abrupt("return",{result:!0,resultCode:0,resultMessage:""});case 24:case"end":return a.stop()}},a,this)}));return r.apply(this,arguments)},q=function(a){return r.apply(this,arguments)},p=function(){p=e(b("regeneratorRuntime").mark(function a(e,f){var g,d,h;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:g=c.getAlgorithmByOID(e.signatureAlgorithm.algorithmId);if(!("name"in g===!1)){a.next=3;break}return a.abrupt("return",1);case 3:if(!("hash"in g===!1)){a.next=5;break}return a.abrupt("return",1);case 5:d=0;case 6:if(!(d<j.ocsps.length)){a.next=17;break}a.next=9;return j.ocsps[d].getCertificateStatus(e,f);case 9:h=a.sent;if(!h.isForCertificate){a.next=14;break}if(!(h.status===0)){a.next=13;break}return a.abrupt("return",0);case 13:return a.abrupt("return",1);case 14:d++;a.next=6;break;case 17:return a.abrupt("return",2);case 18:case"end":return a.stop()}},a,this)}));return p.apply(this,arguments)},o=function(a,b){return p.apply(this,arguments)},n=function(){n=e(b("regeneratorRuntime").mark(function a(e){var f,g,h,c,d,k;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:f=[];g=[];h=[];f.push.apply(f,i.filter(function(a){return e.issuer.isEqual(a.subject)}));if(!(f.length===0)){a.next=6;break}return a.abrupt("return",{status:1,statusMessage:"No certificate's issuers"});case 6:g.push.apply(g,j.crls.filter(function(a){return a.issuer.isEqual(e.issuer)}));if(!(g.length===0)){a.next=9;break}return a.abrupt("return",{status:2,statusMessage:"No CRLs for specific certificate issuer"});case 9:c=0;case 10:if(!(c<g.length)){a.next=32;break}if(!(g[c].nextUpdate.value<j.checkDate)){a.next=13;break}return a.abrupt("continue",29);case 13:d=0;case 14:if(!(d<f.length)){a.next=29;break}a.prev=15;a.next=18;return g[c].verify({issuerCertificate:f[d]});case 18:k=a.sent;if(!k){a.next=22;break}h.push({crl:g[c],certificate:f[d]});return a.abrupt("break",29);case 22:a.next=26;break;case 24:a.prev=24,a.t0=a["catch"](15);case 26:d++;a.next=14;break;case 29:c++;a.next=10;break;case 32:if(!h.length){a.next=34;break}return a.abrupt("return",{status:0,statusMessage:"",result:h});case 34:return a.abrupt("return",{status:3,statusMessage:"No valid CRLs found"});case 35:case"end":return a.stop()}},a,this,[[15,24]])}));return n.apply(this,arguments)},m=function(a){return n.apply(this,arguments)},l=function(){l=e(b("regeneratorRuntime").mark(function c(g){var f,h,i,d,l,e,m;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:h=function(c){var d=!0;for(var a=0;a<c.length;a++){for(var b=0;b<c.length;b++){if(b===a)continue;if(c[a]===c[b]){d=!1;break}}if(!d)break}return d};f=[];b.next=4;return j.findIssuer(g,j);case 4:i=b.sent;if(!(i.length===0)){b.next=7;break}throw new Error("No valid certificate paths found");case 7:d=0;case 8:if(!(d<i.length)){b.next=19;break}if(!a.isEqualBuffer(i[d].tbs,g.tbs)){b.next=12;break}f.push([i[d]]);return b.abrupt("continue",16);case 12:b.next=14;return k(i[d]);case 14:l=b.sent;for(e=0;e<l.length;e++)m=l[e].slice(),m.splice(0,0,i[d]),h(m)?f.push(m):f.push(l[e]);case 16:d++;b.next=8;break;case 19:return b.abrupt("return",f);case 20:case"end":return b.stop()}},c,this)}));return l.apply(this,arguments)},k=function(a){return l.apply(this,arguments)},i=[],j=g,i.push.apply(i,j.trustedCerts),i.push.apply(i,j.certs),u=0;case 15:if(!(u<i.length)){h.next=30;break}v=0;case 17:if(!(v<i.length)){h.next=27;break}if(!(u===v)){h.next=20;break}return h.abrupt("continue",24);case 20:if(!a.isEqualBuffer(i[u].tbs,i[v].tbs)){h.next=24;break}i.splice(v,1);u=0;return h.abrupt("break",27);case 24:v++;h.next=17;break;case 27:u++;h.next=15;break;case 30:x=[i[i.length-1]];h.next=33;return k(i[i.length-1]);case 33:w=h.sent;if(!(w.length===0)){h.next=36;break}return h.abrupt("return",{result:!1,resultCode:60,resultMessage:"Unable to find certificate path"});case 36:y=0;case 37:if(!(y<w.length)){h.next=59;break}z=!1;A=0;case 40:if(!(A<w[y].length)){h.next=55;break}B=w[y][A];C=0;case 43:if(!(C<j.trustedCerts.length)){h.next=50;break}if(!a.isEqualBuffer(B.tbs,j.trustedCerts[C].tbs)){h.next=47;break}z=!0;return h.abrupt("break",50);case 47:C++;h.next=43;break;case 50:if(!z){h.next=52;break}return h.abrupt("break",55);case 52:A++;h.next=40;break;case 55:z||(w.splice(y,1),y=0);case 56:y++;h.next=37;break;case 59:if(!(w.length===0)){h.next=61;break}throw{result:!1,resultCode:97,resultMessage:"No valid certificate paths found"};case 61:D=w[0].length;E=0;for(F=0;F<w.length;F++)w[F].length<D&&(D=w[F].length,E=F);for(G=0;G<w[E].length;G++)x.push(w[E][G]);h.next=67;return s(x,j.checkDate);case 67:w=h.sent;if(!(w.result===!1)){h.next=70;break}throw w;case 70:return h.abrupt("return",x);case 71:case"end":return h.stop()}},h,this)}))()};g.verify=function(a){a===void 0&&(a={});var d=this;return e(b("regeneratorRuntime").mark(function e(){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,aa,ba,ca,da,ea,fa,ga,M,ha,ia,ja,ka,la,ma,na,oa,N,pa,qa,ra,sa,ta,O,ua,va,P,Q,R,wa,xa,S,ya,za,Aa,T,U,Ba,V,Ca,Da,Ea,Fa,W,Ga,Ha,Ia,X,Y,Ja,Ka,La,Ma,Na;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:j=function(c,d){if(c.typesAndValues.length===0||d.typesAndValues.length===0)return!0;if(c.typesAndValues.length<d.typesAndValues.length)return!1;var e=!0,f=0;for(var a=0;a<d.typesAndValues.length;a++){var g=!1;for(var b=f;b<c.typesAndValues.length;b++){g=c.typesAndValues[b].isEqual(d.typesAndValues[a]);c.typesAndValues[b].type===d.typesAndValues[a].type&&(e=e&&g);if(g===!0)if(f===0||f===b){f=b+1;break}else return!1}if(g===!1)return!1}return f===0?!1:e};i=function(b,c){b=new Uint8Array(b.valueBlock.valueHex);c=new Uint8Array(c.valueBlock.valueHex);if(b.length===4&&c.length===8){for(var a=0;a<4;a++)if((b[a]^c[a])&c[a+4])return!1;return!0}if(b.length===16&&c.length===32){for(a=0;a<16;a++)if((b[a]^c[a])&c[a+16])return!1;return!0}return!1};h=function(a,b){a=c.stringPrep(a);b=c.stringPrep(b);var d=a.split("/"),e=b.split("/");if(e.length>1)return!1;if(d.length>1)for(e=0;e<d.length;e++)if(d[e].length>0&&d[e].charAt(d[e].length-1)!==":"){var g=d[e].split(":");a=g[0];break}g=f(a,b);if(g){e=a.split(".");d=b.split(".");return d[0].length===0?!0:e.length===d.length}return!1};g=function(a,b){a=c.stringPrep(a);b=c.stringPrep(b);var d=a.split("@"),e=b.split("@");if(d.length===0||e.length===0||d.length<e.length)return!1;if(e.length===1){var g=f(d[1],e[0]);if(g){g=d[1].split(".");d=e[0].split(".");return d[0].length===0?!0:g.length===d.length}return!1}return a.localeCompare(b)===0};f=function(b,d){b=c.stringPrep(b);d=c.stringPrep(d);b=b.split(".");d=d.split(".");var e=b.length,f=d.length;if(e===0||f===0||e<f)return!1;for(var a=0;a<e;a++)if(b[a].length===0)return!1;for(a=0;a<f;a++)if(d[a].length===0){if(a===0){if(f===1)return!1;continue}return!1}for(a=0;a<f;a++){if(d[f-1-a].length===0)continue;if(b[e-1-a].localeCompare(d[f-1-a])!==0)return!1}return!0};b.prev=5;if(!(d.certs.length===0)){b.next=8;break}throw"Empty certificate array";case 8:k=!1;"passedWhenNotRevValues"in a&&(k=a.passedWhenNotRevValues);l=[];l.push("2.5.29.32.0");m=!1;n=!1;o=!1;p=[];q=[];r=[];"initialPolicySet"in a&&(l=a.initialPolicySet);"initialExplicitPolicy"in a&&(m=a.initialExplicitPolicy);"initialPolicyMappingInhibit"in a&&(n=a.initialPolicyMappingInhibit);"initialInhibitPolicy"in a&&(o=a.initialInhibitPolicy);"initialPermittedSubtreesSet"in a&&(p=a.initialPermittedSubtreesSet);"initialExcludedSubtreesSet"in a&&(q=a.initialExcludedSubtreesSet);"initialRequiredNameForms"in a&&(r=a.initialRequiredNameForms);s=m;t=n;u=o;v=new Array(3);v[0]=!1;v[1]=!1;v[2]=!1;w=0;x=0;y=0;z=p;A=q;B=r;C=1;b.next=41;return d.sort(k);case 41:d.certs=b.sent;D=[];D.push("2.5.29.32.0");E=[];F=new Array(d.certs.length-1);for(G=0;G<d.certs.length-1;G++)F[G]=!0;E.push(F);H=new Array(d.certs.length-1);I=new Array(d.certs.length-1);J=s?d.certs.length-1:-1;K=d.certs.length-2;case 52:if(!(K>=0)){b.next=107;break}if(!("extensions"in d.certs[K])){b.next=104;break}L=0;case 55:if(!(L<d.certs[K].extensions.length)){b.next=90;break}if(!(d.certs[K].extensions[L].extnID==="2.5.29.32")){b.next=81;break}I[K]=d.certs[K].extensions[L].parsedValue;aa=0;case 59:if(!(aa<D.length)){b.next=66;break}if(!(D[aa]==="2.5.29.32.0")){b.next=63;break}delete E[aa][K];return b.abrupt("break",66);case 63:aa++;b.next=59;break;case 66:ba=0;case 67:if(!(ba<d.certs[K].extensions[L].parsedValue.certificatePolicies.length)){b.next=81;break}ca=-1;da=0;case 70:if(!(da<D.length)){b.next=77;break}if(!(d.certs[K].extensions[L].parsedValue.certificatePolicies[ba].policyIdentifier===D[da])){b.next=74;break}ca=da;return b.abrupt("break",77);case 74:da++;b.next=70;break;case 77:ca===-1?(D.push(d.certs[K].extensions[L].parsedValue.certificatePolicies[ba].policyIdentifier),ea=new Array(d.certs.length-1),ea[K]=!0,E.push(ea)):E[ca][K]=!0;case 78:ba++;b.next=67;break;case 81:if(!(d.certs[K].extensions[L].extnID==="2.5.29.33")){b.next=85;break}if(!t){b.next=84;break}return b.abrupt("return",{result:!1,resultCode:98,resultMessage:"Policy mapping prohibited"});case 84:H[K]=d.certs[K].extensions[L].parsedValue;case 85:d.certs[K].extensions[L].extnID==="2.5.29.36"&&(s===!1&&(d.certs[K].extensions[L].parsedValue.requireExplicitPolicy===0?(s=!0,J=K):v[0]===!1?(v[0]=!0,w=d.certs[K].extensions[L].parsedValue.requireExplicitPolicy):w=w>d.certs[K].extensions[L].parsedValue.requireExplicitPolicy?d.certs[K].extensions[L].parsedValue.requireExplicitPolicy:w,d.certs[K].extensions[L].parsedValue.inhibitPolicyMapping===0?t=!0:v[1]===!1?(v[1]=!0,x=d.certs[K].extensions[L].parsedValue.inhibitPolicyMapping+1):x=x>d.certs[K].extensions[L].parsedValue.inhibitPolicyMapping+1?d.certs[K].extensions[L].parsedValue.inhibitPolicyMapping+1:x)),d.certs[K].extensions[L].extnID==="2.5.29.54"&&(u===!1&&(d.certs[K].extensions[L].parsedValue.valueBlock.valueDec===0?u=!0:v[2]===!1?(v[2]=!0,y=d.certs[K].extensions[L].parsedValue.valueBlock.valueDec):y=y>d.certs[K].extensions[L].parsedValue.valueBlock.valueDec?d.certs[K].extensions[L].parsedValue.valueBlock.valueDec:y));case 87:L++;b.next=55;break;case 90:if(!(u===!0)){b.next=101;break}fa=-1;ga=0;case 93:if(!(ga<D.length)){b.next=100;break}if(!(D[ga]==="2.5.29.32.0")){b.next=97;break}fa=ga;return b.abrupt("break",100);case 97:ga++;b.next=93;break;case 100:fa!==-1&&delete E[0][K];case 101:s===!1&&(v[0]===!0&&(w--,w===0&&(s=!0,J=K,v[0]=!1))),t===!1&&(v[1]===!0&&(x--,x===0&&(t=!0,v[1]=!1))),u===!1&&(v[2]===!0&&(y--,y===0&&(u=!0,v[2]=!1)));case 104:K--,C++;b.next=52;break;case 107:M=0;case 108:if(!(M<d.certs.length-1)){b.next=125;break}if(!(M<d.certs.length-2&&typeof H[M+1]!=="undefined")){b.next=122;break}ha=0;case 111:if(!(ha<H[M+1].mappings.length)){b.next=122;break}if(!(H[M+1].mappings[ha].issuerDomainPolicy==="2.5.29.32.0"||H[M+1].mappings[ha].subjectDomainPolicy==="2.5.29.32.0")){b.next=114;break}return b.abrupt("return",{result:!1,resultCode:99,resultMessage:'The "anyPolicy" should not be a part of policy mapping scheme'});case 114:ia=-1;ja=-1;for(ka=0;ka<D.length;ka++)D[ka]===H[M+1].mappings[ha].issuerDomainPolicy&&(ia=ka),D[ka]===H[M+1].mappings[ha].subjectDomainPolicy&&(ja=ka);typeof E[ia][M]!=="undefined"&&delete E[ia][M];for(la=0;la<I[M].certificatePolicies.length;la++)if(H[M+1].mappings[ha].subjectDomainPolicy===I[M].certificatePolicies[la].policyIdentifier&&(ia!==-1&&ja!==-1))for(ma=0;ma<=M;ma++)typeof E[ja][ma]!=="undefined"&&(E[ia][ma]=!0,delete E[ja][ma]);case 119:ha++;b.next=111;break;case 122:M++;b.next=108;break;case 125:for(na=0;na<D.length;na++)if(D[na]==="2.5.29.32.0")for(oa=0;oa<J;oa++)delete E[na][oa];N=[];pa=0;case 128:if(!(pa<E.length)){b.next=156;break}qa=!0;ra=0;case 131:if(!(ra<d.certs.length-1)){b.next=152;break}sa=!1;if(!(ra<J&&D[pa]==="2.5.29.32.0"&&D.length>1)){b.next=136;break}qa=!1;return b.abrupt("break",152);case 136:if(!(typeof E[pa][ra]==="undefined")){b.next=149;break}if(!(ra>=J)){b.next=146;break}ta=0;case 139:if(!(ta<D.length)){b.next=146;break}if(!(D[ta]==="2.5.29.32.0")){b.next=143;break}E[ta][ra]===!0&&(sa=!0);return b.abrupt("break",146);case 143:ta++;b.next=139;break;case 146:if(sa){b.next=149;break}qa=!1;return b.abrupt("break",152);case 149:ra++;b.next=131;break;case 152:qa===!0&&N.push(D[pa]);case 153:pa++;b.next=128;break;case 156:O=[];if(!(l.length===1&&l[0]==="2.5.29.32.0"&&s===!1)){b.next=161;break}O=l;b.next=178;break;case 161:if(!(N.length===1&&N[0]==="2.5.29.32.0")){b.next=165;break}O=l;b.next=178;break;case 165:ua=0;case 166:if(!(ua<N.length)){b.next=178;break}va=0;case 168:if(!(va<l.length)){b.next=175;break}if(!(l[va]===N[ua]||l[va]==="2.5.29.32.0")){b.next=172;break}O.push(N[ua]);return b.abrupt("break",175);case 172:va++;b.next=168;break;case 175:ua++;b.next=166;break;case 178:P={result:O.length>0,resultCode:0,resultMessage:O.length>0?"":'Zero "userConstrPolicies" array, no intersections with "authConstrPolicies"',authConstrPolicies:N,userConstrPolicies:O,explicitPolicyIndicator:s,policyMappings:H,certificatePath:d.certs};if(!(O.length===0)){b.next=181;break}return b.abrupt("return",P);case 181:if(!(P.result===!1)){b.next=183;break}return b.abrupt("return",P);case 183:C=1,Q=d.certs.length-2;case 185:if(!(Q>=0)){b.next=307;break}R=[];wa=[];xa=[];if("extensions"in d.certs[Q])for(S=0;S<d.certs[Q].extensions.length;S++)d.certs[Q].extensions[S].extnID==="2.5.29.30"&&("permittedSubtrees"in d.certs[Q].extensions[S].parsedValue&&(wa=wa.concat(d.certs[Q].extensions[S].parsedValue.permittedSubtrees)),"excludedSubtrees"in d.certs[Q].extensions[S].parsedValue&&(xa=xa.concat(d.certs[Q].extensions[S].parsedValue.excludedSubtrees))),d.certs[Q].extensions[S].extnID==="2.5.29.17"&&(R=R.concat(d.certs[Q].extensions[S].parsedValue.altNames));ya=B.length<=0;za=0;case 192:if(!(za<B.length)){b.next=213;break}b.t0=B[za].base.type;b.next=b.t0===4?196:210;break;case 196:if(!(B[za].base.value.typesAndValues.length!==d.certs[Q].subject.typesAndValues.length)){b.next=198;break}return b.abrupt("continue",210);case 198:ya=!0,Aa=0;case 200:if(!(Aa<d.certs[Q].subject.typesAndValues.length)){b.next=207;break}if(!(d.certs[Q].subject.typesAndValues[Aa].type!==B[za].base.value.typesAndValues[Aa].type)){b.next=204;break}ya=!1;return b.abrupt("break",207);case 204:Aa++;b.next=200;break;case 207:if(!(ya===!0)){b.next=209;break}return b.abrupt("break",210);case 209:return b.abrupt("break",210);case 210:za++;b.next=192;break;case 213:if(!(ya===!1)){b.next=218;break}P.result=!1;P.resultCode=21;P.resultMessage="No neccessary name form found";throw P;case 218:T=[],T[0]=[],T[1]=[],T[2]=[],T[3]=[],T[4]=[],U=0;case 225:if(!(U<z.length)){b.next=242;break}b.t1=z[U].base.type;b.next=b.t1===1?229:b.t1===2?231:b.t1===4?233:b.t1===6?235:b.t1===7?237:239;break;case 229:T[0].push(z[U]);return b.abrupt("break",239);case 231:T[1].push(z[U]);return b.abrupt("break",239);case 233:T[2].push(z[U]);return b.abrupt("break",239);case 235:T[3].push(z[U]);return b.abrupt("break",239);case 237:T[4].push(z[U]);return b.abrupt("break",239);case 239:U++;b.next=225;break;case 242:Ba=0;case 243:if(!(Ba<5)){b.next=276;break}V=!1;Ca=!1;Da=T[Ba];Ea=0;case 248:if(!(Ea<Da.length)){b.next=268;break}b.t2=Ba;b.next=b.t2===0?252:b.t2===1?254:b.t2===2?256:b.t2===3?259:b.t2===4?261:263;break;case 252:if(R.length>0)for(Fa=0;Fa<R.length;Fa++)R[Fa].type===1&&(Ca=!0,V=V||g(R[Fa].value,Da[Ea].base.value));else for(W=0;W<d.certs[Q].subject.typesAndValues.length;W++)(d.certs[Q].subject.typesAndValues[W].type==="1.2.840.113549.1.9.1"||d.certs[Q].subject.typesAndValues[W].type==="0.9.2342.19200300.100.1.3")&&(Ca=!0,V=V||g(d.certs[Q].subject.typesAndValues[W].value.valueBlock.value,Da[Ea].base.value));return b.abrupt("break",263);case 254:if(R.length>0)for(Ga=0;Ga<R.length;Ga++)R[Ga].type===2&&(Ca=!0,V=V||f(R[Ga].value,Da[Ea].base.value));return b.abrupt("break",263);case 256:Ca=!0;V=j(d.certs[Q].subject,Da[Ea].base.value);return b.abrupt("break",263);case 259:if(R.length>0)for(Ha=0;Ha<R.length;Ha++)R[Ha].type===6&&(Ca=!0,V=V||h(R[Ha].value,Da[Ea].base.value));return b.abrupt("break",263);case 261:if(R.length>0)for(Ia=0;Ia<R.length;Ia++)R[Ia].type===7&&(Ca=!0,V=V||i(R[Ia].value,Da[Ea].base.value));return b.abrupt("break",263);case 263:if(!V){b.next=265;break}return b.abrupt("break",268);case 265:Ea++;b.next=248;break;case 268:if(!(V===!1&&Da.length>0&&Ca)){b.next=273;break}P.result=!1;P.resultCode=41;P.resultMessage='Failed to meet "permitted sub-trees" name constraint';throw P;case 273:Ba++;b.next=243;break;case 276:X=!1,Y=0;case 278:if(!(Y<A.length)){b.next=297;break}b.t3=A[Y].base.type;b.next=b.t3===1?282:b.t3===2?284:b.t3===4?286:b.t3===6?288:b.t3===7?290:292;break;case 282:if(R.length>=0)for(Ja=0;Ja<R.length;Ja++)R[Ja].type===1&&(X=X||g(R[Ja].value,A[Y].base.value));else for(Ka=0;Ka<d.certs[Q].subject.typesAndValues.length;Ka++)(d.certs[Q].subject.typesAndValues[Ka].type==="1.2.840.113549.1.9.1"||d.certs[Q].subject.typesAndValues[Ka].type==="0.9.2342.19200300.100.1.3")&&(X=X||g(d.certs[Q].subject.typesAndValues[Ka].value.valueBlock.value,A[Y].base.value));return b.abrupt("break",292);case 284:if(R.length>0)for(La=0;La<R.length;La++)R[La].type===2&&(X=X||f(R[La].value,A[Y].base.value));return b.abrupt("break",292);case 286:X=X||j(d.certs[Q].subject,A[Y].base.value);return b.abrupt("break",292);case 288:if(R.length>0)for(Ma=0;Ma<R.length;Ma++)R[Ma].type===6&&(X=X||h(R[Ma].value,A[Y].base.value));return b.abrupt("break",292);case 290:if(R.length>0)for(Na=0;Na<R.length;Na++)R[Na].type===7&&(X=X||i(R[Na].value,A[Y].base.value));return b.abrupt("break",292);case 292:if(!X){b.next=294;break}return b.abrupt("break",297);case 294:Y++;b.next=278;break;case 297:if(!(X===!0)){b.next=302;break}P.result=!1;P.resultCode=42;P.resultMessage='Failed to meet "excluded sub-trees" name constraint';throw P;case 302:z=z.concat(wa),A=A.concat(xa);case 304:Q--,C++;b.next=185;break;case 307:return b.abrupt("return",P);case 310:b.prev=310;b.t4=b["catch"](5);if(!(b.t4 instanceof Object)){b.next=317;break}if(!("resultMessage"in b.t4)){b.next=315;break}return b.abrupt("return",b.t4);case 315:if(!("message"in b.t4)){b.next=317;break}return b.abrupt("return",{result:!1,resultCode:-1,resultMessage:b.t4.message});case 317:return b.abrupt("return",{result:!1,resultCode:-1,resultMessage:b.t4});case 318:case"end":return b.stop()}},e,this,[[5,310]])}))()};return d}();xh["default"]=k}var Ah=!1;function Bh(){Ah||(Ah=!0,zh());return yh.exports}var Ch={},Dh={exports:Ch};function Eh(){Object.defineProperty(Ch,"__esModule",{value:!0});Ch["default"]=void 0;var a=q(h()),c=i(),d=X(),e=n(wh()),f=n(o()),j=n(Wd()),k=n(mh()),l=n(Ra()),m=n(Bh());function n(a){return a&&a.__esModule?a:{"default":a}}function p(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(p=function(a){return a?c:b})(a)}function q(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=p(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function r(a,b){return u(a)||t(a,b)||w(a,b)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(a,b){var c=a==null?null:typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(c==null)return;var d=[],e=!0,f=!1,g;try{for(c=c.call(a);!(e=(a=c.next()).done);e=!0){d.push(a.value);if(b&&d.length===b)break}}catch(a){f=!0,g=a}finally{try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}return d}function u(a){if(Array.isArray(a))return a}function v(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=w(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function w(a,b){if(!a)return;if(typeof a==="string")return x(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return x(a,b)}function x(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}q=function(){function h(a){a===void 0&&(a={}),this.tbsResponseData=c.getParametersValue(a,"tbsResponseData",h.defaultValues("tbsResponseData")),this.signatureAlgorithm=c.getParametersValue(a,"signatureAlgorithm",h.defaultValues("signatureAlgorithm")),this.signature=c.getParametersValue(a,"signature",h.defaultValues("signature")),"certs"in a&&(this.certs=c.getParametersValue(a,"certs",h.defaultValues("certs"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(b){switch(b){case"tbsResponseData":return new e["default"]();case"signatureAlgorithm":return new f["default"]();case"signature":return new a.BitString();case"certs":return[];default:throw new Error("Invalid member name for BasicOCSPResponse class: "+b)}};h.compareWithDefault=function(a,b){switch(a){case"type":var c=e["default"].compareWithDefault("tbs",b.tbs)&&e["default"].compareWithDefault("responderID",b.responderID)&&e["default"].compareWithDefault("producedAt",b.producedAt)&&e["default"].compareWithDefault("responses",b.responses);"responseExtensions"in b&&(c=c&&e["default"].compareWithDefault("responseExtensions",b.responseExtensions));return c;case"signatureAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"signature":return b.isEqual(h.defaultValues(a));case"certs":return b.length===0;default:throw new Error("Invalid member name for BasicOCSPResponse class: "+a)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"BasicOCSPResponse",value:[e["default"].schema(b.tbsResponseData||{names:{blockName:"BasicOCSPResponse.tbsResponseData"}}),f["default"].schema(b.signatureAlgorithm||{names:{blockName:"BasicOCSPResponse.signatureAlgorithm"}}),new a.BitString({name:b.signature||"BasicOCSPResponse.signature"}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Sequence({value:[new a.Repeated({name:"BasicOCSPResponse.certs",value:j["default"].schema(b.certs||{})})]})]})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["BasicOCSPResponse.tbsResponseData","BasicOCSPResponse.signatureAlgorithm","BasicOCSPResponse.signature","BasicOCSPResponse.certs"]);b=a.compareSchema(b,b,h.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for BasicOCSPResponse");this.tbsResponseData=new e["default"]({schema:b.result["BasicOCSPResponse.tbsResponseData"]});this.signatureAlgorithm=new f["default"]({schema:b.result["BasicOCSPResponse.signatureAlgorithm"]});this.signature=b.result["BasicOCSPResponse.signature"];"BasicOCSPResponse.certs"in b.result&&(this.certs=Array.from(b.result["BasicOCSPResponse.certs"],function(a){return new j["default"]({schema:a})}))};i.toSchema=function(){var b=[];b.push(this.tbsResponseData.toSchema());b.push(this.signatureAlgorithm.toSchema());b.push(this.signature);"certs"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Sequence({value:Array.from(this.certs,function(a){return a.toSchema()})})]}));return new a.Sequence({value:b})};i.toJSON=function(){var a={tbsResponseData:this.tbsResponseData.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};"certs"in this&&(a.certs=Array.from(this.certs,function(a){return a.toJSON()}));return a};i.getCertificateStatus=function(a,c){var e=this,f=(g||(g=b("Promise"))).resolve(),h={isForCertificate:!1,status:2},i={},j=[],l=[],m=v(this.tbsResponseData.responses),n;try{for(m.s();!(n=m.n()).done;){n=n.value;var o=d.getAlgorithmByOID(n.certID.hashAlgorithm.algorithmId);if("name"in o===!1)return(g||(g=b("Promise"))).reject("Wrong CertID hashing algorithm: "+n.certID.hashAlgorithm.algorithmId);if(o.name in i===!1){i[o.name]=1;n=new k["default"]();j.push(n);l.push(n.createForCertificate(a,{hashAlgorithm:o.name,issuerCertificate:c}))}}}catch(a){m.e(a)}finally{m.f()}f=f.then(function(){return(g||(g=b("Promise"))).all(l)});f=f.then(function(){var a=v(e.tbsResponseData.responses),b;try{for(a.s();!(b=a.n()).done;){b=b.value;var c=v(j),d;try{for(c.s();!(d=c.n()).done;){d=d.value;if(b.certID.isEqual(d)){h.isForCertificate=!0;try{switch(b.certStatus.idBlock.isConstructed){case!0:b.certStatus.idBlock.tagNumber===1&&(h.status=1);break;case!1:switch(b.certStatus.idBlock.tagNumber){case 0:h.status=0;break;case 2:h.status=2;break;default:}break;default:}}catch(a){}return h}}}catch(a){c.e(a)}finally{c.f()}}}catch(b){a.e(b)}finally{a.f()}return h});return f};i.sign=function(c,e){var f=this;e===void 0&&(e="SHA-1");if(typeof c==="undefined")return(g||(g=b("Promise"))).reject("Need to provide a private key for signing");var h=(g||(g=b("Promise"))).resolve(),i,j=d.getEngine();h=h.then(function(){return j.subtle.getSignatureParameters(c,e)});h=h.then(function(a){i=a.parameters,f.signatureAlgorithm=a.signatureAlgorithm});h=h.then(function(){f.tbsResponseData.tbs=f.tbsResponseData.toSchema(!0).toBER(!1)});h=h.then(function(){return j.subtle.signWithPrivateKey(f.tbsResponseData.tbs,c,i)});h=h.then(function(b){f.signature=new a.BitString({valueHex:b})});return h};i.verify=function(e){var f=this;e===void 0&&(e={});var h=null,i=-1,j=(g||(g=b("Promise"))).resolve(),k=[],n=this,o=d.getEngine();if("certs"in this===!1)return(g||(g=b("Promise"))).reject("No certificates attached to the BasicOCSPResponce");"trustedCerts"in e&&(k=e.trustedCerts);function p(a){if(a.issuer.isEqual(h.issuer)===!0&&a.serialNumber.isEqual(h.serialNumber)===!0)return null;var b=!1,c=v(a.extensions),d;try{for(c.s();!(d=c.n()).done;){d=d.value;d.extnID==="2.5.29.19"&&("cA"in d.parsedValue&&(d.parsedValue.cA===!0&&(b=!0)))}}catch(a){c.e(a)}finally{c.f()}return b?a:null}var q=d.getCrypto();if(typeof q==="undefined")return(g||(g=b("Promise"))).reject("Unable to create WebCrypto object");switch(!0){case this.tbsResponseData.responderID instanceof l["default"]:j=j.then(function(){var a=v(n.certs.entries()),b;try{for(a.s();!(b=a.n()).done;){b=r(b.value,2);var c=b[0];b=b[1];if(b.subject.isEqual(n.tbsResponseData.responderID)){i=c;break}}}catch(b){a.e(b)}finally{a.f()}});break;case this.tbsResponseData.responderID instanceof a.OctetString:j=j.then(function(){return(g||(g=b("Promise"))).all(Array.from(n.certs,function(a){return q.digest({name:"sha-1"},new Uint8Array(a.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))})).then(function(a){var b=v(n.certs.entries()),d;try{for(b.s();!(d=b.n()).done;){d=r(d.value,1);d=d[0];if(c.isEqualBuffer(a[d],n.tbsResponseData.responderID.valueBlock.valueHex)){i=d;break}}}catch(a){b.e(a)}finally{b.f()}})});break;default:return(g||(g=b("Promise"))).reject("Wrong value for responderID")}j=j.then(function(){if(i===-1)return(g||(g=b("Promise"))).reject("Correct certificate was not found in OCSP response");h=f.certs[i];return(g||(g=b("Promise"))).all(Array.from(n.certs,function(a){return p(a)})).then(function(a){var c=[];c.push(h);a=v(a);var d;try{for(a.s();!(d=a.n()).done;){d=d.value;d!==null&&c.push(d)}}catch(b){a.e(b)}finally{a.f()}d=new m["default"]({certs:c,trustedCerts:k});return d.verify().then(function(a){return a.result===!0?(g||(g=b("Promise"))).resolve():(g||(g=b("Promise"))).reject("Validation of signer's certificate failed")},function(a){return(g||(g=b("Promise"))).reject("Validation of signer's certificate failed with error: "+(a instanceof Object?a.resultMessage:a))})},function(a){return(g||(g=b("Promise"))).reject("Error during checking certificates for CA flag: "+a)})});j=j.then(function(){return o.subtle.verifyWithPublicKey(f.tbsResponseData.tbs,f.signature,f.certs[i].subjectPublicKeyInfo,f.signatureAlgorithm)});return j};return h}();Ch["default"]=q}var Fh=!1;function Gh(){Fh||(Fh=!0,Eh());return Dh.exports}var Hh={},Ih={exports:Hh};function Jh(){Object.defineProperty(Hh,"__esModule",{value:!0});Hh["default"]=void 0;var a=n(h()),c=i(),d=X(),e=l(D()),f=l(Ra()),j=l(o()),k=l(I());function l(a){return a&&a.__esModule?a:{"default":a}}function m(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(m=function(a){return a?c:b})(a)}function n(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=m(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function p(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.CertificationRequestInfo||"CertificationRequestInfo",value:[new a.Integer({name:b.CertificationRequestInfoVersion||"CertificationRequestInfo.version"}),f["default"].schema(b.subject||{names:{blockName:"CertificationRequestInfo.subject"}}),e["default"].schema({names:{blockName:"CertificationRequestInfo.subjectPublicKeyInfo"}}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({optional:!0,name:b.CertificationRequestInfoAttributes||"CertificationRequestInfo.attributes",value:k["default"].schema(b.attributes||{})})]})]})}n=function(){function h(a){a===void 0&&(a={}),this.tbs=c.getParametersValue(a,"tbs",h.defaultValues("tbs")),this.version=c.getParametersValue(a,"version",h.defaultValues("version")),this.subject=c.getParametersValue(a,"subject",h.defaultValues("subject")),this.subjectPublicKeyInfo=c.getParametersValue(a,"subjectPublicKeyInfo",h.defaultValues("subjectPublicKeyInfo")),"attributes"in a&&(this.attributes=c.getParametersValue(a,"attributes",h.defaultValues("attributes"))),this.signatureAlgorithm=c.getParametersValue(a,"signatureAlgorithm",h.defaultValues("signatureAlgorithm")),this.signatureValue=c.getParametersValue(a,"signatureValue",h.defaultValues("signatureValue")),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(b){switch(b){case"tbs":return new ArrayBuffer(0);case"version":return 0;case"subject":return new f["default"]();case"subjectPublicKeyInfo":return new e["default"]();case"attributes":return[];case"signatureAlgorithm":return new j["default"]();case"signatureValue":return new a.BitString();default:throw new Error("Invalid member name for CertificationRequest class: "+b)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({value:[p(b.certificationRequestInfo||{}),new a.Sequence({name:b.signatureAlgorithm||"signatureAlgorithm",value:[new a.ObjectIdentifier(),new a.Any({optional:!0})]}),new a.BitString({name:b.signatureValue||"signatureValue"})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["CertificationRequestInfo","CertificationRequestInfo.version","CertificationRequestInfo.subject","CertificationRequestInfo.subjectPublicKeyInfo","CertificationRequestInfo.attributes","signatureAlgorithm","signatureValue"]);b=a.compareSchema(b,b,h.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for CertificationRequest");this.tbs=b.result.CertificationRequestInfo.valueBeforeDecode;this.version=b.result["CertificationRequestInfo.version"].valueBlock.valueDec;this.subject=new f["default"]({schema:b.result["CertificationRequestInfo.subject"]});this.subjectPublicKeyInfo=new e["default"]({schema:b.result["CertificationRequestInfo.subjectPublicKeyInfo"]});"CertificationRequestInfo.attributes"in b.result&&(this.attributes=Array.from(b.result["CertificationRequestInfo.attributes"],function(a){return new k["default"]({schema:a})}));this.signatureAlgorithm=new j["default"]({schema:b.result.signatureAlgorithm});this.signatureValue=b.result.signatureValue};i.encodeTBS=function(){var b=[new a.Integer({value:this.version}),this.subject.toSchema(),this.subjectPublicKeyInfo.toSchema()];"attributes"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};i.toSchema=function(b){b===void 0&&(b=!1);if(b===!1){if(this.tbs.byteLength===0)return h.schema();b=a.fromBER(this.tbs).result}else b=this.encodeTBS();return new a.Sequence({value:[b,this.signatureAlgorithm.toSchema(),this.signatureValue]})};i.toJSON=function(){var a={tbs:c.bufferToHexCodes(this.tbs,0,this.tbs.byteLength),version:this.version,subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};"attributes"in this&&(a.attributes=Array.from(this.attributes,function(a){return a.toJSON()}));return a};i.sign=function(c,e){var f=this;e===void 0&&(e="SHA-1");if(typeof c==="undefined")return(g||(g=b("Promise"))).reject("Need to provide a private key for signing");var h=(g||(g=b("Promise"))).resolve(),i,j=d.getEngine();h=h.then(function(){return j.subtle.getSignatureParameters(c,e)});h=h.then(function(a){i=a.parameters,f.signatureAlgorithm=a.signatureAlgorithm});h=h.then(function(){f.tbs=f.encodeTBS().toBER(!1)});h=h.then(function(){return j.subtle.signWithPrivateKey(f.tbs,c,i)});h=h.then(function(b){f.signatureValue=new a.BitString({valueHex:b})});return h};i.verify=function(){return d.getEngine().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,this.subjectPublicKeyInfo,this.signatureAlgorithm)};i.getPublicKey=function(a){a===void 0&&(a=null);return d.getEngine().getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,a)};return h}();Hh["default"]=n}var Kh=!1;function Lh(){Kh||(Kh=!0,Jh());return Ih.exports}var Mh={},Nh={exports:Mh};function Oh(){Object.defineProperty(Mh,"__esModule",{value:!0});Mh["default"]=void 0;var a=f(h()),b=i(),c=d(o());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.digestAlgorithm=b.getParametersValue(a,"digestAlgorithm",d.defaultValues("digestAlgorithm")),this.digest=b.getParametersValue(a,"digest",d.defaultValues("digest")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"digestAlgorithm":return new c["default"]();case"digest":return new a.OctetString();default:throw new Error("Invalid member name for DigestInfo class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"digestAlgorithm":return c["default"].compareWithDefault("algorithmId",b.algorithmId)&&"algorithmParams"in b===!1;case"digest":return b.isEqual(d.defaultValues(a));default:throw new Error("Invalid member name for DigestInfo class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.digestAlgorithm||{names:{blockName:"digestAlgorithm"}}),new a.OctetString({name:d.digest||"digest"})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["digestAlgorithm","digest"]);e=a.compareSchema(e,e,d.schema({names:{digestAlgorithm:{names:{blockName:"digestAlgorithm"}},digest:"digest"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for DigestInfo");this.digestAlgorithm=new c["default"]({schema:e.result.digestAlgorithm});this.digest=e.result.digest};e.toSchema=function(){return new a.Sequence({value:[this.digestAlgorithm.toSchema(),this.digest]})};e.toJSON=function(){return{digestAlgorithm:this.digestAlgorithm.toJSON(),digest:this.digest.toJSON()}};return d}();Mh["default"]=f}var Ph=!1;function Qh(){Ph||(Ph=!0,Oh());return Nh.exports}var Rh={},Sh={exports:Rh};function Th(){Object.defineProperty(Rh,"__esModule",{value:!0});Rh["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(d){d===void 0&&(d={});this.eContentType=b.getParametersValue(d,"eContentType",c.defaultValues("eContentType"));if("eContent"in d){this.eContent=b.getParametersValue(d,"eContent",c.defaultValues("eContent"));if(this.eContent.idBlock.tagClass===1&&this.eContent.idBlock.tagNumber===4&&this.eContent.idBlock.isConstructed===!1){var e=new a.OctetString({idBlock:{isConstructed:!0},isConstructed:!0}),f=0,g=this.eContent.valueBlock.valueHex.byteLength;while(g>0){var h=new Uint8Array(this.eContent.valueBlock.valueHex,f,f+65536>this.eContent.valueBlock.valueHex.byteLength?this.eContent.valueBlock.valueHex.byteLength-f:65536),i=new ArrayBuffer(h.length),j=new Uint8Array(i);for(var k=0;k<j.length;k++)j[k]=h[k];e.valueBlock.value.push(new a.OctetString({valueHex:i}));g-=h.length;f+=h.length}this.eContent=e}}"schema"in d&&this.fromSchema(d.schema)}c.defaultValues=function(b){switch(b){case"eContentType":return"";case"eContent":return new a.OctetString();default:throw new Error("Invalid member name for EncapsulatedContentInfo class: "+b)}};c.compareWithDefault=function(a,b){switch(a){case"eContentType":return b==="";case"eContent":return b.idBlock.tagClass===1&&b.idBlock.tagNumber===4?b.isEqual(c.defaultValues("eContent")):!1;default:throw new Error("Invalid member name for EncapsulatedContentInfo class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.eContentType||""}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Any({name:c.eContent||""})]})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["eContentType","eContent"]);d=a.compareSchema(d,d,c.schema({names:{eContentType:"eContentType",eContent:"eContent"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for EncapsulatedContentInfo");this.eContentType=d.result.eContentType.valueBlock.toString();"eContent"in d.result&&(this.eContent=d.result.eContent)};d.toSchema=function(){var b=[];b.push(new a.ObjectIdentifier({value:this.eContentType}));"eContent"in this&&(c.compareWithDefault("eContent",this.eContent)===!1&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.eContent]})));return new a.Sequence({value:b})};d.toJSON=function(){var a={eContentType:this.eContentType};"eContent"in this&&(c.compareWithDefault("eContent",this.eContent)===!1&&(a.eContent=this.eContent.toJSON()));return a};return c}();Rh["default"]=d}var Uh=!1;function Vh(){Uh||(Uh=!0,Th());return Sh.exports}var Wh={},Xh={exports:Wh};function Yh(){Object.defineProperty(Wh,"__esModule",{value:!0});Wh["default"]=void 0;a=a(N());function a(a){return a&&a.__esModule?a:{"default":a}}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b===void 0&&(b={});return a.call(this,b)||this}return b}(a["default"]);Wh["default"]=a}var Zh=!1;function $h(){Zh||(Zh=!0,Yh());return Xh.exports}var ai={},bi={exports:ai};function ci(){Object.defineProperty(ai,"__esModule",{value:!0});ai["default"]=void 0;var a=f(h()),b=i(),c=d(Qh());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.mac=b.getParametersValue(a,"mac",d.defaultValues("mac")),this.macSalt=b.getParametersValue(a,"macSalt",d.defaultValues("macSalt")),"iterations"in a&&(this.iterations=b.getParametersValue(a,"iterations",d.defaultValues("iterations"))),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"mac":return new c["default"]();case"macSalt":return new a.OctetString();case"iterations":return 1;default:throw new Error("Invalid member name for MacData class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"mac":return c["default"].compareWithDefault("digestAlgorithm",b.digestAlgorithm)&&c["default"].compareWithDefault("digest",b.digest);case"macSalt":return b.isEqual(d.defaultValues(a));case"iterations":return b===d.defaultValues(a);default:throw new Error("Invalid member name for MacData class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",optional:d.optional||!0,value:[c["default"].schema(d.mac||{names:{blockName:"mac"}}),new a.OctetString({name:d.macSalt||"macSalt"}),new a.Integer({optional:!0,name:d.iterations||"iterations"})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["mac","macSalt","iterations"]);e=a.compareSchema(e,e,d.schema({names:{mac:{names:{blockName:"mac"}},macSalt:"macSalt",iterations:"iterations"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for MacData");this.mac=new c["default"]({schema:e.result.mac});this.macSalt=e.result.macSalt;"iterations"in e.result&&(this.iterations=e.result.iterations.valueBlock.valueDec)};e.toSchema=function(){var b=[this.mac.toSchema(),this.macSalt];"iterations"in this&&b.push(new a.Integer({value:this.iterations}));return new a.Sequence({value:b})};e.toJSON=function(){var a={mac:this.mac.toJSON(),macSalt:this.macSalt.toJSON()};"iterations"in this&&(a.iterations=this.iterations.toJSON());return a};return d}();ai["default"]=f}var di=!1;function ei(){di||(di=!0,ci());return bi.exports}var fi={},gi={exports:fi};function hi(){Object.defineProperty(fi,"__esModule",{value:!0});fi["default"]=void 0;var a=f(h()),b=i(),c=d(o());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.hashAlgorithm=b.getParametersValue(a,"hashAlgorithm",d.defaultValues("hashAlgorithm")),this.hashedMessage=b.getParametersValue(a,"hashedMessage",d.defaultValues("hashedMessage")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(b){switch(b){case"hashAlgorithm":return new c["default"]();case"hashedMessage":return new a.OctetString();default:throw new Error("Invalid member name for MessageImprint class: "+b)}};d.compareWithDefault=function(a,b){switch(a){case"hashAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"hashedMessage":return b.isEqual(d.defaultValues(a))===0;default:throw new Error("Invalid member name for MessageImprint class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Sequence({name:d.blockName||"",value:[c["default"].schema(d.hashAlgorithm||{}),new a.OctetString({name:d.hashedMessage||""})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["hashAlgorithm","hashedMessage"]);e=a.compareSchema(e,e,d.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},hashedMessage:"hashedMessage"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for MessageImprint");this.hashAlgorithm=new c["default"]({schema:e.result.hashAlgorithm});this.hashedMessage=e.result.hashedMessage};e.toSchema=function(){return new a.Sequence({value:[this.hashAlgorithm.toSchema(),this.hashedMessage]})};e.toJSON=function(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),hashedMessage:this.hashedMessage.toJSON()}};return d}();fi["default"]=f}var ii=!1;function ji(){ii||(ii=!0,hi());return gi.exports}var ki={},li={exports:ki};function mi(){Object.defineProperty(ki,"__esModule",{value:!0});ki["default"]=void 0;var a=g(h()),b=i(),c=e(mh()),d=e(Md());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}g=function(){function e(a){a===void 0&&(a={}),this.reqCert=b.getParametersValue(a,"reqCert",e.defaultValues("reqCert")),"singleRequestExtensions"in a&&(this.singleRequestExtensions=b.getParametersValue(a,"singleRequestExtensions",e.defaultValues("singleRequestExtensions"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(a){switch(a){case"reqCert":return new c["default"]();case"singleRequestExtensions":return[];default:throw new Error("Invalid member name for Request class: "+a)}};e.compareWithDefault=function(a,b){switch(a){case"reqCert":return b.isEqual(e.defaultValues(a));case"singleRequestExtensions":return b.length===0;default:throw new Error("Invalid member name for Request class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[c["default"].schema(e.reqCert||{}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[d["default"].schema(e.extensions||{names:{blockName:e.singleRequestExtensions||""}})]})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["reqCert","singleRequestExtensions"]);f=a.compareSchema(f,f,e.schema({names:{reqCert:{names:{blockName:"reqCert"}},singleRequestExtensions:{names:{blockName:"singleRequestExtensions"}}}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for Request");this.reqCert=new c["default"]({schema:f.result.reqCert});"singleRequestExtensions"in f.result&&(this.singleRequestExtensions=Array.from(f.result.singleRequestExtensions.valueBlock.value,function(a){return new d["default"]({schema:a})}))};f.toSchema=function(){var b=[];b.push(this.reqCert.toSchema());"singleRequestExtensions"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Sequence({value:Array.from(this.singleRequestExtensions,function(a){return a.toSchema()})})]}));return new a.Sequence({value:b})};f.toJSON=function(){var a={reqCert:this.reqCert.toJSON()};"singleRequestExtensions"in this&&(a.singleRequestExtensions=Array.from(this.singleRequestExtensions,function(a){return a.toJSON()}));return a};return e}();ki["default"]=g}var ni=!1;function oi(){ni||(ni=!0,mi());return li.exports}var pi={},qi={exports:pi};function ri(){Object.defineProperty(pi,"__esModule",{value:!0});pi["default"]=void 0;var a=k(h()),b=i(),c=g(Wa()),d=g(oi()),e=g(Md()),f=g(Rd());function g(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function g(a){a===void 0&&(a={}),this.tbs=b.getParametersValue(a,"tbs",g.defaultValues("tbs")),"version"in a&&(this.version=b.getParametersValue(a,"version",g.defaultValues("version"))),"requestorName"in a&&(this.requestorName=b.getParametersValue(a,"requestorName",g.defaultValues("requestorName"))),this.requestList=b.getParametersValue(a,"requestList",g.defaultValues("requestList")),"requestExtensions"in a&&(this.requestExtensions=b.getParametersValue(a,"requestExtensions",g.defaultValues("requestExtensions"))),"schema"in a&&this.fromSchema(a.schema)}g.defaultValues=function(a){switch(a){case"tbs":return new ArrayBuffer(0);case"version":return 0;case"requestorName":return new c["default"]();case"requestList":case"requestExtensions":return[];default:throw new Error("Invalid member name for TBSRequest class: "+a)}};g.compareWithDefault=function(a,b){switch(a){case"tbs":return b.byteLength===0;case"version":return b===g.defaultValues(a);case"requestorName":return b.type===c["default"].defaultValues("type")&&Object.keys(b.value).length===0;case"requestList":case"requestExtensions":return b.length===0;default:throw new Error("Invalid member name for TBSRequest class: "+a)}};g.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"TBSRequest",value:[new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({name:e.TBSRequestVersion||"TBSRequest.version"})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[c["default"].schema(e.requestorName||{names:{blockName:"TBSRequest.requestorName"}})]}),new a.Sequence({name:e.requestList||"TBSRequest.requestList",value:[new a.Repeated({name:e.requests||"TBSRequest.requests",value:d["default"].schema(e.requestNames||{})})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[f["default"].schema(e.extensions||{names:{blockName:e.requestExtensions||"TBSRequest.requestExtensions"}})]})]})};var h=g.prototype;h.fromSchema=function(f){b.clearProps(f,["TBSRequest","TBSRequest.version","TBSRequest.requestorName","TBSRequest.requests","TBSRequest.requestExtensions"]);f=a.compareSchema(f,f,g.schema());if(f.verified===!1)throw new Error("Object's schema was not verified against input data for TBSRequest");this.tbs=f.result.TBSRequest.valueBeforeDecode;"TBSRequest.version"in f.result&&(this.version=f.result["TBSRequest.version"].valueBlock.valueDec);"TBSRequest.requestorName"in f.result&&(this.requestorName=new c["default"]({schema:f.result["TBSRequest.requestorName"]}));this.requestList=Array.from(f.result["TBSRequest.requests"],function(a){return new d["default"]({schema:a})});"TBSRequest.requestExtensions"in f.result&&(this.requestExtensions=Array.from(f.result["TBSRequest.requestExtensions"].valueBlock.value,function(a){return new e["default"]({schema:a})}))};h.toSchema=function(b){b===void 0&&(b=!1);if(b===!1){if(this.tbs.byteLength===0)return g.schema();b=a.fromBER(this.tbs).result}else{var c=[];"version"in this&&c.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new a.Integer({value:this.version})]}));"requestorName"in this&&c.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.requestorName.toSchema()]}));c.push(new a.Sequence({value:Array.from(this.requestList,function(a){return a.toSchema()})}));"requestExtensions"in this&&c.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[new a.Sequence({value:Array.from(this.requestExtensions,function(a){return a.toSchema()})})]}));b=new a.Sequence({value:c})}return b};h.toJSON=function(){var a={};"version"in this&&(a.version=this.version);"requestorName"in this&&(a.requestorName=this.requestorName.toJSON());a.requestList=Array.from(this.requestList,function(a){return a.toJSON()});"requestExtensions"in this&&(a.requestExtensions=Array.from(this.requestExtensions,function(a){return a.toJSON()}));return a};return g}();pi["default"]=k}var si=!1;function ti(){si||(si=!0,ri());return qi.exports}var ui={},vi={exports:ui};function wi(){Object.defineProperty(ui,"__esModule",{value:!0});ui["default"]=void 0;var a=g(h()),b=i(),c=e(o()),d=e(Wd());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}g=function(){function e(a){a===void 0&&(a={}),this.signatureAlgorithm=b.getParametersValue(a,"signatureAlgorithm",e.defaultValues("signatureAlgorithm")),this.signature=b.getParametersValue(a,"signature",e.defaultValues("signature")),"certs"in a&&(this.certs=b.getParametersValue(a,"certs",e.defaultValues("certs"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"signatureAlgorithm":return new c["default"]();case"signature":return new a.BitString();case"certs":return[];default:throw new Error("Invalid member name for Signature class: "+b)}};e.compareWithDefault=function(a,b){switch(a){case"signatureAlgorithm":return b.algorithmId===""&&"algorithmParams"in b===!1;case"signature":return b.isEqual(e.defaultValues(a));case"certs":return b.length===0;default:throw new Error("Invalid member name for Signature class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"",value:[c["default"].schema(e.signatureAlgorithm||{}),new a.BitString({name:e.signature||""}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Sequence({value:[new a.Repeated({name:e.certs||"",value:d["default"].schema(e.certs||{})})]})]})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["signatureAlgorithm","signature","certs"]);f=a.compareSchema(f,f,e.schema({names:{signatureAlgorithm:{names:{blockName:"signatureAlgorithm"}},signature:"signature",certs:"certs"}}));if(f.verified===!1)throw new Error("Object's schema was not verified against input data for Signature");this.signatureAlgorithm=new c["default"]({schema:f.result.signatureAlgorithm});this.signature=f.result.signature;"certs"in f.result&&(this.certs=Array.from(f.result.certs,function(a){return new d["default"]({schema:a})}))};f.toSchema=function(){var b=[];b.push(this.signatureAlgorithm.toSchema());b.push(this.signature);"certs"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Sequence({value:Array.from(this.certs,function(a){return a.toSchema()})})]}));return new a.Sequence({value:b})};f.toJSON=function(){var a={signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};"certs"in this&&(a.certs=Array.from(this.certs,function(a){return a.toJSON()}));return a};return e}();ui["default"]=g}var xi=!1;function yi(){xi||(xi=!0,wi());return vi.exports}var zi={},Ai={exports:zi};function Bi(){Object.defineProperty(zi,"__esModule",{value:!0});zi["default"]=void 0;var a=n(h()),c=i(),d=X(),e=l(ti()),f=l(yi()),j=l(oi()),k=l(mh());function l(a){return a&&a.__esModule?a:{"default":a}}function m(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(m=function(a){return a?c:b})(a)}function n(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=m(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}n=function(){function h(a){a===void 0&&(a={}),this.tbsRequest=c.getParametersValue(a,"tbsRequest",h.defaultValues("tbsRequest")),"optionalSignature"in a&&(this.optionalSignature=c.getParametersValue(a,"optionalSignature",h.defaultValues("optionalSignature"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(a){switch(a){case"tbsRequest":return new e["default"]();case"optionalSignature":return new f["default"]();default:throw new Error("Invalid member name for OCSPRequest class: "+a)}};h.compareWithDefault=function(a,b){switch(a){case"tbsRequest":return e["default"].compareWithDefault("tbs",b.tbs)&&e["default"].compareWithDefault("version",b.version)&&e["default"].compareWithDefault("requestorName",b.requestorName)&&e["default"].compareWithDefault("requestList",b.requestList)&&e["default"].compareWithDefault("requestExtensions",b.requestExtensions);case"optionalSignature":return f["default"].compareWithDefault("signatureAlgorithm",b.signatureAlgorithm)&&f["default"].compareWithDefault("signature",b.signature)&&f["default"].compareWithDefault("certs",b.certs);default:throw new Error("Invalid member name for OCSPRequest class: "+a)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"OCSPRequest",value:[e["default"].schema(b.tbsRequest||{names:{blockName:"tbsRequest"}}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[f["default"].schema(b.optionalSignature||{names:{blockName:"optionalSignature"}})]})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["tbsRequest","optionalSignature"]);b=a.compareSchema(b,b,h.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for OCSPRequest");this.tbsRequest=new e["default"]({schema:b.result.tbsRequest});"optionalSignature"in b.result&&(this.optionalSignature=new f["default"]({schema:b.result.optionalSignature}))};i.toSchema=function(b){b===void 0&&(b=!1);var c=[];c.push(this.tbsRequest.toSchema(b));"optionalSignature"in this&&c.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.optionalSignature.toSchema()]}));return new a.Sequence({value:c})};i.toJSON=function(){var a={tbsRequest:this.tbsRequest.toJSON()};"optionalSignature"in this&&(a.optionalSignature=this.optionalSignature.toJSON());return a};i.createForCertificate=function(a,c){var d=this,f=(g||(g=b("Promise"))).resolve(),h=new k["default"]();f=f.then(function(){return h.createForCertificate(a,c)});f=f.then(function(){d.tbsRequest=new e["default"]({requestList:[new j["default"]({reqCert:h})]})},function(a){return(g||(g=b("Promise"))).reject(a)});return f};i.sign=function(c,e){var f=this;e===void 0&&(e="SHA-1");if(typeof c==="undefined")return(g||(g=b("Promise"))).reject("Need to provide a private key for signing");if("optionalSignature"in this===!1)return(g||(g=b("Promise"))).reject('Need to create "optionalSignature" field before signing');var h=(g||(g=b("Promise"))).resolve(),i,j,k=d.getEngine();h=h.then(function(){return k.subtle.getSignatureParameters(c,e)});h=h.then(function(a){i=a.parameters,f.optionalSignature.signatureAlgorithm=a.signatureAlgorithm});h=h.then(function(){j=f.tbsRequest.toSchema(!0).toBER(!1)});h=h.then(function(){return k.subtle.signWithPrivateKey(j,c,i)});h=h.then(function(b){f.optionalSignature.signature=new a.BitString({valueHex:b})});return h};i.verify=function(){};return h}();zi["default"]=n}var Ci=!1;function Di(){Ci||(Ci=!0,Bi());return Ai.exports}var Ei={},Fi={exports:Ei};function Gi(){Object.defineProperty(Ei,"__esModule",{value:!0});Ei["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.responseType=b.getParametersValue(a,"responseType",c.defaultValues("responseType")),this.response=b.getParametersValue(a,"response",c.defaultValues("response")),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"responseType":return"";case"response":return new a.OctetString();default:throw new Error("Invalid member name for ResponseBytes class: "+b)}};c.compareWithDefault=function(a,b){switch(a){case"responseType":return b==="";case"response":return b.isEqual(c.defaultValues(a));default:throw new Error("Invalid member name for ResponseBytes class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.ObjectIdentifier({name:c.responseType||""}),new a.OctetString({name:c.response||""})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["responseType","response"]);d=a.compareSchema(d,d,c.schema({names:{responseType:"responseType",response:"response"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for ResponseBytes");this.responseType=d.result.responseType.valueBlock.toString();this.response=d.result.response};d.toSchema=function(){return new a.Sequence({value:[new a.ObjectIdentifier({value:this.responseType}),this.response]})};d.toJSON=function(){return{responseType:this.responseType,response:this.response.toJSON()}};return c}();Ei["default"]=d}var Hi=!1;function Ii(){Hi||(Hi=!0,Gi());return Fi.exports}var Ji={},Ki={exports:Ji};function Li(){Object.defineProperty(Ji,"__esModule",{value:!0});Ji["default"]=void 0;var a=k(h()),c=i(),d=f(Ii()),e=f(Gh());function f(a){return a&&a.__esModule?a:{"default":a}}function j(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(j=function(a){return a?c:b})(a)}function k(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=j(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}k=function(){function f(a){a===void 0&&(a={}),this.responseStatus=c.getParametersValue(a,"responseStatus",f.defaultValues("responseStatus")),"responseBytes"in a&&(this.responseBytes=c.getParametersValue(a,"responseBytes",f.defaultValues("responseBytes"))),"schema"in a&&this.fromSchema(a.schema)}f.defaultValues=function(b){switch(b){case"responseStatus":return new a.Enumerated();case"responseBytes":return new d["default"]();default:throw new Error("Invalid member name for OCSPResponse class: "+b)}};f.compareWithDefault=function(a,b){switch(a){case"responseStatus":return b.isEqual(f.defaultValues(a));case"responseBytes":return d["default"].compareWithDefault("responseType",b.responseType)&&d["default"].compareWithDefault("response",b.response);default:throw new Error("Invalid member name for OCSPResponse class: "+a)}};f.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"OCSPResponse",value:[new a.Enumerated({name:b.responseStatus||"responseStatus"}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[d["default"].schema(b.responseBytes||{names:{blockName:"responseBytes"}})]})]})};var h=f.prototype;h.fromSchema=function(b){c.clearProps(b,["responseStatus","responseBytes"]);b=a.compareSchema(b,b,f.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for OCSPResponse");this.responseStatus=b.result.responseStatus;"responseBytes"in b.result&&(this.responseBytes=new d["default"]({schema:b.result.responseBytes}))};h.toSchema=function(){var b=[];b.push(this.responseStatus);"responseBytes"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.responseBytes.toSchema()]}));return new a.Sequence({value:b})};h.toJSON=function(){var a={responseStatus:this.responseStatus.toJSON()};"responseBytes"in this&&(a.responseBytes=this.responseBytes.toJSON());return a};h.getCertificateStatus=function(b,c){var d,f={isForCertificate:!1,status:2};if("responseBytes"in this===!1)return f;if(this.responseBytes.responseType!=="1.3.6.1.5.5.7.48.1.1")return f;try{var g=a.fromBER(this.responseBytes.response.valueBlock.valueHex);d=new e["default"]({schema:g.result})}catch(a){return f}return d.getCertificateStatus(b,c)};h.sign=function(c,d){if(this.responseBytes.responseType==="1.3.6.1.5.5.7.48.1.1"){var f=a.fromBER(this.responseBytes.response.valueBlock.valueHex);f=new e["default"]({schema:f.result});return f.sign(c,d)}return(g||(g=b("Promise"))).reject("Unknown ResponseBytes type: "+this.responseBytes.responseType)};h.verify=function(c){c===void 0&&(c=null);if("responseBytes"in this===!1)return(g||(g=b("Promise"))).reject("Empty ResponseBytes field");if(this.responseBytes.responseType==="1.3.6.1.5.5.7.48.1.1"){var d=a.fromBER(this.responseBytes.response.valueBlock.valueHex);d=new e["default"]({schema:d.result});c!==null&&("certs"in d===!1&&(d.certs=[]),d.certs.push(c));return d.verify()}return(g||(g=b("Promise"))).reject("Unknown ResponseBytes type: "+this.responseBytes.responseType)};return f}();Ji["default"]=k}var Mi=!1;function Ni(){Mi||(Mi=!0,Li());return Ki.exports}var Oi={},Pi={exports:Oi};function Qi(){Object.defineProperty(Oi,"__esModule",{value:!0});Oi["default"]=void 0;var a=f(h()),b=i(),c=d(I());function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(e=function(a){return a?c:b})(a)}function f(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=e(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=d?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}c["default"]=a;b&&b.set(a,c);return c}f=function(){function d(a){a===void 0&&(a={}),this.type=b.getParametersValue(a,"type",d.defaultValues("type")),this.attributes=b.getParametersValue(a,"attributes",d.defaultValues("attributes")),this.encodedValue=b.getParametersValue(a,"encodedValue",d.defaultValues("encodedValue")),"schema"in a&&this.fromSchema(a.schema)}d.defaultValues=function(a){switch(a){case"type":return-1;case"attributes":return[];case"encodedValue":return new ArrayBuffer(0);default:throw new Error("Invalid member name for SignedAndUnsignedAttributes class: "+a)}};d.compareWithDefault=function(a,b){switch(a){case"type":return b===d.defaultValues("type");case"attributes":return b.length===0;case"encodedValue":return b.byteLength===0;default:throw new Error("Invalid member name for SignedAndUnsignedAttributes class: "+a)}};d.schema=function(d){d===void 0&&(d={});d=b.getParametersValue(d,"names",{});return new a.Constructed({name:d.blockName||"",optional:!0,idBlock:{tagClass:3,tagNumber:d.tagNumber},value:[new a.Repeated({name:d.attributes||"",value:c["default"].schema()})]})};var e=d.prototype;e.fromSchema=function(e){b.clearProps(e,["attributes"]);e=a.compareSchema(e,e,d.schema({names:{tagNumber:this.type,attributes:"attributes"}}));if(e.verified===!1)throw new Error("Object's schema was not verified against input data for SignedAndUnsignedAttributes");this.type=e.result.idBlock.tagNumber;this.encodedValue=e.result.valueBeforeDecode;var f=new Uint8Array(this.encodedValue);f[0]=49;if("attributes"in e.result===!1)if(this.type===0)throw new Error("Wrong structure of SignedUnsignedAttributes");else return;this.attributes=Array.from(e.result.attributes,function(a){return new c["default"]({schema:a})})};e.toSchema=function(){if(d.compareWithDefault("type",this.type)||d.compareWithDefault("attributes",this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:this.type},value:Array.from(this.attributes,function(a){return a.toSchema()})})};e.toJSON=function(){if(d.compareWithDefault("type",this.type)||d.compareWithDefault("attributes",this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return{type:this.type,attributes:Array.from(this.attributes,function(a){return a.toJSON()})}};return d}();Oi["default"]=f}var Ri=!1;function Si(){Ri||(Ri=!0,Qi());return Pi.exports}var Ti={},Ui={exports:Ti};function Vi(){Object.defineProperty(Ti,"__esModule",{value:!0});Ti["default"]=void 0;var a=j(h()),b=i(),c=f(o()),d=f(Si()),e=f(sf());function f(a){return a&&a.__esModule?a:{"default":a}}function g(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(g=function(a){return a?c:b})(a)}function j(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=g(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}j=function(){function f(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",f.defaultValues("version")),this.sid=b.getParametersValue(a,"sid",f.defaultValues("sid")),this.digestAlgorithm=b.getParametersValue(a,"digestAlgorithm",f.defaultValues("digestAlgorithm")),"signedAttrs"in a&&(this.signedAttrs=b.getParametersValue(a,"signedAttrs",f.defaultValues("signedAttrs"))),this.signatureAlgorithm=b.getParametersValue(a,"signatureAlgorithm",f.defaultValues("signatureAlgorithm")),this.signature=b.getParametersValue(a,"signature",f.defaultValues("signature")),"unsignedAttrs"in a&&(this.unsignedAttrs=b.getParametersValue(a,"unsignedAttrs",f.defaultValues("unsignedAttrs"))),"schema"in a&&this.fromSchema(a.schema)}f.defaultValues=function(b){switch(b){case"version":return 0;case"sid":return new a.Any();case"digestAlgorithm":return new c["default"]();case"signedAttrs":return new d["default"]({type:0});case"signatureAlgorithm":return new c["default"]();case"signature":return new a.OctetString();case"unsignedAttrs":return new d["default"]({type:1});default:throw new Error("Invalid member name for SignerInfo class: "+b)}};f.compareWithDefault=function(b,e){switch(b){case"version":return f.defaultValues("version")===e;case"sid":return e instanceof a.Any;case"digestAlgorithm":return e instanceof c["default"]===!1?!1:e.isEqual(f.defaultValues("digestAlgorithm"));case"signedAttrs":return d["default"].compareWithDefault("type",e.type)&&d["default"].compareWithDefault("attributes",e.attributes)&&d["default"].compareWithDefault("encodedValue",e.encodedValue);case"signatureAlgorithm":return e instanceof c["default"]===!1?!1:e.isEqual(f.defaultValues("signatureAlgorithm"));case"signature":case"unsignedAttrs":return d["default"].compareWithDefault("type",e.type)&&d["default"].compareWithDefault("attributes",e.attributes)&&d["default"].compareWithDefault("encodedValue",e.encodedValue);default:throw new Error("Invalid member name for SignerInfo class: "+b)}};f.schema=function(f){f===void 0&&(f={});f=b.getParametersValue(f,"names",{});return new a.Sequence({name:"SignerInfo",value:[new a.Integer({name:f.version||"SignerInfo.version"}),new a.Choice({value:[e["default"].schema(f.sid||{names:{blockName:"SignerInfo.sid"}}),new a.Choice({value:[new a.Constructed({optional:!0,name:f.sid||"SignerInfo.sid",idBlock:{tagClass:3,tagNumber:0},value:[new a.OctetString()]}),new a.Primitive({optional:!0,name:f.sid||"SignerInfo.sid",idBlock:{tagClass:3,tagNumber:0},value:[new a.OctetString()]})]})]}),c["default"].schema(f.digestAlgorithm||{names:{blockName:"SignerInfo.digestAlgorithm"}}),d["default"].schema(f.signedAttrs||{names:{blockName:"SignerInfo.signedAttrs",tagNumber:0}}),c["default"].schema(f.signatureAlgorithm||{names:{blockName:"SignerInfo.signatureAlgorithm"}}),new a.OctetString({name:f.signature||"SignerInfo.signature"}),d["default"].schema(f.unsignedAttrs||{names:{blockName:"SignerInfo.unsignedAttrs",tagNumber:1}})]})};var g=f.prototype;g.fromSchema=function(g){b.clearProps(g,["SignerInfo.version","SignerInfo.sid","SignerInfo.digestAlgorithm","SignerInfo.signedAttrs","SignerInfo.signatureAlgorithm","SignerInfo.signature","SignerInfo.unsignedAttrs"]);g=a.compareSchema(g,g,f.schema());if(g.verified===!1)throw new Error("Object's schema was not verified against input data for SignerInfo");this.version=g.result["SignerInfo.version"].valueBlock.valueDec;var h=g.result["SignerInfo.sid"];h.idBlock.tagClass===1?this.sid=new e["default"]({schema:h}):this.sid=h;this.digestAlgorithm=new c["default"]({schema:g.result["SignerInfo.digestAlgorithm"]});"SignerInfo.signedAttrs"in g.result&&(this.signedAttrs=new d["default"]({type:0,schema:g.result["SignerInfo.signedAttrs"]}));this.signatureAlgorithm=new c["default"]({schema:g.result["SignerInfo.signatureAlgorithm"]});this.signature=g.result["SignerInfo.signature"];"SignerInfo.unsignedAttrs"in g.result&&(this.unsignedAttrs=new d["default"]({type:1,schema:g.result["SignerInfo.unsignedAttrs"]}))};g.toSchema=function(){if(f.compareWithDefault("sid",this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');var b=[];b.push(new a.Integer({value:this.version}));this.sid instanceof e["default"]?b.push(this.sid.toSchema()):b.push(this.sid);b.push(this.digestAlgorithm.toSchema());"signedAttrs"in this&&(f.compareWithDefault("signedAttrs",this.signedAttrs)===!1&&b.push(this.signedAttrs.toSchema()));b.push(this.signatureAlgorithm.toSchema());b.push(this.signature);"unsignedAttrs"in this&&(f.compareWithDefault("unsignedAttrs",this.unsignedAttrs)===!1&&b.push(this.unsignedAttrs.toSchema()));return new a.Sequence({value:b})};g.toJSON=function(){if(f.compareWithDefault("sid",this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');var b={version:this.version};this.sid instanceof a.Any||(b.sid=this.sid.toJSON());b.digestAlgorithm=this.digestAlgorithm.toJSON();f.compareWithDefault("signedAttrs",this.signedAttrs)===!1&&(b.signedAttrs=this.signedAttrs.toJSON());b.signatureAlgorithm=this.signatureAlgorithm.toJSON();b.signature=this.signature.toJSON();f.compareWithDefault("unsignedAttrs",this.unsignedAttrs)===!1&&(b.unsignedAttrs=this.unsignedAttrs.toJSON());return b};return f}();Ti["default"]=j}var Wi=!1;function Xi(){Wi||(Wi=!0,Vi());return Ui.exports}var Yi={},Zi={exports:Yi};function $i(){Object.defineProperty(Yi,"__esModule",{value:!0});Yi["default"]=void 0;var a=n(h()),c=i(),d=X(),e=l(ji()),f=l(fb()),j=l(Wa()),k=l(Md());function l(a){return a&&a.__esModule?a:{"default":a}}function m(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(m=function(a){return a?c:b})(a)}function n(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=m(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}n=function(){function h(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",h.defaultValues("version")),this.policy=c.getParametersValue(a,"policy",h.defaultValues("policy")),this.messageImprint=c.getParametersValue(a,"messageImprint",h.defaultValues("messageImprint")),this.serialNumber=c.getParametersValue(a,"serialNumber",h.defaultValues("serialNumber")),this.genTime=c.getParametersValue(a,"genTime",h.defaultValues("genTime")),"accuracy"in a&&(this.accuracy=c.getParametersValue(a,"accuracy",h.defaultValues("accuracy"))),"ordering"in a&&(this.ordering=c.getParametersValue(a,"ordering",h.defaultValues("ordering"))),"nonce"in a&&(this.nonce=c.getParametersValue(a,"nonce",h.defaultValues("nonce"))),"tsa"in a&&(this.tsa=c.getParametersValue(a,"tsa",h.defaultValues("tsa"))),"extensions"in a&&(this.extensions=c.getParametersValue(a,"extensions",h.defaultValues("extensions"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(b){switch(b){case"version":return 0;case"policy":return"";case"messageImprint":return new e["default"]();case"serialNumber":return new a.Integer();case"genTime":return new Date(0,0,0);case"accuracy":return new f["default"]();case"ordering":return!1;case"nonce":return new a.Integer();case"tsa":return new j["default"]();case"extensions":return[];default:throw new Error("Invalid member name for TSTInfo class: "+b)}};h.compareWithDefault=function(a,b){switch(a){case"version":case"policy":case"genTime":case"ordering":return b===h.defaultValues(a);case"messageImprint":return e["default"].compareWithDefault("hashAlgorithm",b.hashAlgorithm)&&e["default"].compareWithDefault("hashedMessage",b.hashedMessage);case"serialNumber":case"nonce":return b.isEqual(h.defaultValues(a));case"accuracy":return f["default"].compareWithDefault("seconds",b.seconds)&&f["default"].compareWithDefault("millis",b.millis)&&f["default"].compareWithDefault("micros",b.micros);case"tsa":return j["default"].compareWithDefault("type",b.type)&&j["default"].compareWithDefault("value",b.value);case"extensions":return b.length===0;default:throw new Error("Invalid member name for TSTInfo class: "+a)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"TSTInfo",value:[new a.Integer({name:b.version||"TSTInfo.version"}),new a.ObjectIdentifier({name:b.policy||"TSTInfo.policy"}),e["default"].schema(b.messageImprint||{names:{blockName:"TSTInfo.messageImprint"}}),new a.Integer({name:b.serialNumber||"TSTInfo.serialNumber"}),new a.GeneralizedTime({name:b.genTime||"TSTInfo.genTime"}),f["default"].schema(b.accuracy||{names:{blockName:"TSTInfo.accuracy"}}),new a.Boolean({name:b.ordering||"TSTInfo.ordering",optional:!0}),new a.Integer({name:b.nonce||"TSTInfo.nonce",optional:!0}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[j["default"].schema(b.tsa||{names:{blockName:"TSTInfo.tsa"}})]}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new a.Repeated({name:b.extensions||"TSTInfo.extensions",value:k["default"].schema(b.extension||{})})]})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["TSTInfo.version","TSTInfo.policy","TSTInfo.messageImprint","TSTInfo.serialNumber","TSTInfo.genTime","TSTInfo.accuracy","TSTInfo.ordering","TSTInfo.nonce","TSTInfo.tsa","TSTInfo.extensions"]);b=a.compareSchema(b,b,h.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for TSTInfo");this.version=b.result["TSTInfo.version"].valueBlock.valueDec;this.policy=b.result["TSTInfo.policy"].valueBlock.toString();this.messageImprint=new e["default"]({schema:b.result["TSTInfo.messageImprint"]});this.serialNumber=b.result["TSTInfo.serialNumber"];this.genTime=b.result["TSTInfo.genTime"].toDate();"TSTInfo.accuracy"in b.result&&(this.accuracy=new f["default"]({schema:b.result["TSTInfo.accuracy"]}));"TSTInfo.ordering"in b.result&&(this.ordering=b.result["TSTInfo.ordering"].valueBlock.value);"TSTInfo.nonce"in b.result&&(this.nonce=b.result["TSTInfo.nonce"]);"TSTInfo.tsa"in b.result&&(this.tsa=new j["default"]({schema:b.result["TSTInfo.tsa"]}));"TSTInfo.extensions"in b.result&&(this.extensions=Array.from(b.result["TSTInfo.extensions"],function(a){return new k["default"]({schema:a})}))};i.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));b.push(new a.ObjectIdentifier({value:this.policy}));b.push(this.messageImprint.toSchema());b.push(this.serialNumber);b.push(new a.GeneralizedTime({valueDate:this.genTime}));"accuracy"in this&&b.push(this.accuracy.toSchema());"ordering"in this&&b.push(new a.Boolean({value:this.ordering}));"nonce"in this&&b.push(this.nonce);"tsa"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.tsa.toSchema()]}));"extensions"in this&&b.push(new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.extensions,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};i.toJSON=function(){var a={version:this.version,policy:this.policy,messageImprint:this.messageImprint.toJSON(),serialNumber:this.serialNumber.toJSON(),genTime:this.genTime};"accuracy"in this&&(a.accuracy=this.accuracy.toJSON());"ordering"in this&&(a.ordering=this.ordering);"nonce"in this&&(a.nonce=this.nonce.toJSON());"tsa"in this&&(a.tsa=this.tsa.toJSON());"extensions"in this&&(a.extensions=Array.from(this.extensions,function(a){return a.toJSON()}));return a};i.verify=function(a){var e=this;a===void 0&&(a={});var f=(g||(g=b("Promise"))).resolve(),h,i=null,j=null,k=d.getCrypto();if(typeof k==="undefined")return(g||(g=b("Promise"))).reject("Unable to create WebCrypto object");if("data"in a)h=a.data;else return(g||(g=b("Promise"))).reject('"data" is a mandatory attribute for TST_INFO verification');"notBefore"in a&&(i=a.notBefore);"notAfter"in a&&(j=a.notAfter);if(i!==null&&this.genTime<i)return(g||(g=b("Promise"))).reject("Generation time for TSTInfo object is less than notBefore value");if(j!==null&&this.genTime>j)return(g||(g=b("Promise"))).reject("Generation time for TSTInfo object is more than notAfter value");var l=d.getAlgorithmByOID(this.messageImprint.hashAlgorithm.algorithmId);if("name"in l===!1)return(g||(g=b("Promise"))).reject("Unsupported signature algorithm: "+this.messageImprint.hashAlgorithm.algorithmId);f=f.then(function(){return k.digest(l.name,new Uint8Array(h))}).then(function(a){return c.isEqualBuffer(a,e.messageImprint.hashedMessage.valueBlock.valueHex)});return f};return h}();Yi["default"]=n}var aj=!1;function bj(){aj||(aj=!0,$i());return Zi.exports}var cj={},dj={exports:cj};function ej(){Object.defineProperty(cj,"__esModule",{value:!0});cj["default"]=void 0;var a=w(h()),c=i(),d=X(),e=u(o()),f=u(Vh()),j=u(Wd()),k=u(ue()),l=u(cf()),m=u(Xi()),n=u(Ye()),p=u(hf()),q=u(sf()),r=u(bj()),s=u(Bh()),t=u(Gh());function u(a){return a&&a.__esModule?a:{"default":a}}function v(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(v=function(a){return a?c:b})(a)}function w(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=v(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function x(a,c,d,e,f,h,i){try{var j=a[h](i),k=j.value}catch(a){d(a);return}j.done?c(k):(g||(g=b("Promise"))).resolve(k).then(e,f)}function y(a){return function(){var c=this,d=arguments;return new(g||(g=b("Promise")))(function(b,e){var f=a.apply(c,d);function g(a){x(f,b,e,g,h,"next",a)}function h(a){x(f,b,e,g,h,"throw",a)}g(void 0)})}}function z(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=A(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function A(a,b){if(!a)return;if(typeof a==="string")return B(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return B(a,b)}function B(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}w=function(){function h(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",h.defaultValues("version")),this.digestAlgorithms=c.getParametersValue(a,"digestAlgorithms",h.defaultValues("digestAlgorithms")),this.encapContentInfo=c.getParametersValue(a,"encapContentInfo",h.defaultValues("encapContentInfo")),"certificates"in a&&(this.certificates=c.getParametersValue(a,"certificates",h.defaultValues("certificates"))),"crls"in a&&(this.crls=c.getParametersValue(a,"crls",h.defaultValues("crls"))),"ocsps"in a&&(this.ocsps=c.getParametersValue(a,"ocsps",h.defaultValues("ocsps"))),this.signerInfos=c.getParametersValue(a,"signerInfos",h.defaultValues("signerInfos")),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(a){switch(a){case"version":return 0;case"digestAlgorithms":return[];case"encapContentInfo":return new f["default"]();case"certificates":return[];case"crls":return[];case"ocsps":return[];case"signerInfos":return[];default:throw new Error("Invalid member name for SignedData class: "+a)}};h.compareWithDefault=function(a,b){switch(a){case"version":return b===h.defaultValues("version");case"encapContentInfo":return new f["default"]();case"digestAlgorithms":case"certificates":case"crls":case"ocsps":case"signerInfos":return b.length===0;default:throw new Error("Invalid member name for SignedData class: "+a)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});"optional"in b===!1&&(b.optional=!1);return new a.Sequence({name:b.blockName||"SignedData",optional:b.optional,value:[new a.Integer({name:b.version||"SignedData.version"}),new a.Set({value:[new a.Repeated({name:b.digestAlgorithms||"SignedData.digestAlgorithms",value:e["default"].schema()})]}),f["default"].schema(b.encapContentInfo||{names:{blockName:"SignedData.encapContentInfo"}}),new a.Constructed({name:b.certificates||"SignedData.certificates",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:n["default"].schema().valueBlock.value}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:p["default"].schema(b.crls||{names:{crls:"SignedData.crls"}}).valueBlock.value}),new a.Set({value:[new a.Repeated({name:b.signerInfos||"SignedData.signerInfos",value:m["default"].schema()})]})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["SignedData.version","SignedData.digestAlgorithms","SignedData.encapContentInfo","SignedData.certificates","SignedData.crls","SignedData.signerInfos"]);b=a.compareSchema(b,b,h.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for SignedData");this.version=b.result["SignedData.version"].valueBlock.valueDec;"SignedData.digestAlgorithms"in b.result&&(this.digestAlgorithms=Array.from(b.result["SignedData.digestAlgorithms"],function(a){return new e["default"]({schema:a})}));this.encapContentInfo=new f["default"]({schema:b.result["SignedData.encapContentInfo"]});if("SignedData.certificates"in b.result){var d=new n["default"]({schema:new a.Set({value:b.result["SignedData.certificates"].valueBlock.value})});this.certificates=d.certificates.slice(0)}"SignedData.crls"in b.result&&(this.crls=Array.from(b.result["SignedData.crls"],function(a){if(a.idBlock.tagClass===1)return new k["default"]({schema:a});a.idBlock.tagClass=1;a.idBlock.tagNumber=16;return new l["default"]({schema:a})}));"SignedData.signerInfos"in b.result&&(this.signerInfos=Array.from(b.result["SignedData.signerInfos"],function(a){return new m["default"]({schema:a})}))};i.toSchema=function(b){b===void 0&&(b=!1);var c=[];c.push(new a.Integer({value:this.version}));c.push(new a.Set({value:Array.from(this.digestAlgorithms,function(a){return a.toSchema(b)})}));c.push(this.encapContentInfo.toSchema());if("certificates"in this){var d=new n["default"]({certificates:this.certificates});d=d.toSchema();c.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:d.valueBlock.value}))}"crls"in this&&c.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.crls,function(a){if(a instanceof l["default"]){var c=a.toSchema(b);c.idBlock.tagClass=3;c.idBlock.tagNumber=1;return c}return a.toSchema(b)})}));c.push(new a.Set({value:Array.from(this.signerInfos,function(a){return a.toSchema(b)})}));return new a.Sequence({value:c})};i.toJSON=function(){var a={version:this.version,digestAlgorithms:Array.from(this.digestAlgorithms,function(a){return a.toJSON()}),encapContentInfo:this.encapContentInfo.toJSON()};"certificates"in this&&(a.certificates=Array.from(this.certificates,function(a){return a.toJSON()}));"crls"in this&&(a.crls=Array.from(this.crls,function(a){return a.toJSON()}));a.signerInfos=Array.from(this.signerInfos,function(a){return a.toJSON()});return a};i.verify=function(e){var f=this;e=e===void 0?{}:e;var h=e.signer,i=h===void 0?-1:h;h=e.data;var k=h===void 0?new ArrayBuffer(0):h;h=e.trustedCerts;var l=h===void 0?[]:h;h=e.checkDate;var m=h===void 0?new Date():h;h=e.checkChain;h=h===void 0?!1:h;var n=e.extendedMode,o=n===void 0?!1:n;n=e.passedWhenNotRevValues;var p=n===void 0?!1:n;n=e.findOrigin;var u=n===void 0?null:n;n=e.findIssuer;var v=n===void 0?null:n,w=this;e=(g||(g=b("Promise"))).resolve();var x=new ArrayBuffer(0),A="",B={},C=null,D=[],E=d.getEngine(),F=d.getCrypto();if(typeof F==="undefined")return(g||(g=b("Promise"))).reject("Unable to create WebCrypto object");if(i===-1)return o?(g||(g=b("Promise"))).reject({date:m,code:1,message:"Unable to get signer index from input parameters",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):(g||(g=b("Promise"))).reject("Unable to get signer index from input parameters");if("certificates"in this===!1)return o?(g||(g=b("Promise"))).reject({date:m,code:2,message:"No certificates attached to this signed data",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):(g||(g=b("Promise"))).reject("No certificates attached to this signed data");this.signerInfos[i].sid instanceof q["default"]?e=e.then(function(){var a=z(f.certificates),c;try{for(a.s();!(c=a.n()).done;){c=c.value;if(c instanceof j["default"]===!1)continue;if(c.issuer.isEqual(f.signerInfos[i].sid.issuer)&&c.serialNumber.isEqual(f.signerInfos[i].sid.serialNumber)){B=c;return(g||(g=b("Promise"))).resolve()}}}catch(b){a.e(b)}finally{a.f()}return o?(g||(g=b("Promise"))).reject({date:m,code:3,message:"Unable to find signer certificate",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}):(g||(g=b("Promise"))).reject("Unable to find signer certificate")}):e=y(b("regeneratorRuntime").mark(function a(){var d,e,f,h,k,l;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:a.prev=0,d=w.signerInfos[i].sid,e=d.idBlock.isConstructed?d.valueBlock.value[0].valueBlock.valueHex:d.valueBlock.valueHex,f=z(w.certificates),a.prev=4,f.s();case 6:if((h=f.n()).done){a.next=18;break}k=h.value;if(k instanceof j["default"]){a.next=10;break}return a.abrupt("continue",16);case 10:a.next=12;return F.digest({name:"sha-1"},new Uint8Array(k.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex));case 12:l=a.sent;if(!c.isEqualBuffer(l,e)){a.next=16;break}B=k;return a.abrupt("break",18);case 16:a.next=6;break;case 18:a.next=23;break;case 20:a.prev=20,a.t0=a["catch"](4),f.e(a.t0);case 23:a.prev=23;f.f();return a.finish(23);case 26:if(B){a.next=28;break}throw new Error("Signing certificate not found");case 28:a.next=35;break;case 30:a.prev=30;a.t1=a["catch"](0);if(!o){a.next=34;break}return a.abrupt("return",(g||(g=b("Promise"))).reject({date:m,code:3,message:"Unable to find signer certificate",signatureVerified:null,signerCertificate:null,signerCertificateVerified:null}));case 34:throw"Unable to find signer certificate";case 35:case"end":return a.stop()}},a,this,[[0,30],[4,20,23,26]])}))();e=e.then(function(){if(f.encapContentInfo.eContentType==="1.2.840.113549.1.9.16.1.4"){if("eContent"in f.encapContentInfo===!1)return!1;var c=a.fromBER(f.encapContentInfo.eContent.valueBlock.valueHex),d;try{d=new r["default"]({schema:c.result})}catch(a){return!1}m=d.genTime;C=d.serialNumber.valueBlock.valueHex;return k.byteLength===0?o?(g||(g=b("Promise"))).reject({date:m,code:4,message:"Missed detached data input array",signatureVerified:null,signerCertificate:B,signerCertificateVerified:null}):(g||(g=b("Promise"))).reject("Missed detached data input array"):d.verify({data:k})}return!0});function G(a){if(a.issuer.isEqual(B.issuer)===!0&&a.serialNumber.isEqual(B.serialNumber)===!0)return null;var b=!1;if("extensions"in a){var c=z(a.extensions),d;try{for(c.s();!(d=c.n()).done;){d=d.value;d.extnID==="2.5.29.19"&&("cA"in d.parsedValue&&(d.parsedValue.cA===!0&&(b=!0)))}}catch(a){c.e(a)}finally{c.f()}}return b?a:null}h&&(e=e.then(function(a){if(a===!1)return!1;a=Array.from(f.certificates.filter(function(a){return a instanceof j["default"]}),function(a){return G(a)});a={checkDate:m,certs:Array.from(a.filter(function(a){return a!==null})),trustedCerts:l};v!==null&&(a.findIssuer=v);u!==null&&(a.findOrigin=u);a=new s["default"](a);a.certs.push(B);if("crls"in f){var c=z(f.crls),d;try{for(c.s();!(d=c.n()).done;){d=d.value;"thisUpdate"in d?a.crls.push(d):d.otherRevInfoFormat==="1.3.6.1.5.5.7.48.1.1"&&a.ocsps.push(new t["default"]({schema:d.otherRevInfo}))}}catch(a){c.e(a)}finally{c.f()}}"ocsps"in f&&(d=a.ocsps).push.apply(d,f.ocsps);return a.verify({passedWhenNotRevValues:p}).then(function(a){"certificatePath"in a&&(D=a.certificatePath);if(a.result===!0)return(g||(g=b("Promise"))).resolve(!0);return o?(g||(g=b("Promise"))).reject({date:m,code:5,message:"Validation of signer's certificate failed: "+a.resultMessage,signatureVerified:null,signerCertificate:B,signerCertificateVerified:!1}):(g||(g=b("Promise"))).reject("Validation of signer's certificate failed")},function(a){return o?(g||(g=b("Promise"))).reject({date:m,code:5,message:"Validation of signer's certificate failed with error: "+(a instanceof Object?a.resultMessage:a),signatureVerified:null,signerCertificate:B,signerCertificateVerified:!1}):(g||(g=b("Promise"))).reject("Validation of signer's certificate failed with error: "+(a instanceof Object?a.resultMessage:a))})}));e=e.then(function(a){if(a===!1)return!1;a=d.getAlgorithmByOID(f.signerInfos[i].digestAlgorithm.algorithmId);if("name"in a===!1)return o?(g||(g=b("Promise"))).reject({date:m,code:7,message:"Unsupported signature algorithm: "+f.signerInfos[i].digestAlgorithm.algorithmId,signatureVerified:null,signerCertificate:B,signerCertificateVerified:!0}):(g||(g=b("Promise"))).reject("Unsupported signature algorithm: "+f.signerInfos[i].digestAlgorithm.algorithmId);A=a.name;return!0});e=e.then(function(a){if(a===!1)return!1;if("eContent"in f.encapContentInfo)if(f.encapContentInfo.eContent.idBlock.tagClass===1&&f.encapContentInfo.eContent.idBlock.tagNumber===4)if(f.encapContentInfo.eContent.idBlock.isConstructed===!1)k=f.encapContentInfo.eContent.valueBlock.valueHex;else{a=z(f.encapContentInfo.eContent.valueBlock.value);var d;try{for(a.s();!(d=a.n()).done;){d=d.value;k=c.utilConcatBuf(k,d.valueBlock.valueHex)}}catch(b){a.e(b)}finally{a.f()}}else k=f.encapContentInfo.eContent.valueBlock.valueBeforeDecode;else if(k.byteLength===0)return o?(g||(g=b("Promise"))).reject({date:m,code:8,message:"Missed detached data input array",signatureVerified:null,signerCertificate:B,signerCertificateVerified:!0}):(g||(g=b("Promise"))).reject("Missed detached data input array");if("signedAttrs"in f.signerInfos[i]){d=!1;a=!1;var e=z(f.signerInfos[i].signedAttrs.attributes),h;try{for(e.s();!(h=e.n()).done;){h=h.value;h.type==="1.2.840.113549.1.9.3"&&(d=!0);h.type==="1.2.840.113549.1.9.4"&&(a=!0,x=h.values[0].valueBlock.valueHex);if(d&&a)break}}catch(a){e.e(a)}finally{e.f()}if(d===!1)return o?(g||(g=b("Promise"))).reject({date:m,code:9,message:'Attribute "content-type" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:B,signerCertificateVerified:!0}):(g||(g=b("Promise"))).reject('Attribute "content-type" is a mandatory attribute for "signed attributes"');if(a===!1)return o?(g||(g=b("Promise"))).reject({date:m,code:10,message:'Attribute "message-digest" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:B,signerCertificateVerified:!0}):(g||(g=b("Promise"))).reject('Attribute "message-digest" is a mandatory attribute for "signed attributes"')}return!0});e=e.then(function(a){if(a===!1)return!1;return"signedAttrs"in f.signerInfos[i]?F.digest(A,new Uint8Array(k)):!0}).then(function(a){if(a===!1)return!1;if("signedAttrs"in f.signerInfos[i]){if(c.isEqualBuffer(a,x)){k=f.signerInfos[i].signedAttrs.encodedValue;return!0}return!1}return!0});e=e.then(function(a){return a===!1?!1:E.subtle.verifyWithPublicKey(k,f.signerInfos[i].signature,B.subjectPublicKeyInfo,B.signatureAlgorithm,A)});e=e.then(function(a){return o?{date:m,code:14,message:"",signatureVerified:a,signerCertificate:B,timestampSerial:C,signerCertificateVerified:!0,certificatePath:D}:a},function(a){return o?"code"in a?(g||(g=b("Promise"))).reject(a):(g||(g=b("Promise"))).reject({date:m,code:15,message:"Error during verification: "+a.message,signatureVerified:null,signerCertificate:B,timestampSerial:C,signerCertificateVerified:!0}):(g||(g=b("Promise"))).reject(a)});return e};i.sign=function(f,h,i,j){var k=this;i===void 0&&(i="SHA-1");j===void 0&&(j=new ArrayBuffer(0));if(typeof f==="undefined")return(g||(g=b("Promise"))).reject("Need to provide a private key for signing");var l=(g||(g=b("Promise"))).resolve(),m,n=d.getEngine(),o=d.getOIDByAlgorithm({name:i});if(o==="")return(g||(g=b("Promise"))).reject("Unsupported hash algorithm: "+i);this.digestAlgorithms.filter(function(a){return a.algorithmId===o}).length===0&&this.digestAlgorithms.push(new e["default"]({algorithmId:o,algorithmParams:new a.Null()}));this.signerInfos[h].digestAlgorithm=new e["default"]({algorithmId:o,algorithmParams:new a.Null()});l=l.then(function(){return n.subtle.getSignatureParameters(f,i)});l=l.then(function(a){m=a.parameters,k.signerInfos[h].signatureAlgorithm=a.signatureAlgorithm});l=l.then(function(){if("signedAttrs"in k.signerInfos[h])if(k.signerInfos[h].signedAttrs.encodedValue.byteLength!==0)j=k.signerInfos[h].signedAttrs.encodedValue;else{j=k.signerInfos[h].signedAttrs.toSchema(!0).toBER(!1);var a=new Uint8Array(j);a[0]=49}else if("eContent"in k.encapContentInfo)if(k.encapContentInfo.eContent.idBlock.tagClass===1&&k.encapContentInfo.eContent.idBlock.tagNumber===4)if(k.encapContentInfo.eContent.idBlock.isConstructed===!1)j=k.encapContentInfo.eContent.valueBlock.valueHex;else{a=z(k.encapContentInfo.eContent.valueBlock.value);var d;try{for(a.s();!(d=a.n()).done;){d=d.value;j=c.utilConcatBuf(j,d.valueBlock.valueHex)}}catch(b){a.e(b)}finally{a.f()}}else j=k.encapContentInfo.eContent.valueBlock.valueBeforeDecode;else if(j.byteLength===0)return(g||(g=b("Promise"))).reject("Missed detached data input array");return(g||(g=b("Promise"))).resolve()});l=l.then(function(){return n.subtle.signWithPrivateKey(j,f,m)});l=l.then(function(b){k.signerInfos[h].signature=new a.OctetString({valueHex:b});return b});return l};return h}();cj["default"]=w}var fj=!1;function gj(){fj||(fj=!0,ej());return dj.exports}var hj={},ij={exports:hj};function jj(){Object.defineProperty(hj,"__esModule",{value:!0});hj["default"]=void 0;var a=v(h()),c=i(),d=X(),e=t(pb()),f=t(ei()),j=t(Qh()),k=t(o()),l=t(gj()),m=t(Vh()),n=t(I()),p=t(Xi()),q=t(sf()),r=t(Si()),s=t(hh());function t(a){return a&&a.__esModule?a:{"default":a}}function u(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(u=function(a){return a?c:b})(a)}function v(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=u(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function w(a,b){var c=typeof Symbol!=="undefined"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=x(a))||b&&a&&typeof a.length==="number"){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e=!0,f=!1,g;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0,g=a},f:function(){try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}}}function x(a,b){if(!a)return;if(typeof a==="string")return y(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);c==="Object"&&a.constructor&&(c=a.constructor.name);if(c==="Map"||c==="Set")return Array.from(a);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return y(a,b)}function y(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}v=function(){function h(a){a===void 0&&(a={}),this.version=c.getParametersValue(a,"version",h.defaultValues("version")),this.authSafe=c.getParametersValue(a,"authSafe",h.defaultValues("authSafe")),"macData"in a&&(this.macData=c.getParametersValue(a,"macData",h.defaultValues("macData"))),"parsedValue"in a&&(this.parsedValue=c.getParametersValue(a,"parsedValue",h.defaultValues("parsedValue"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(a){switch(a){case"version":return 3;case"authSafe":return new e["default"]();case"macData":return new f["default"]();case"parsedValue":return{};default:throw new Error("Invalid member name for PFX class: "+a)}};h.compareWithDefault=function(a,b){switch(a){case"version":return b===h.defaultValues(a);case"authSafe":return e["default"].compareWithDefault("contentType",b.contentType)&&e["default"].compareWithDefault("content",b.content);case"macData":return f["default"].compareWithDefault("mac",b.mac)&&f["default"].compareWithDefault("macSalt",b.macSalt)&&f["default"].compareWithDefault("iterations",b.iterations);case"parsedValue":return b instanceof Object&&Object.keys(b).length===0;default:throw new Error("Invalid member name for PFX class: "+a)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"",value:[new a.Integer({name:b.version||"version"}),e["default"].schema(b.authSafe||{names:{blockName:"authSafe"}}),f["default"].schema(b.macData||{names:{blockName:"macData",optional:!0}})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["version","authSafe","macData"]);b=a.compareSchema(b,b,h.schema({names:{version:"version",authSafe:{names:{blockName:"authSafe"}},macData:{names:{blockName:"macData"}}}}));if(b.verified===!1)throw new Error("Object's schema was not verified against input data for PFX");this.version=b.result.version.valueBlock.valueDec;this.authSafe=new e["default"]({schema:b.result.authSafe});"macData"in b.result&&(this.macData=new f["default"]({schema:b.result.macData}))};i.toSchema=function(){var b=[new a.Integer({value:this.version}),this.authSafe.toSchema()];"macData"in this&&b.push(this.macData.toSchema());return new a.Sequence({value:b})};i.toJSON=function(){var a={version:this.version,authSafe:this.authSafe.toJSON()};"macData"in this&&(a.macData=this.macData.toJSON());return a};i.makeInternalValues=function(c){var h=this;c===void 0&&(c={});if(c instanceof Object===!1)return(g||(g=b("Promise"))).reject('The "parameters" must has "Object" type');if("parsedValue"in this===!1)return(g||(g=b("Promise"))).reject('Please call "parseValues" function first in order to make "parsedValue" data');if("integrityMode"in this.parsedValue===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "integrityMode" inside "parsedValue"');var i=(g||(g=b("Promise"))).resolve(),o=d.getCrypto();if(typeof o==="undefined")return(g||(g=b("Promise"))).reject("Unable to create WebCrypto object");if("authenticatedSafe"in this.parsedValue===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "authenticatedSafe" in "parsedValue"');switch(this.parsedValue.integrityMode){case 0:if("iterations"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "iterations"');if("pbkdf2HashAlgorithm"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "pbkdf2HashAlgorithm"');if("hmacHashAlgorithm"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "hmacHashAlgorithm"');if("password"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "password"');var s=new ArrayBuffer(64),t=new Uint8Array(s);d.getRandomValues(t);var u=this.parsedValue.authenticatedSafe.toSchema().toBER(!1);this.authSafe=new e["default"]({contentType:"1.2.840.113549.1.7.1",content:new a.OctetString({valueHex:u})});var v=d.getEngine();if("stampDataWithPassword"in v.subtle===!1)return(g||(g=b("Promise"))).reject('No support for "stampDataWithPassword" in current engine "'+v.name+'"');i=i.then(function(){return v.subtle.stampDataWithPassword({password:c.password,hashAlgorithm:c.hmacHashAlgorithm,salt:s,iterationCount:c.iterations,contentToStamp:u})});i=i.then(function(b){h.macData=new f["default"]({mac:new j["default"]({digestAlgorithm:new k["default"]({algorithmId:d.getOIDByAlgorithm({name:c.hmacHashAlgorithm})}),digest:new a.OctetString({valueHex:b})}),macSalt:new a.OctetString({valueHex:s}),iterations:c.iterations})},function(a){return(g||(g=b("Promise"))).reject(a)});break;case 1:if("signingCertificate"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "signingCertificate"');if("privateKey"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "privateKey"');if("hashAlgorithm"in c===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "hashAlgorithm"');var w=this.parsedValue.authenticatedSafe.toSchema().toBER(!1),x=new l["default"]({version:1,encapContentInfo:new m["default"]({eContentType:"1.2.840.113549.1.7.1",eContent:new a.OctetString({valueHex:w})}),certificates:[c.signingCertificate]});i=i.then(function(){return o.digest({name:c.hashAlgorithm},new Uint8Array(w))});i=i.then(function(b){var d=[];d.push(new n["default"]({type:"1.2.840.113549.1.9.3",values:[new a.ObjectIdentifier({value:"1.2.840.113549.1.7.1"})]}));d.push(new n["default"]({type:"1.2.840.113549.1.9.5",values:[new a.UTCTime({valueDate:new Date()})]}));d.push(new n["default"]({type:"1.2.840.113549.1.9.4",values:[new a.OctetString({valueHex:b})]}));x.signerInfos.push(new p["default"]({version:1,sid:new q["default"]({issuer:c.signingCertificate.issuer,serialNumber:c.signingCertificate.serialNumber}),signedAttrs:new r["default"]({type:0,attributes:d})}))},function(a){return(g||(g=b("Promise"))).reject("Error during making digest for message: "+a)});i=i.then(function(){return x.sign(c.privateKey,0,c.hashAlgorithm)});i=i.then(function(){h.authSafe=new e["default"]({contentType:"1.2.840.113549.1.7.2",content:x.toSchema(!0)})},function(a){return(g||(g=b("Promise"))).reject("Error during making signature: "+a)});break;default:return(g||(g=b("Promise"))).reject('Parameter "integrityMode" has unknown value: '+c.integrityMode)}return i};i.parseInternalValues=function(e){var f=this;if(e instanceof Object===!1)return(g||(g=b("Promise"))).reject('The "parameters" must has "Object" type');"checkIntegrity"in e===!1&&(e.checkIntegrity=!0);var h=(g||(g=b("Promise"))).resolve(),i=d.getCrypto();if(typeof i==="undefined")return(g||(g=b("Promise"))).reject("Unable to create WebCrypto object");this.parsedValue={};switch(this.authSafe.contentType){case"1.2.840.113549.1.7.1":if("password"in e===!1)return(g||(g=b("Promise"))).reject('Absent mandatory parameter "password"');this.parsedValue.integrityMode=0;if(this.authSafe.content instanceof a.OctetString===!1)return(g||(g=b("Promise"))).reject('Wrong type of "this.authSafe.content"');var j=new ArrayBuffer(0);if(this.authSafe.content.valueBlock.isConstructed){i=w(this.authSafe.content.valueBlock.value);var k;try{for(i.s();!(k=i.n()).done;){k=k.value;j=c.utilConcatBuf(j,k.valueBlock.valueHex)}}catch(a){i.e(a)}finally{i.f()}}else j=this.authSafe.content.valueBlock.valueHex;k=a.fromBER(j);if(k.offset===-1)return(g||(g=b("Promise"))).reject('Error during parsing of ASN.1 data inside "this.authSafe.content"');this.parsedValue.authenticatedSafe=new s["default"]({schema:k.result});if(e.checkIntegrity){if("macData"in this===!1)return(g||(g=b("Promise"))).reject('Absent "macData" value, can not check PKCS#12 data integrity');var m=d.getAlgorithmByOID(this.macData.mac.digestAlgorithm.algorithmId);if("name"in m===!1)return(g||(g=b("Promise"))).reject("Unsupported digest algorithm: "+this.macData.mac.digestAlgorithm.algorithmId);var n=d.getEngine();h=h.then(function(){return n.subtle.verifyDataStampedWithPassword({password:e.password,hashAlgorithm:m.name,salt:f.macData.macSalt.valueBlock.valueHex,iterationCount:f.macData.iterations,contentToVerify:j,signatureToVerify:f.macData.mac.digest.valueBlock.valueHex})});h=h.then(function(a){return a===!1?(g||(g=b("Promise"))).reject("Integrity for the PKCS#12 data is broken!"):(g||(g=b("Promise"))).resolve()},function(a){return(g||(g=b("Promise"))).reject(a)})}break;case"1.2.840.113549.1.7.2":this.parsedValue.integrityMode=1;var o=new l["default"]({schema:this.authSafe.content});if("eContent"in o.encapContentInfo===!1)return(g||(g=b("Promise"))).reject('Absent of attached data in "cmsSigned.encapContentInfo"');if(o.encapContentInfo.eContent instanceof a.OctetString===!1)return(g||(g=b("Promise"))).reject('Wrong type of "cmsSigned.encapContentInfo.eContent"');i=new ArrayBuffer(0);if(o.encapContentInfo.eContent.idBlock.isConstructed===!1)i=o.encapContentInfo.eContent.valueBlock.valueHex;else for(k=0;k<o.encapContentInfo.eContent.valueBlock.value.length;k++)i=c.utilConcatBuf(i,o.encapContentInfo.eContent.valueBlock.value[k].valueBlock.valueHex);k=a.fromBER(i);if(k.offset===-1)return(g||(g=b("Promise"))).reject('Error during parsing of ASN.1 data inside "this.authSafe.content"');this.parsedValue.authenticatedSafe=new s["default"]({schema:k.result});h=h.then(function(){return o.verify({signer:0,checkChain:!1})}).then(function(a){return a===!1?(g||(g=b("Promise"))).reject("Integrity for the PKCS#12 data is broken!"):(g||(g=b("Promise"))).resolve()},function(a){return(g||(g=b("Promise"))).reject("Error during integrity verification: "+a)});break;default:return(g||(g=b("Promise"))).reject('Incorrect value for "this.authSafe.contentType": '+this.authSafe.contentType)}return h.then(function(){return f},function(a){return(g||(g=b("Promise"))).reject("Error during parsing: "+a)})};return h}();hj["default"]=v}var kj=!1;function lj(){kj||(kj=!0,jj());return ij.exports}var mj={},nj={exports:mj};function oj(){Object.defineProperty(mj,"__esModule",{value:!0});mj["default"]=void 0;var a=d(h()),b=i();function c(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),d=new WeakMap();return(c=function(a){return a?d:b})(a)}function d(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=c(b);if(b&&b.has(a))return b.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}d["default"]=a;b&&b.set(a,d);return d}d=function(){function c(a){a===void 0&&(a={}),this.status=b.getParametersValue(a,"status",c.defaultValues("status")),"statusStrings"in a&&(this.statusStrings=b.getParametersValue(a,"statusStrings",c.defaultValues("statusStrings"))),"failInfo"in a&&(this.failInfo=b.getParametersValue(a,"failInfo",c.defaultValues("failInfo"))),"schema"in a&&this.fromSchema(a.schema)}c.defaultValues=function(b){switch(b){case"status":return 2;case"statusStrings":return[];case"failInfo":return new a.BitString();default:throw new Error("Invalid member name for PKIStatusInfo class: "+b)}};c.compareWithDefault=function(a,b){switch(a){case"status":return b===c.defaultValues(a);case"statusStrings":return b.length===0;case"failInfo":return b.isEqual(c.defaultValues(a));default:throw new Error("Invalid member name for PKIStatusInfo class: "+a)}};c.schema=function(c){c===void 0&&(c={});c=b.getParametersValue(c,"names",{});return new a.Sequence({name:c.blockName||"",value:[new a.Integer({name:c.status||""}),new a.Sequence({optional:!0,value:[new a.Repeated({name:c.statusStrings||"",value:new a.Utf8String()})]}),new a.BitString({name:c.failInfo||"",optional:!0})]})};var d=c.prototype;d.fromSchema=function(d){b.clearProps(d,["status","statusStrings","failInfo"]);d=a.compareSchema(d,d,c.schema({names:{status:"status",statusStrings:"statusStrings",failInfo:"failInfo"}}));if(d.verified===!1)throw new Error("Object's schema was not verified against input data for PKIStatusInfo");var e=d.result.status;if(e.valueBlock.isHexOnly===!0||e.valueBlock.valueDec<0||e.valueBlock.valueDec>5)throw new Error('PKIStatusInfo "status" has invalid value');this.status=e.valueBlock.valueDec;"statusStrings"in d.result&&(this.statusStrings=d.result.statusStrings);"failInfo"in d.result&&(this.failInfo=d.result.failInfo)};d.toSchema=function(){var b=[];b.push(new a.Integer({value:this.status}));"statusStrings"in this&&b.push(new a.Sequence({optional:!0,value:this.statusStrings}));"failInfo"in this&&b.push(this.failInfo);return new a.Sequence({value:b})};d.toJSON=function(){var a={status:this.status};"statusStrings"in this&&(a.statusStrings=Array.from(this.statusStrings,function(a){return a.toJSON()}));"failInfo"in this&&(a.failInfo=this.failInfo.toJSON());return a};return c}();mj["default"]=d}var pj=!1;function qj(){pj||(pj=!0,oj());return nj.exports}var rj={},sj={exports:rj};function tj(){Object.defineProperty(rj,"__esModule",{value:!0});rj["default"]=void 0;var a=g(h()),b=i(),c=e(ji()),d=e(Md());function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function g(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}g=function(){function e(a){a===void 0&&(a={}),this.version=b.getParametersValue(a,"version",e.defaultValues("version")),this.messageImprint=b.getParametersValue(a,"messageImprint",e.defaultValues("messageImprint")),"reqPolicy"in a&&(this.reqPolicy=b.getParametersValue(a,"reqPolicy",e.defaultValues("reqPolicy"))),"nonce"in a&&(this.nonce=b.getParametersValue(a,"nonce",e.defaultValues("nonce"))),"certReq"in a&&(this.certReq=b.getParametersValue(a,"certReq",e.defaultValues("certReq"))),"extensions"in a&&(this.extensions=b.getParametersValue(a,"extensions",e.defaultValues("extensions"))),"schema"in a&&this.fromSchema(a.schema)}e.defaultValues=function(b){switch(b){case"version":return 0;case"messageImprint":return new c["default"]();case"reqPolicy":return"";case"nonce":return new a.Integer();case"certReq":return!1;case"extensions":return[];default:throw new Error("Invalid member name for TimeStampReq class: "+b)}};e.compareWithDefault=function(a,b){switch(a){case"version":case"reqPolicy":case"certReq":return b===e.defaultValues(a);case"messageImprint":return c["default"].compareWithDefault("hashAlgorithm",b.hashAlgorithm)&&c["default"].compareWithDefault("hashedMessage",b.hashedMessage);case"nonce":return b.isEqual(e.defaultValues(a));case"extensions":return b.length===0;default:throw new Error("Invalid member name for TimeStampReq class: "+a)}};e.schema=function(e){e===void 0&&(e={});e=b.getParametersValue(e,"names",{});return new a.Sequence({name:e.blockName||"TimeStampReq",value:[new a.Integer({name:e.version||"TimeStampReq.version"}),c["default"].schema(e.messageImprint||{names:{blockName:"TimeStampReq.messageImprint"}}),new a.ObjectIdentifier({name:e.reqPolicy||"TimeStampReq.reqPolicy",optional:!0}),new a.Integer({name:e.nonce||"TimeStampReq.nonce",optional:!0}),new a.Boolean({name:e.certReq||"TimeStampReq.certReq",optional:!0}),new a.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new a.Repeated({name:e.extensions||"TimeStampReq.extensions",value:d["default"].schema()})]})]})};var f=e.prototype;f.fromSchema=function(f){b.clearProps(f,["TimeStampReq.version","TimeStampReq.messageImprint","TimeStampReq.reqPolicy","TimeStampReq.nonce","TimeStampReq.certReq","TimeStampReq.extensions"]);f=a.compareSchema(f,f,e.schema());if(f.verified===!1)throw new Error("Object's schema was not verified against input data for TimeStampReq");this.version=f.result["TimeStampReq.version"].valueBlock.valueDec;this.messageImprint=new c["default"]({schema:f.result["TimeStampReq.messageImprint"]});"TimeStampReq.reqPolicy"in f.result&&(this.reqPolicy=f.result["TimeStampReq.reqPolicy"].valueBlock.toString());"TimeStampReq.nonce"in f.result&&(this.nonce=f.result["TimeStampReq.nonce"]);"TimeStampReq.certReq"in f.result&&(this.certReq=f.result["TimeStampReq.certReq"].valueBlock.value);"TimeStampReq.extensions"in f.result&&(this.extensions=Array.from(f.result["TimeStampReq.extensions"],function(a){return new d["default"]({schema:a})}))};f.toSchema=function(){var b=[];b.push(new a.Integer({value:this.version}));b.push(this.messageImprint.toSchema());"reqPolicy"in this&&b.push(new a.ObjectIdentifier({value:this.reqPolicy}));"nonce"in this&&b.push(this.nonce);"certReq"in this&&e.compareWithDefault("certReq",this.certReq)===!1&&b.push(new a.Boolean({value:this.certReq}));"extensions"in this&&b.push(new a.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.extensions,function(a){return a.toSchema()})}));return new a.Sequence({value:b})};f.toJSON=function(){var a={version:this.version,messageImprint:this.messageImprint.toJSON()};"reqPolicy"in this&&(a.reqPolicy=this.reqPolicy);"nonce"in this&&(a.nonce=this.nonce.toJSON());"certReq"in this&&e.compareWithDefault("certReq",this.certReq)===!1&&(a.certReq=this.certReq);"extensions"in this&&(a.extensions=Array.from(this.extensions,function(a){return a.toJSON()}));return a};return e}();rj["default"]=g}var uj=!1;function vj(){uj||(uj=!0,tj());return sj.exports}var wj={},xj={exports:wj};function yj(){Object.defineProperty(wj,"__esModule",{value:!0});wj["default"]=void 0;var a=l(h()),c=i(),d=j(qj()),e=j(pb()),f=j(gj());function j(a){return a&&a.__esModule?a:{"default":a}}function k(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(k=function(a){return a?c:b})(a)}function l(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=k(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}l=function(){function h(a){a===void 0&&(a={}),this.status=c.getParametersValue(a,"status",h.defaultValues("status")),"timeStampToken"in a&&(this.timeStampToken=c.getParametersValue(a,"timeStampToken",h.defaultValues("timeStampToken"))),"schema"in a&&this.fromSchema(a.schema)}h.defaultValues=function(a){switch(a){case"status":return new d["default"]();case"timeStampToken":return new e["default"]();default:throw new Error("Invalid member name for TimeStampResp class: "+a)}};h.compareWithDefault=function(b,c){switch(b){case"status":return d["default"].compareWithDefault("status",c.status)&&"statusStrings"in c===!1&&"failInfo"in c===!1;case"timeStampToken":return c.contentType===""&&c.content instanceof a.Any;default:throw new Error("Invalid member name for TimeStampResp class: "+b)}};h.schema=function(b){b===void 0&&(b={});b=c.getParametersValue(b,"names",{});return new a.Sequence({name:b.blockName||"TimeStampResp",value:[d["default"].schema(b.status||{names:{blockName:"TimeStampResp.status"}}),e["default"].schema(b.timeStampToken||{names:{blockName:"TimeStampResp.timeStampToken",optional:!0}})]})};var i=h.prototype;i.fromSchema=function(b){c.clearProps(b,["TimeStampResp.status","TimeStampResp.timeStampToken"]);b=a.compareSchema(b,b,h.schema());if(b.verified===!1)throw new Error("Object's schema was not verified against input data for TimeStampResp");this.status=new d["default"]({schema:b.result["TimeStampResp.status"]});"TimeStampResp.timeStampToken"in b.result&&(this.timeStampToken=new e["default"]({schema:b.result["TimeStampResp.timeStampToken"]}))};i.toSchema=function(){var b=[];b.push(this.status.toSchema());"timeStampToken"in this&&b.push(this.timeStampToken.toSchema());return new a.Sequence({value:b})};i.toJSON=function(){var a={status:this.status};"timeStampToken"in this&&(a.timeStampToken=this.timeStampToken.toJSON());return a};i.sign=function(a,c){if("timeStampToken"in this===!1)return(g||(g=b("Promise"))).reject("timeStampToken is absent in TSP response");if(this.timeStampToken.contentType!=="1.2.840.113549.1.7.2")return(g||(g=b("Promise"))).reject("Wrong format of timeStampToken: "+this.timeStampToken.contentType);var d=new e["default"]({schema:this.timeStampToken.content});return d.sign(a,0,c)};i.verify=function(a){a===void 0&&(a={signer:0,trustedCerts:[],data:new ArrayBuffer(0)});if("timeStampToken"in this===!1)return(g||(g=b("Promise"))).reject("timeStampToken is absent in TSP response");if(this.timeStampToken.contentType!=="1.2.840.113549.1.7.2")return(g||(g=b("Promise"))).reject("Wrong format of timeStampToken: "+this.timeStampToken.contentType);var c=new f["default"]({schema:this.timeStampToken.content});return c.verify(a)};return h}();wj["default"]=l}var zj=!1;function Aj(){zj||(zj=!0,yj());return xj.exports}var $={},Bj={exports:$};function Cj(){Object.defineProperty($,"__esModule",{value:!0});Object.defineProperty($,"AccessDescription",{enumerable:!0,get:function(){return b["default"]}});Object.defineProperty($,"Accuracy",{enumerable:!0,get:function(){return c["default"]}});Object.defineProperty($,"AlgorithmIdentifier",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty($,"AltName",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty($,"Attribute",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty($,"AttributeTypeAndValue",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty($,"AuthenticatedSafe",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty($,"AuthorityKeyIdentifier",{enumerable:!0,get:function(){return i["default"]}});Object.defineProperty($,"BasicConstraints",{enumerable:!0,get:function(){return j["default"]}});Object.defineProperty($,"BasicOCSPResponse",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty($,"CAVersion",{enumerable:!0,get:function(){return yb["default"]}});Object.defineProperty($,"CRLBag",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty($,"CRLDistributionPoints",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty($,"CertBag",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty($,"CertID",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty($,"Certificate",{enumerable:!0,get:function(){return q["default"]}});Object.defineProperty($,"CertificateChainValidationEngine",{enumerable:!0,get:function(){return r["default"]}});Object.defineProperty($,"CertificatePolicies",{enumerable:!0,get:function(){return s["default"]}});Object.defineProperty($,"CertificateRevocationList",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty($,"CertificateSet",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty($,"CertificateTemplate",{enumerable:!0,get:function(){return xb["default"]}});Object.defineProperty($,"CertificationRequest",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty($,"ContentInfo",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty($,"CryptoEngine",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty($,"DigestInfo",{enumerable:!0,get:function(){return A["default"]}});Object.defineProperty($,"DistributionPoint",{enumerable:!0,get:function(){return B["default"]}});Object.defineProperty($,"ECCCMSSharedInfo",{enumerable:!0,get:function(){return C["default"]}});Object.defineProperty($,"ECPrivateKey",{enumerable:!0,get:function(){return E["default"]}});Object.defineProperty($,"ECPublicKey",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty($,"EncapsulatedContentInfo",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty($,"EncryptedContentInfo",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty($,"EncryptedData",{enumerable:!0,get:function(){return J["default"]}});Object.defineProperty($,"EnvelopedData",{enumerable:!0,get:function(){return K["default"]}});Object.defineProperty($,"ExtKeyUsage",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty($,"Extension",{enumerable:!0,get:function(){return aa["default"]}});Object.defineProperty($,"Extensions",{enumerable:!0,get:function(){return ca["default"]}});Object.defineProperty($,"GeneralName",{enumerable:!0,get:function(){return da["default"]}});Object.defineProperty($,"GeneralNames",{enumerable:!0,get:function(){return ea["default"]}});Object.defineProperty($,"GeneralSubtree",{enumerable:!0,get:function(){return fa["default"]}});Object.defineProperty($,"InfoAccess",{enumerable:!0,get:function(){return M["default"]}});Object.defineProperty($,"IssuerAndSerialNumber",{enumerable:!0,get:function(){return ha["default"]}});Object.defineProperty($,"IssuingDistributionPoint",{enumerable:!0,get:function(){return ia["default"]}});Object.defineProperty($,"KEKIdentifier",{enumerable:!0,get:function(){return ja["default"]}});Object.defineProperty($,"KEKRecipientInfo",{enumerable:!0,get:function(){return la["default"]}});Object.defineProperty($,"KeyAgreeRecipientIdentifier",{enumerable:!0,get:function(){return ma["default"]}});Object.defineProperty($,"KeyAgreeRecipientInfo",{enumerable:!0,get:function(){return na["default"]}});Object.defineProperty($,"KeyBag",{enumerable:!0,get:function(){return oa["default"]}});Object.defineProperty($,"KeyTransRecipientInfo",{enumerable:!0,get:function(){return pa["default"]}});Object.defineProperty($,"MacData",{enumerable:!0,get:function(){return qa["default"]}});Object.defineProperty($,"MessageImprint",{enumerable:!0,get:function(){return ra["default"]}});Object.defineProperty($,"NameConstraints",{enumerable:!0,get:function(){return sa["default"]}});Object.defineProperty($,"OCSPRequest",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty($,"OCSPResponse",{enumerable:!0,get:function(){return ua["default"]}});Object.defineProperty($,"OriginatorIdentifierOrKey",{enumerable:!0,get:function(){return va["default"]}});Object.defineProperty($,"OriginatorInfo",{enumerable:!0,get:function(){return P["default"]}});Object.defineProperty($,"OriginatorPublicKey",{enumerable:!0,get:function(){return R["default"]}});Object.defineProperty($,"OtherCertificateFormat",{enumerable:!0,get:function(){return wa["default"]}});Object.defineProperty($,"OtherKeyAttribute",{enumerable:!0,get:function(){return xa["default"]}});Object.defineProperty($,"OtherPrimeInfo",{enumerable:!0,get:function(){return S["default"]}});Object.defineProperty($,"OtherRecipientInfo",{enumerable:!0,get:function(){return za["default"]}});Object.defineProperty($,"OtherRevocationInfoFormat",{enumerable:!0,get:function(){return Aa["default"]}});Object.defineProperty($,"PBES2Params",{enumerable:!0,get:function(){return T["default"]}});Object.defineProperty($,"PBKDF2Params",{enumerable:!0,get:function(){return U["default"]}});Object.defineProperty($,"PFX",{enumerable:!0,get:function(){return V["default"]}});Object.defineProperty($,"PKCS8ShroudedKeyBag",{enumerable:!0,get:function(){return Ca["default"]}});Object.defineProperty($,"PKIStatusInfo",{enumerable:!0,get:function(){return Da["default"]}});Object.defineProperty($,"PasswordRecipientinfo",{enumerable:!0,get:function(){return Ea["default"]}});Object.defineProperty($,"PolicyConstraints",{enumerable:!0,get:function(){return W["default"]}});Object.defineProperty($,"PolicyInformation",{enumerable:!0,get:function(){return Ga["default"]}});Object.defineProperty($,"PolicyMapping",{enumerable:!0,get:function(){return Ha["default"]}});Object.defineProperty($,"PolicyMappings",{enumerable:!0,get:function(){return Ia["default"]}});Object.defineProperty($,"PolicyQualifierInfo",{enumerable:!0,get:function(){return Y["default"]}});Object.defineProperty($,"PrivateKeyInfo",{enumerable:!0,get:function(){return Ja["default"]}});Object.defineProperty($,"PrivateKeyUsagePeriod",{enumerable:!0,get:function(){return Ka["default"]}});Object.defineProperty($,"PublicKeyInfo",{enumerable:!0,get:function(){return La["default"]}});Object.defineProperty($,"QCStatement",{enumerable:!0,get:function(){return Ab.QCStatement}});Object.defineProperty($,"QCStatements",{enumerable:!0,get:function(){return Ab["default"]}});Object.defineProperty($,"RSAESOAEPParams",{enumerable:!0,get:function(){return Na["default"]}});Object.defineProperty($,"RSAPrivateKey",{enumerable:!0,get:function(){return Oa["default"]}});Object.defineProperty($,"RSAPublicKey",{enumerable:!0,get:function(){return Pa["default"]}});Object.defineProperty($,"RSASSAPSSParams",{enumerable:!0,get:function(){return Qa["default"]}});Object.defineProperty($,"RecipientEncryptedKey",{enumerable:!0,get:function(){return Sa["default"]}});Object.defineProperty($,"RecipientEncryptedKeys",{enumerable:!0,get:function(){return Ta["default"]}});Object.defineProperty($,"RecipientIdentifier",{enumerable:!0,get:function(){return Ua["default"]}});Object.defineProperty($,"RecipientInfo",{enumerable:!0,get:function(){return Va["default"]}});Object.defineProperty($,"RecipientKeyIdentifier",{enumerable:!0,get:function(){return Xa["default"]}});Object.defineProperty($,"RelativeDistinguishedNames",{enumerable:!0,get:function(){return Ya["default"]}});Object.defineProperty($,"Request",{enumerable:!0,get:function(){return Za["default"]}});Object.defineProperty($,"ResponseBytes",{enumerable:!0,get:function(){return $a["default"]}});Object.defineProperty($,"ResponseData",{enumerable:!0,get:function(){return bb["default"]}});Object.defineProperty($,"RevocationInfoChoices",{enumerable:!0,get:function(){return cb["default"]}});Object.defineProperty($,"RevokedCertificate",{enumerable:!0,get:function(){return db["default"]}});Object.defineProperty($,"SafeBag",{enumerable:!0,get:function(){return eb["default"]}});Object.defineProperty($,"SafeContents",{enumerable:!0,get:function(){return gb["default"]}});Object.defineProperty($,"SecretBag",{enumerable:!0,get:function(){return hb["default"]}});Object.defineProperty($,"Signature",{enumerable:!0,get:function(){return ib["default"]}});Object.defineProperty($,"SignedAndUnsignedAttributes",{enumerable:!0,get:function(){return jb["default"]}});Object.defineProperty($,"SignedCertificateTimestamp",{enumerable:!0,get:function(){return wb.SignedCertificateTimestamp}});Object.defineProperty($,"SignedCertificateTimestampList",{enumerable:!0,get:function(){return wb["default"]}});Object.defineProperty($,"SignedData",{enumerable:!0,get:function(){return lb["default"]}});Object.defineProperty($,"SignerInfo",{enumerable:!0,get:function(){return mb["default"]}});Object.defineProperty($,"SingleResponse",{enumerable:!0,get:function(){return nb["default"]}});Object.defineProperty($,"SubjectDirectoryAttributes",{enumerable:!0,get:function(){return ob["default"]}});Object.defineProperty($,"TBSRequest",{enumerable:!0,get:function(){return qb["default"]}});Object.defineProperty($,"TSTInfo",{enumerable:!0,get:function(){return rb["default"]}});Object.defineProperty($,"Time",{enumerable:!0,get:function(){return sb["default"]}});Object.defineProperty($,"TimeStampReq",{enumerable:!0,get:function(){return tb["default"]}});Object.defineProperty($,"TimeStampResp",{enumerable:!0,get:function(){return vb["default"]}});Object.defineProperty($,"createCMSECDSASignature",{enumerable:!0,get:function(){return a.createCMSECDSASignature}});Object.defineProperty($,"createECDSASignatureFromCMS",{enumerable:!0,get:function(){return a.createECDSASignatureFromCMS}});Object.defineProperty($,"getAlgorithmByOID",{enumerable:!0,get:function(){return a.getAlgorithmByOID}});Object.defineProperty($,"getAlgorithmParameters",{enumerable:!0,get:function(){return a.getAlgorithmParameters}});Object.defineProperty($,"getCrypto",{enumerable:!0,get:function(){return a.getCrypto}});Object.defineProperty($,"getEngine",{enumerable:!0,get:function(){return a.getEngine}});Object.defineProperty($,"getHashAlgorithm",{enumerable:!0,get:function(){return a.getHashAlgorithm}});Object.defineProperty($,"getOIDByAlgorithm",{enumerable:!0,get:function(){return a.getOIDByAlgorithm}});Object.defineProperty($,"getRandomValues",{enumerable:!0,get:function(){return a.getRandomValues}});Object.defineProperty($,"kdf",{enumerable:!0,get:function(){return a.kdf}});Object.defineProperty($,"kdfWithCounter",{enumerable:!0,get:function(){return a.kdfWithCounter}});Object.defineProperty($,"setEngine",{enumerable:!0,get:function(){return a.setEngine}});Object.defineProperty($,"stringPrep",{enumerable:!0,get:function(){return a.stringPrep}});Object.defineProperty($,"verifySCTsForCertificate",{enumerable:!0,get:function(){return wb.verifySCTsForCertificate}});var a=X(),b=Z(ab()),c=Z(fb()),d=Z(o()),e=Z(kb()),f=Z(I()),g=Z(Ma()),h=Z(hh()),i=Z(Zc()),j=Z(Sb()),k=Z(Gh()),l=Z(ze()),m=Z(vc()),n=Z(ke()),p=Z(mh()),q=Z(Wd()),r=Z(Bh()),s=Z(Kc()),u=Z(ue()),v=Z(Ye()),w=Z(Lh()),x=Z(pb()),z=Z(Fa()),A=Z(Qh()),B=Z(qc()),C=Z(Yg()),E=Z(ba()),F=Z(t()),G=Z(Vh()),H=Z(ta()),J=Z(ub()),K=Z(ch()),L=Z(id()),aa=Z(Md()),ca=Z(Rd()),da=Z(Wa()),ea=Z(bc()),fa=Z(gc()),M=Z(nd()),ha=Z(sf()),ia=Z(Xb()),ja=Z(ug()),la=Z(zg()),ma=Z(ag()),na=Z(pg()),oa=Z($h()),pa=Z(Cf()),qa=Z(ei()),ra=Z(ji()),sa=Z(lc()),O=Z(Di()),ua=Z(Ni()),va=Z(Mf()),P=Z(nf()),R=Z(Hf()),wa=Z(Te()),xa=Z(Rf()),S=Z(ga()),za=Z(Jg()),Aa=Z(cf()),T=Z(Ba()),U=Z(ya()),V=Z(lj()),Ca=Z(zb()),Da=Z(qj()),Ea=Z(Eg()),W=Z(dd()),Ga=Z(Fc()),Ha=Z(Pc()),Ia=Z(Uc()),Y=Z(Ac()),Ja=Z(N()),Ka=Z(Nb()),La=Z(D()),Na=Z(Tg()),Oa=Z(ka()),Pa=Z(y()),Qa=Z(Q()),Sa=Z(fg()),Ta=Z(kg()),Ua=Z(xf()),Va=Z(Og()),Xa=Z(Wf()),Ya=Z(Ra()),Za=Z(oi()),$a=Z(Ii()),bb=Z(wh()),cb=Z(hf()),db=Z(pe()),eb=Z(Je()),gb=Z(Oe()),hb=Z(Ee()),ib=Z(yi()),jb=Z(Si()),lb=Z(gj()),mb=Z(Xi()),nb=Z(rh()),ob=Z(Ib()),qb=Z(ti()),rb=Z(bj()),sb=Z(Db()),tb=Z(vj()),vb=Z(Aj()),wb=Cb(sd()),xb=Z(xd()),yb=Z(Cd()),Ab=Cb(Hd());function Bb(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(Bb=function(a){return a?c:b})(a)}function Cb(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=Bb(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function Z(a){return a&&a.__esModule?a:{"default":a}}}var Dj=!1;function Ej(){Dj||(Dj=!0,Cj());return Bj.exports}function d(a){switch(a){case void 0:return Ej()}}e.exports=d}),null);
__d("pkijs",["pkijs-2.2.1"],(function(a,b,c,d,e,f){e.exports=b("pkijs-2.2.1")()}),null);